import{f as Ga,c as fy,P as k,r as y,u as ge,_ as my,b as gy,g as se,e as Le,h as Sh,k as v,l as yy,n as Ke,o as le,p as Dt,j as _,q as vy,t as Gt,v as De,w as we,x as _y,s as Y,y as hn,z as Ee,A as Ie,C as ue,D as Ze,E as Zs,F as de,G as by,M as Nl,H as ar,I as Xt,J as Tn,K as ns,L as zr,O as Fl,Q as yo,S as wy,U as Cu,T as Bt,V as Ty,W as Dh,X as Pu,Y as Ey,Z as Iy,$ as Rh,a0 as Su,a1 as Du,a2 as Ru,a3 as Au,a4 as xy,a5 as an,a6 as Cy,a7 as Ps,a8 as Py,a9 as Sy,aa as Dy,ab as lr,ac as Wr,ad as cr,ae as Ry,af as Ah,ag as Mh,ah as Ay,ai as My,aj as kh,a as rs,i as os,B as ln,m as ky,ak as Ss,al as Ds,R as Nn}from"./index-Dyyx1Aw4.js";import{d as Bl,A as Vy,P as Oy}from"./Password-_jEuwZPi.js";import{i as Vh,b as Oh,r as $h,c as Lh,d as Nh,e as Fh,u as Hr,f as $y,g as Ly,O as Bh,h as Ny,F as ss,I as is,a as as}from"./OutlinedInput-CgRuhfe4.js";import{u as jl}from"./useMediaQuery-CpqS0rwr.js";import{B as vo}from"./Button-CCWpz4p-.js";import{c as Fy,a as By,u as jy,o as Uy}from"./index.esm-mS4aRCfd.js";function zy(t,e=0,n=1){return fy(t,e,n)}function Wy(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function jh(t){if(t.type)return t;if(t.charAt(0)==="#")return jh(Wy(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Ga(9,t));let r=t.substring(e+1,t.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(Ga(10,o))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:o}}function Hy(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((o,s)=>s<3?parseInt(o,10):o):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Rr(t,e){return t=jh(t),e=zy(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Hy(t)}const Uh=k.oneOfType([k.func,k.object]),zh=t=>{const e=y.useRef({});return y.useEffect(()=>{e.current=t}),e.current},qy={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};var Fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),zl=Symbol.for("react.portal"),Ti=Symbol.for("react.fragment"),Ei=Symbol.for("react.strict_mode"),Ii=Symbol.for("react.profiler"),xi=Symbol.for("react.provider"),Ci=Symbol.for("react.context"),Yy=Symbol.for("react.server_context"),Pi=Symbol.for("react.forward_ref"),Si=Symbol.for("react.suspense"),Di=Symbol.for("react.suspense_list"),Ri=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),Ky=Symbol.for("react.offscreen"),Wh;Wh=Symbol.for("react.module.reference");function Wt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ul:switch(t=t.type,t){case Ti:case Ii:case Ei:case Si:case Di:return t;default:switch(t=t&&t.$$typeof,t){case Yy:case Ci:case Pi:case Ai:case Ri:case xi:return t;default:return e}}case zl:return e}}}Fe.ContextConsumer=Ci;Fe.ContextProvider=xi;Fe.Element=Ul;Fe.ForwardRef=Pi;Fe.Fragment=Ti;Fe.Lazy=Ai;Fe.Memo=Ri;Fe.Portal=zl;Fe.Profiler=Ii;Fe.StrictMode=Ei;Fe.Suspense=Si;Fe.SuspenseList=Di;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(t){return Wt(t)===Ci};Fe.isContextProvider=function(t){return Wt(t)===xi};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ul};Fe.isForwardRef=function(t){return Wt(t)===Pi};Fe.isFragment=function(t){return Wt(t)===Ti};Fe.isLazy=function(t){return Wt(t)===Ai};Fe.isMemo=function(t){return Wt(t)===Ri};Fe.isPortal=function(t){return Wt(t)===zl};Fe.isProfiler=function(t){return Wt(t)===Ii};Fe.isStrictMode=function(t){return Wt(t)===Ei};Fe.isSuspense=function(t){return Wt(t)===Si};Fe.isSuspenseList=function(t){return Wt(t)===Di};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ti||t===Ii||t===Ei||t===Si||t===Di||t===Ky||typeof t=="object"&&t!==null&&(t.$$typeof===Ai||t.$$typeof===Ri||t.$$typeof===xi||t.$$typeof===Ci||t.$$typeof===Pi||t.$$typeof===Wh||t.getModuleId!==void 0)};Fe.typeOf=Wt;function Gy(t){return ge}function Qy(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Xy(t,e){t.classList?t.classList.add(e):Qy(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Mu(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Jy(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Mu(t.className,e):t.setAttribute("class",Mu(t.className&&t.className.baseVal||"",e))}var Zy=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Xy(e,r)})},Ia=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Jy(e,r)})},Wl=function(t){my(e,t);function e(){for(var r,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return r=t.call.apply(t,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],h=d?"appear":"enter";r.addClass(u,h,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],h=d?"appear":"enter";r.removeClasses(u,h),r.addClass(u,h,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+a:l[a],h=c?d+"-active":l[a+"Active"],p=c?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:h,doneClassName:p}},r}var n=e.prototype;return n.addClass=function(o,s,i){var a=this.getClassNames(s)[i+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;s==="appear"&&i==="done"&&c&&(a+=" "+c),i==="active"&&o&&gy(o),a&&(this.appliedClasses[s][i]=a,Zy(o,a))},n.removeClasses=function(o,s){var i=this.appliedClasses[s],a=i.base,l=i.active,c=i.done;this.appliedClasses[s]={},a&&Ia(o,a),l&&Ia(o,l),c&&Ia(o,c)},n.render=function(){var o=this.props;o.classNames;var s=se(o,["classNames"]);return Le.createElement(Sh,v({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Le.Component);Wl.defaultProps={classNames:""};Wl.propTypes={};const ev={disableDefaultClasses:!1},tv=y.createContext(ev);function nv(t){const{disableDefaultClasses:e}=y.useContext(tv);return n=>e?"":t(n)}function rv(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:o=!1}=t,s=zh({badgeContent:e,max:r});let i=n;n===!1&&e===0&&!o&&(i=!0);const{badgeContent:a,max:l=r}=i?s:t,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:i,max:l,displayValue:c}}const Hh="base";function ov(t){return`${Hh}--${t}`}function sv(t,e){return`${Hh}-${t}-${e}`}function qh(t,e){const n=yy[e];return n?ov(n):sv(t,e)}function iv(t,e){const n={};return e.forEach(r=>{n[r]=qh(t,r)}),n}function ku(t){return t.substring(2).toLowerCase()}function av(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function lv(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:s="onTouchEnd"}=t,i=y.useRef(!1),a=y.useRef(null),l=y.useRef(!1),c=y.useRef(!1);y.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=Ke(e.ref,a),d=le(f=>{const m=c.current;c.current=!1;const g=Dt(a.current);if(!l.current||!a.current||"clientX"in f&&av(f,g))return;if(i.current){i.current=!1;return}let w;f.composedPath?w=f.composedPath().indexOf(a.current)>-1:w=!g.documentElement.contains(f.target)||a.current.contains(f.target),!w&&(n||!m)&&o(f)}),h=f=>m=>{c.current=!0;const g=e.props[f];g&&g(m)},p={ref:u};return s!==!1&&(p[s]=h(s)),y.useEffect(()=>{if(s!==!1){const f=ku(s),m=Dt(a.current),g=()=>{i.current=!0};return m.addEventListener(f,d),m.addEventListener("touchmove",g),()=>{m.removeEventListener(f,d),m.removeEventListener("touchmove",g)}}},[d,s]),r!==!1&&(p[r]=h(r)),y.useEffect(()=>{if(r!==!1){const f=ku(r),m=Dt(a.current);return m.addEventListener(f,d),()=>{m.removeEventListener(f,d)}}},[d,r]),_.jsx(y.Fragment,{children:y.cloneElement(e,p)})}var It="top",jt="bottom",Ut="right",xt="left",Hl="auto",ls=[It,jt,Ut,xt],Ar="start",ko="end",cv="clippingParents",Yh="viewport",to="popper",uv="reference",Vu=ls.reduce(function(t,e){return t.concat([e+"-"+Ar,e+"-"+ko])},[]),Kh=[].concat(ls,[Hl]).reduce(function(t,e){return t.concat([e,e+"-"+Ar,e+"-"+ko])},[]),dv="beforeRead",hv="read",pv="afterRead",fv="beforeMain",mv="main",gv="afterMain",yv="beforeWrite",vv="write",_v="afterWrite",bv=[dv,hv,pv,fv,mv,gv,yv,vv,_v];function cn(t){return t?(t.nodeName||"").toLowerCase():null}function Rt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function er(t){var e=Rt(t).Element;return t instanceof e||t instanceof Element}function Nt(t){var e=Rt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ql(t){if(typeof ShadowRoot>"u")return!1;var e=Rt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function wv(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},s=e.elements[n];!Nt(s)||!cn(s)||(Object.assign(s.style,r),Object.keys(o).forEach(function(i){var a=o[i];a===!1?s.removeAttribute(i):s.setAttribute(i,a===!0?"":a)}))})}function Tv(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],s=e.attributes[r]||{},i=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=i.reduce(function(l,c){return l[c]="",l},{});!Nt(o)||!cn(o)||(Object.assign(o.style,a),Object.keys(s).forEach(function(l){o.removeAttribute(l)}))})}}const Ev={name:"applyStyles",enabled:!0,phase:"write",fn:wv,effect:Tv,requires:["computeStyles"]};function rn(t){return t.split("-")[0]}var Xn=Math.max,ei=Math.min,Mr=Math.round;function Qa(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Gh(){return!/^((?!chrome|android).)*safari/i.test(Qa())}function kr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),o=1,s=1;e&&Nt(t)&&(o=t.offsetWidth>0&&Mr(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Mr(r.height)/t.offsetHeight||1);var i=er(t)?Rt(t):window,a=i.visualViewport,l=!Gh()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/o,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/o,h=r.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function Yl(t){var e=kr(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Qh(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ql(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function yn(t){return Rt(t).getComputedStyle(t)}function Iv(t){return["table","td","th"].indexOf(cn(t))>=0}function Fn(t){return((er(t)?t.ownerDocument:t.document)||window.document).documentElement}function Mi(t){return cn(t)==="html"?t:t.assignedSlot||t.parentNode||(ql(t)?t.host:null)||Fn(t)}function Ou(t){return!Nt(t)||yn(t).position==="fixed"?null:t.offsetParent}function xv(t){var e=/firefox/i.test(Qa()),n=/Trident/i.test(Qa());if(n&&Nt(t)){var r=yn(t);if(r.position==="fixed")return null}var o=Mi(t);for(ql(o)&&(o=o.host);Nt(o)&&["html","body"].indexOf(cn(o))<0;){var s=yn(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function cs(t){for(var e=Rt(t),n=Ou(t);n&&Iv(n)&&yn(n).position==="static";)n=Ou(n);return n&&(cn(n)==="html"||cn(n)==="body"&&yn(n).position==="static")?e:n||xv(t)||e}function Kl(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Eo(t,e,n){return Xn(t,ei(e,n))}function Cv(t,e,n){var r=Eo(t,e,n);return r>n?n:r}function Xh(){return{top:0,right:0,bottom:0,left:0}}function Jh(t){return Object.assign({},Xh(),t)}function Zh(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Pv=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Jh(typeof e!="number"?e:Zh(e,ls))};function Sv(t){var e,n=t.state,r=t.name,o=t.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,a=rn(n.placement),l=Kl(a),c=[xt,Ut].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!i)){var d=Pv(o.padding,n),h=Yl(s),p=l==="y"?It:xt,f=l==="y"?jt:Ut,m=n.rects.reference[u]+n.rects.reference[l]-i[l]-n.rects.popper[u],g=i[l]-n.rects.reference[l],w=cs(s),b=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,T=m/2-g/2,E=d[p],I=b-h[u]-d[f],D=b/2-h[u]/2+T,C=Eo(E,D,I),x=l;n.modifiersData[r]=(e={},e[x]=C,e.centerOffset=C-D,e)}}function Dv(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||Qh(e.elements.popper,o)&&(e.elements.arrow=o))}const Rv={name:"arrow",enabled:!0,phase:"main",fn:Sv,effect:Dv,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vr(t){return t.split("-")[1]}var Av={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mv(t,e){var n=t.x,r=t.y,o=e.devicePixelRatio||1;return{x:Mr(n*o)/o||0,y:Mr(r*o)/o||0}}function $u(t){var e,n=t.popper,r=t.popperRect,o=t.placement,s=t.variation,i=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=i.x,p=h===void 0?0:h,f=i.y,m=f===void 0?0:f,g=typeof u=="function"?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var w=i.hasOwnProperty("x"),b=i.hasOwnProperty("y"),T=xt,E=It,I=window;if(c){var D=cs(n),C="clientHeight",x="clientWidth";if(D===Rt(n)&&(D=Fn(n),yn(D).position!=="static"&&a==="absolute"&&(C="scrollHeight",x="scrollWidth")),D=D,o===It||(o===xt||o===Ut)&&s===ko){E=jt;var O=d&&D===I&&I.visualViewport?I.visualViewport.height:D[C];m-=O-r.height,m*=l?1:-1}if(o===xt||(o===It||o===jt)&&s===ko){T=Ut;var $=d&&D===I&&I.visualViewport?I.visualViewport.width:D[x];p-=$-r.width,p*=l?1:-1}}var R=Object.assign({position:a},c&&Av),N=u===!0?Mv({x:p,y:m},Rt(n)):{x:p,y:m};if(p=N.x,m=N.y,l){var V;return Object.assign({},R,(V={},V[E]=b?"0":"",V[T]=w?"0":"",V.transform=(I.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",V))}return Object.assign({},R,(e={},e[E]=b?m+"px":"",e[T]=w?p+"px":"",e.transform="",e))}function kv(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,s=n.adaptive,i=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:rn(e.placement),variation:Vr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,$u(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,$u(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Vv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:kv,data:{}};var Rs={passive:!0};function Ov(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,s=o===void 0?!0:o,i=r.resize,a=i===void 0?!0:i,l=Rt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,Rs)}),a&&l.addEventListener("resize",n.update,Rs),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Rs)}),a&&l.removeEventListener("resize",n.update,Rs)}}const $v={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ov,data:{}};var Lv={left:"right",right:"left",bottom:"top",top:"bottom"};function Ys(t){return t.replace(/left|right|bottom|top/g,function(e){return Lv[e]})}var Nv={start:"end",end:"start"};function Lu(t){return t.replace(/start|end/g,function(e){return Nv[e]})}function Gl(t){var e=Rt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Ql(t){return kr(Fn(t)).left+Gl(t).scrollLeft}function Fv(t,e){var n=Rt(t),r=Fn(t),o=n.visualViewport,s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;var c=Gh();(c||!c&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a+Ql(t),y:l}}function Bv(t){var e,n=Fn(t),r=Gl(t),o=(e=t.ownerDocument)==null?void 0:e.body,s=Xn(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=Xn(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+Ql(t),l=-r.scrollTop;return yn(o||n).direction==="rtl"&&(a+=Xn(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:i,x:a,y:l}}function Xl(t){var e=yn(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function ep(t){return["html","body","#document"].indexOf(cn(t))>=0?t.ownerDocument.body:Nt(t)&&Xl(t)?t:ep(Mi(t))}function Io(t,e){var n;e===void 0&&(e=[]);var r=ep(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),s=Rt(r),i=o?[s].concat(s.visualViewport||[],Xl(r)?r:[]):r,a=e.concat(i);return o?a:a.concat(Io(Mi(i)))}function Xa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function jv(t,e){var n=kr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Nu(t,e,n){return e===Yh?Xa(Fv(t,n)):er(e)?jv(e,n):Xa(Bv(Fn(t)))}function Uv(t){var e=Io(Mi(t)),n=["absolute","fixed"].indexOf(yn(t).position)>=0,r=n&&Nt(t)?cs(t):t;return er(r)?e.filter(function(o){return er(o)&&Qh(o,r)&&cn(o)!=="body"}):[]}function zv(t,e,n,r){var o=e==="clippingParents"?Uv(t):[].concat(e),s=[].concat(o,[n]),i=s[0],a=s.reduce(function(l,c){var u=Nu(t,c,r);return l.top=Xn(u.top,l.top),l.right=ei(u.right,l.right),l.bottom=ei(u.bottom,l.bottom),l.left=Xn(u.left,l.left),l},Nu(t,i,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function tp(t){var e=t.reference,n=t.element,r=t.placement,o=r?rn(r):null,s=r?Vr(r):null,i=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(o){case It:l={x:i,y:e.y-n.height};break;case jt:l={x:i,y:e.y+e.height};break;case Ut:l={x:e.x+e.width,y:a};break;case xt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=o?Kl(o):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Ar:l[c]=l[c]-(e[u]/2-n[u]/2);break;case ko:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Vo(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,s=n.strategy,i=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?cv:a,c=n.rootBoundary,u=c===void 0?Yh:c,d=n.elementContext,h=d===void 0?to:d,p=n.altBoundary,f=p===void 0?!1:p,m=n.padding,g=m===void 0?0:m,w=Jh(typeof g!="number"?g:Zh(g,ls)),b=h===to?uv:to,T=t.rects.popper,E=t.elements[f?b:h],I=zv(er(E)?E:E.contextElement||Fn(t.elements.popper),l,u,i),D=kr(t.elements.reference),C=tp({reference:D,element:T,strategy:"absolute",placement:o}),x=Xa(Object.assign({},T,C)),O=h===to?x:D,$={top:I.top-O.top+w.top,bottom:O.bottom-I.bottom+w.bottom,left:I.left-O.left+w.left,right:O.right-I.right+w.right},R=t.modifiersData.offset;if(h===to&&R){var N=R[o];Object.keys($).forEach(function(V){var A=[Ut,jt].indexOf(V)>=0?1:-1,P=[It,jt].indexOf(V)>=0?"y":"x";$[V]+=N[P]*A})}return $}function Wv(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,s=n.rootBoundary,i=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Kh:l,u=Vr(r),d=u?a?Vu:Vu.filter(function(f){return Vr(f)===u}):ls,h=d.filter(function(f){return c.indexOf(f)>=0});h.length===0&&(h=d);var p=h.reduce(function(f,m){return f[m]=Vo(t,{placement:m,boundary:o,rootBoundary:s,padding:i})[rn(m)],f},{});return Object.keys(p).sort(function(f,m){return p[f]-p[m]})}function Hv(t){if(rn(t)===Hl)return[];var e=Ys(t);return[Lu(t),e,Lu(e)]}function qv(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,i=n.altAxis,a=i===void 0?!0:i,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=p===void 0?!0:p,m=n.allowedAutoPlacements,g=e.options.placement,w=rn(g),b=w===g,T=l||(b||!f?[Ys(g)]:Hv(g)),E=[g].concat(T).reduce(function(ee,oe){return ee.concat(rn(oe)===Hl?Wv(e,{placement:oe,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):oe)},[]),I=e.rects.reference,D=e.rects.popper,C=new Map,x=!0,O=E[0],$=0;$<E.length;$++){var R=E[$],N=rn(R),V=Vr(R)===Ar,A=[It,jt].indexOf(N)>=0,P=A?"width":"height",M=Vo(e,{placement:R,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),B=A?V?Ut:xt:V?jt:It;I[P]>D[P]&&(B=Ys(B));var S=Ys(B),L=[];if(s&&L.push(M[N]<=0),a&&L.push(M[B]<=0,M[S]<=0),L.every(function(ee){return ee})){O=R,x=!1;break}C.set(R,L)}if(x)for(var W=f?3:1,J=function(oe){var j=E.find(function(U){var Q=C.get(U);if(Q)return Q.slice(0,oe).every(function(ne){return ne})});if(j)return O=j,"break"},z=W;z>0;z--){var H=J(z);if(H==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}const Yv={name:"flip",enabled:!0,phase:"main",fn:qv,requiresIfExists:["offset"],data:{_skip:!1}};function Fu(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Bu(t){return[It,Ut,jt,xt].some(function(e){return t[e]>=0})}function Kv(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,i=Vo(e,{elementContext:"reference"}),a=Vo(e,{altBoundary:!0}),l=Fu(i,r),c=Fu(a,o,s),u=Bu(l),d=Bu(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Gv={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Kv};function Qv(t,e,n){var r=rn(t),o=[xt,It].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,i=s[0],a=s[1];return i=i||0,a=(a||0)*o,[xt,Ut].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}function Xv(t){var e=t.state,n=t.options,r=t.name,o=n.offset,s=o===void 0?[0,0]:o,i=Kh.reduce(function(u,d){return u[d]=Qv(d,e.rects,s),u},{}),a=i[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=i}const Jv={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Xv};function Zv(t){var e=t.state,n=t.name;e.modifiersData[n]=tp({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const e_={name:"popperOffsets",enabled:!0,phase:"read",fn:Zv,data:{}};function t_(t){return t==="x"?"y":"x"}function n_(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,s=o===void 0?!0:o,i=n.altAxis,a=i===void 0?!1:i,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,f=n.tetherOffset,m=f===void 0?0:f,g=Vo(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),w=rn(e.placement),b=Vr(e.placement),T=!b,E=Kl(w),I=t_(E),D=e.modifiersData.popperOffsets,C=e.rects.reference,x=e.rects.popper,O=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,$=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(D){if(s){var V,A=E==="y"?It:xt,P=E==="y"?jt:Ut,M=E==="y"?"height":"width",B=D[E],S=B+g[A],L=B-g[P],W=p?-x[M]/2:0,J=b===Ar?C[M]:x[M],z=b===Ar?-x[M]:-C[M],H=e.elements.arrow,ee=p&&H?Yl(H):{width:0,height:0},oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Xh(),j=oe[A],U=oe[P],Q=Eo(0,C[M],ee[M]),ne=T?C[M]/2-W-Q-j-$.mainAxis:J-Q-j-$.mainAxis,q=T?-C[M]/2+W+Q+U+$.mainAxis:z+Q+U+$.mainAxis,re=e.elements.arrow&&cs(e.elements.arrow),X=re?E==="y"?re.clientTop||0:re.clientLeft||0:0,F=(V=R==null?void 0:R[E])!=null?V:0,Z=B+ne-F-X,te=B+q-F,ye=Eo(p?ei(S,Z):S,B,p?Xn(L,te):L);D[E]=ye,N[E]=ye-B}if(a){var Oe,ae=E==="x"?It:xt,he=E==="x"?jt:Ut,Pe=D[I],Ae=I==="y"?"height":"width",Xe=Pe+g[ae],rt=Pe-g[he],We=[It,xt].indexOf(w)!==-1,Ht=(Oe=R==null?void 0:R[I])!=null?Oe:0,Tt=We?Xe:Pe-C[Ae]-x[Ae]-Ht+$.altAxis,Mt=We?Pe+C[Ae]+x[Ae]-Ht-$.altAxis:rt,pn=p&&We?Cv(Tt,Pe,Mt):Eo(p?Tt:Xe,Pe,p?Mt:rt);D[I]=pn,N[I]=pn-Pe}e.modifiersData[r]=N}}const r_={name:"preventOverflow",enabled:!0,phase:"main",fn:n_,requiresIfExists:["offset"]};function o_(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function s_(t){return t===Rt(t)||!Nt(t)?Gl(t):o_(t)}function i_(t){var e=t.getBoundingClientRect(),n=Mr(e.width)/t.offsetWidth||1,r=Mr(e.height)/t.offsetHeight||1;return n!==1||r!==1}function a_(t,e,n){n===void 0&&(n=!1);var r=Nt(e),o=Nt(e)&&i_(e),s=Fn(e),i=kr(t,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((cn(e)!=="body"||Xl(s))&&(a=s_(e)),Nt(e)?(l=kr(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Ql(s))),{x:i.left+a.scrollLeft-l.x,y:i.top+a.scrollTop-l.y,width:i.width,height:i.height}}function l_(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function o(s){n.add(s.name);var i=[].concat(s.requires||[],s.requiresIfExists||[]);i.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&o(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||o(s)}),r}function c_(t){var e=l_(t);return bv.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function u_(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function d_(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var ju={placement:"bottom",modifiers:[],strategy:"absolute"};function Uu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function h_(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,s=o===void 0?ju:o;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},ju,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:u,setOptions:function(w){var b=typeof w=="function"?w(u.options):w;m(),u.options=Object.assign({},s,u.options,b),u.scrollParents={reference:er(a)?Io(a):a.contextElement?Io(a.contextElement):[],popper:Io(l)};var T=c_(d_([].concat(r,u.options.modifiers)));return u.orderedModifiers=T.filter(function(E){return E.enabled}),f(),p.update()},forceUpdate:function(){if(!h){var w=u.elements,b=w.reference,T=w.popper;if(Uu(b,T)){u.rects={reference:a_(b,cs(T),u.options.strategy==="fixed"),popper:Yl(T)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function($){return u.modifiersData[$.name]=Object.assign({},$.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var I=u.orderedModifiers[E],D=I.fn,C=I.options,x=C===void 0?{}:C,O=I.name;typeof D=="function"&&(u=D({state:u,options:x,name:O,instance:p})||u)}}}},update:u_(function(){return new Promise(function(g){p.forceUpdate(),g(u)})}),destroy:function(){m(),h=!0}};if(!Uu(a,l))return p;p.setOptions(c).then(function(g){!h&&c.onFirstUpdate&&c.onFirstUpdate(g)});function f(){u.orderedModifiers.forEach(function(g){var w=g.name,b=g.options,T=b===void 0?{}:b,E=g.effect;if(typeof E=="function"){var I=E({state:u,name:w,instance:p,options:T}),D=function(){};d.push(I||D)}})}function m(){d.forEach(function(g){return g()}),d=[]}return p}}var p_=[$v,e_,Vv,Ev,Jv,Yv,r_,Rv,Gv],f_=h_({defaultModifiers:p_});const np="Popper";function m_(t){return qh(np,t)}iv(np,["root"]);const g_=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],y_=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function v_(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function Ja(t){return typeof t=="function"?t():t}function __(t){return t.nodeType!==void 0}const b_=()=>we({root:["root"]},nv(m_)),w_={},T_=y.forwardRef(function(e,n){var r;const{anchorEl:o,children:s,direction:i,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:p={},slots:f={},TransitionProps:m}=e,g=se(e,g_),w=y.useRef(null),b=Ke(w,n),T=y.useRef(null),E=Ke(T,h),I=y.useRef(E);Gt(()=>{I.current=E},[E]),y.useImperativeHandle(h,()=>T.current,[]);const D=v_(u,i),[C,x]=y.useState(D),[O,$]=y.useState(Ja(o));y.useEffect(()=>{T.current&&T.current.forceUpdate()}),y.useEffect(()=>{o&&$(Ja(o))},[o]),Gt(()=>{if(!O||!c)return;const P=S=>{x(S.placement)};let M=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:S})=>{P(S)}}];l!=null&&(M=M.concat(l)),d&&d.modifiers!=null&&(M=M.concat(d.modifiers));const B=f_(O,w.current,v({placement:D},d,{modifiers:M}));return I.current(B),()=>{B.destroy(),I.current(null)}},[O,a,l,c,d,D]);const R={placement:C};m!==null&&(R.TransitionProps=m);const N=b_(),V=(r=f.root)!=null?r:"div",A=De({elementType:V,externalSlotProps:p.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:b},ownerState:e,className:N.root});return _.jsx(V,v({},A,{children:typeof s=="function"?s(R):s}))}),E_=y.forwardRef(function(e,n){const{anchorEl:r,children:o,container:s,direction:i="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=w_,popperRef:p,style:f,transition:m=!1,slotProps:g={},slots:w={}}=e,b=se(e,y_),[T,E]=y.useState(!0),I=()=>{E(!1)},D=()=>{E(!0)};if(!l&&!u&&(!m||T))return null;let C;if(s)C=s;else if(r){const $=Ja(r);C=$&&__($)?Dt($).body:Dt(null).body}const x=!u&&l&&(!m||T)?"none":void 0,O=m?{in:u,onEnter:I,onExited:D}:void 0;return _.jsx(vy,{disablePortal:a,container:C,children:_.jsx(T_,v({anchorEl:r,direction:i,disablePortal:a,modifiers:c,ref:n,open:m?!T:u,placement:d,popperOptions:h,popperRef:p,slotProps:g,slots:w},b,{style:v({position:"fixed",top:0,left:0,display:x},f),TransitionProps:O,children:o}))})});var Jl={};Object.defineProperty(Jl,"__esModule",{value:!0});var rp=Jl.default=void 0,I_=C_(y),x_=_y;function op(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(op=function(r){return r?n:e})(t)}function C_(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=op(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var i=o?Object.getOwnPropertyDescriptor(t,s):null;i&&(i.get||i.set)?Object.defineProperty(r,s,i):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function P_(t){return Object.keys(t).length===0}function S_(t=null){const e=I_.useContext(x_.ThemeContext);return!e||P_(e)?t:e}rp=Jl.default=S_;const D_=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],R_=Y(E_,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Zl=y.forwardRef(function(e,n){var r;const o=rp(),s=ge({props:e,name:"MuiPopper"}),{anchorEl:i,component:a,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:f,placement:m,popperOptions:g,popperRef:w,transition:b,slots:T,slotProps:E}=s,I=se(s,D_),D=(r=T==null?void 0:T.root)!=null?r:l==null?void 0:l.Root,C=v({anchorEl:i,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:f,placement:m,popperOptions:g,popperRef:w,transition:b},I);return _.jsx(R_,v({as:a,direction:o==null?void 0:o.direction,slots:{root:D},slotProps:E??c},C,{ref:n}))}),A_=hn(_.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function M_(t){return Ie("MuiChip",t)}const ke=Ee("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),k_=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],V_=t=>{const{classes:e,disabled:n,size:r,color:o,iconColor:s,onDelete:i,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${ue(r)}`,`color${ue(o)}`,a&&"clickable",a&&`clickableColor${ue(o)}`,i&&"deletable",i&&`deletableColor${ue(o)}`,`${l}${ue(o)}`],label:["label",`label${ue(r)}`],avatar:["avatar",`avatar${ue(r)}`,`avatarColor${ue(o)}`],icon:["icon",`icon${ue(r)}`,`iconColor${ue(s)}`],deleteIcon:["deleteIcon",`deleteIcon${ue(r)}`,`deleteIconColor${ue(o)}`,`deleteIcon${ue(l)}Color${ue(o)}`]};return we(c,M_,e)},O_=Y("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:o,clickable:s,onDelete:i,size:a,variant:l}=n;return[{[`& .${ke.avatar}`]:e.avatar},{[`& .${ke.avatar}`]:e[`avatar${ue(a)}`]},{[`& .${ke.avatar}`]:e[`avatarColor${ue(r)}`]},{[`& .${ke.icon}`]:e.icon},{[`& .${ke.icon}`]:e[`icon${ue(a)}`]},{[`& .${ke.icon}`]:e[`iconColor${ue(o)}`]},{[`& .${ke.deleteIcon}`]:e.deleteIcon},{[`& .${ke.deleteIcon}`]:e[`deleteIcon${ue(a)}`]},{[`& .${ke.deleteIcon}`]:e[`deleteIconColor${ue(r)}`]},{[`& .${ke.deleteIcon}`]:e[`deleteIcon${ue(l)}Color${ue(r)}`]},e.root,e[`size${ue(a)}`],e[`color${ue(r)}`],s&&e.clickable,s&&r!=="default"&&e[`clickableColor${ue(r)})`],i&&e.deletable,i&&r!=="default"&&e[`deletableColor${ue(r)}`],e[l],e[`${l}${ue(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return v({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ke.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ke.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${ke.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${ke.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${ke.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${ke.icon}`]:v({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&v({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${ke.deleteIcon}`]:v({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Ze(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Ze(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:Ze(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${ke.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ze(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${ke.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>v({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ze(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${ke.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ze(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${ke.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>v({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${ke.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${ke.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${ke.avatar}`]:{marginLeft:4},[`& .${ke.avatarSmall}`]:{marginLeft:2},[`& .${ke.icon}`]:{marginLeft:4},[`& .${ke.iconSmall}`]:{marginLeft:2},[`& .${ke.deleteIcon}`]:{marginRight:5},[`& .${ke.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Ze(t.palette[e.color].main,.7)}`,[`&.${ke.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ze(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${ke.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Ze(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${ke.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Ze(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),$_=Y("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${ue(r)}`]]}})(({ownerState:t})=>v({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function zu(t){return t.key==="Backspace"||t.key==="Delete"}const L_=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiChip"}),{avatar:o,className:s,clickable:i,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:p,onDelete:f,onKeyDown:m,onKeyUp:g,size:w="medium",variant:b="filled",tabIndex:T,skipFocusWhenDisabled:E=!1}=r,I=se(r,k_),D=y.useRef(null),C=Ke(D,n),x=L=>{L.stopPropagation(),f&&f(L)},O=L=>{L.currentTarget===L.target&&zu(L)&&L.preventDefault(),m&&m(L)},$=L=>{L.currentTarget===L.target&&(f&&zu(L)?f(L):L.key==="Escape"&&D.current&&D.current.blur()),g&&g(L)},R=i!==!1&&p?!0:i,N=R||f?Zs:l||"div",V=v({},r,{component:N,disabled:u,size:w,color:a,iconColor:y.isValidElement(d)&&d.props.color||a,onDelete:!!f,clickable:R,variant:b}),A=V_(V),P=N===Zs?v({component:l||"div",focusVisibleClassName:A.focusVisible},f&&{disableRipple:!0}):{};let M=null;f&&(M=c&&y.isValidElement(c)?y.cloneElement(c,{className:de(c.props.className,A.deleteIcon),onClick:x}):_.jsx(A_,{className:de(A.deleteIcon),onClick:x}));let B=null;o&&y.isValidElement(o)&&(B=y.cloneElement(o,{className:de(A.avatar,o.props.className)}));let S=null;return d&&y.isValidElement(d)&&(S=y.cloneElement(d,{className:de(A.icon,d.props.className)})),_.jsxs(O_,v({as:N,className:de(A.root,s),disabled:R&&u?!0:void 0,onClick:p,onKeyDown:O,onKeyUp:$,ref:C,tabIndex:E&&u?-1:T,ownerState:V},P,I,{children:[B||S,_.jsx($_,{className:de(A.label),ownerState:V,children:h}),M]}))});function N_(t){return Ie("MuiInput",t)}const no=v({},Vh,Ee("MuiInput",["root","underline","input"]));function F_(t){return Ie("MuiFilledInput",t)}const Wn=v({},Vh,Ee("MuiFilledInput",["root","underline","input"])),B_=hn(_.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function j_(t){return Ie("MuiBadge",t)}const xn=Ee("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),U_=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],xa=10,Ca=4,z_=Gy(),W_=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:o,variant:s,classes:i={}}=t,a={root:["root"],badge:["badge",s,r&&"invisible",`anchorOrigin${ue(n.vertical)}${ue(n.horizontal)}`,`anchorOrigin${ue(n.vertical)}${ue(n.horizontal)}${ue(o)}`,`overlap${ue(o)}`,e!=="default"&&`color${ue(e)}`]};return we(a,j_,i)},H_=Y("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),q_=Y("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${ue(n.anchorOrigin.vertical)}${ue(n.anchorOrigin.horizontal)}${ue(n.overlap)}`],n.color!=="default"&&e[`color${ue(n.color)}`],n.invisible&&e.invisible]}})(({theme:t})=>{var e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:xa*2,lineHeight:1,padding:"0 6px",height:xa*2,borderRadius:xa,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(n=>{var r,o;return((r=t.vars)!=null?r:t).palette[n].main&&((o=t.vars)!=null?o:t).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Ca,height:Ca*2,minWidth:Ca*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${xn.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${xn.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${xn.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${xn.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${xn.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${xn.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${xn.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${xn.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}}),Y_=y.forwardRef(function(e,n){var r,o,s,i,a,l;const c=z_({props:e,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:d,component:h,components:p={},componentsProps:f={},children:m,overlap:g="rectangular",color:w="default",invisible:b=!1,max:T=99,badgeContent:E,slots:I,slotProps:D,showZero:C=!1,variant:x="standard"}=c,O=se(c,U_),{badgeContent:$,invisible:R,max:N,displayValue:V}=rv({max:T,invisible:b,badgeContent:E,showZero:C}),A=zh({anchorOrigin:u,color:w,overlap:g,variant:x,badgeContent:E}),P=R||$==null&&x!=="dot",{color:M=w,overlap:B=g,anchorOrigin:S=u,variant:L=x}=P?A:c,W=L!=="dot"?V:void 0,J=v({},c,{badgeContent:$,invisible:P,max:N,displayValue:W,showZero:C,anchorOrigin:S,color:M,overlap:B,variant:L}),z=W_(J),H=(r=(o=I==null?void 0:I.root)!=null?o:p.Root)!=null?r:H_,ee=(s=(i=I==null?void 0:I.badge)!=null?i:p.Badge)!=null?s:q_,oe=(a=D==null?void 0:D.root)!=null?a:f.root,j=(l=D==null?void 0:D.badge)!=null?l:f.badge,U=De({elementType:H,externalSlotProps:oe,externalForwardedProps:O,additionalProps:{ref:n,as:h},ownerState:J,className:de(oe==null?void 0:oe.className,z.root,d)}),Q=De({elementType:ee,externalSlotProps:j,ownerState:J,className:de(z.badge,j==null?void 0:j.className)});return _.jsxs(H,v({},U,{children:[m,_.jsx(ee,v({},Q,{children:W}))]}))});function K_(t){return Ie("MuiDialog",t)}const xo=Ee("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),G_=y.createContext({}),Q_=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],X_=Y(by,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),J_=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:o,fullScreen:s}=t,i={root:["root"],container:["container",`scroll${ue(n)}`],paper:["paper",`paperScroll${ue(n)}`,`paperWidth${ue(String(r))}`,o&&"paperFullWidth",s&&"paperFullScreen"]};return we(i,K_,e)},Z_=Y(Nl,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),eb=Y("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${ue(n.scroll)}`]]}})(({ownerState:t})=>v({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),tb=Y(ar,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${ue(n.scroll)}`],e[`paperWidth${ue(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>v({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${xo.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${xo.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${xo.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),nb=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDialog"}),o=Xt(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:f=!1,maxWidth:m="sm",onBackdropClick:g,onClose:w,open:b,PaperComponent:T=ar,PaperProps:E={},scroll:I="paper",TransitionComponent:D=ns,transitionDuration:C=s,TransitionProps:x}=r,O=se(r,Q_),$=v({},r,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:f,maxWidth:m,scroll:I}),R=J_($),N=y.useRef(),V=B=>{N.current=B.target===B.currentTarget},A=B=>{N.current&&(N.current=null,g&&g(B),w&&w(B,"backdropClick"))},P=Tn(a),M=y.useMemo(()=>({titleId:P}),[P]);return _.jsx(Z_,v({className:de(R.root,d),closeAfterTransition:!0,components:{Backdrop:X_},componentsProps:{backdrop:v({transitionDuration:C,as:l},c)},disableEscapeKeyDown:h,onClose:w,open:b,ref:n,onClick:A,ownerState:$},O,{children:_.jsx(D,v({appear:!0,in:b,timeout:C,role:"presentation"},x,{children:_.jsx(eb,{className:de(R.container),onMouseDown:V,ownerState:$,children:_.jsx(tb,v({as:T,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":P},E,{className:de(R.paper,E.className),ownerState:$,children:_.jsx(G_.Provider,{value:M,children:u})}))})}))}))});function rb(t){return Ie("MuiDialogActions",t)}Ee("MuiDialogActions",["root","spacing"]);const ob=["className","disableSpacing"],sb=t=>{const{classes:e,disableSpacing:n}=t;return we({root:["root",!n&&"spacing"]},rb,e)},ib=Y("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>v({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),ab=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDialogActions"}),{className:o,disableSpacing:s=!1}=r,i=se(r,ob),a=v({},r,{disableSpacing:s}),l=sb(a);return _.jsx(ib,v({className:de(l.root,o),ownerState:a,ref:n},i))});function lb(t){return Ie("MuiDialogContent",t)}Ee("MuiDialogContent",["root","dividers"]);const cb=Ee("MuiDialogTitle",["root"]),ub=["className","dividers"],db=t=>{const{classes:e,dividers:n}=t;return we({root:["root",n&&"dividers"]},lb,e)},hb=Y("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>v({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${cb.root} + &`]:{paddingTop:0}})),pb=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDialogContent"}),{className:o,dividers:s=!1}=r,i=se(r,ub),a=v({},r,{dividers:s}),l=db(a);return _.jsx(hb,v({className:de(l.root,o),ownerState:a,ref:n},i))}),fb=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],mb=t=>{const{classes:e,disableUnderline:n}=t,o=we({root:["root",!n&&"underline"],input:["input"]},F_,e);return v({},e,o)},gb=Y(Oh,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...$h(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",o=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return v({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Wn.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Wn.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wn.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wn.disabled}, .${Wn.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Wn.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&v({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),yb=Y(Lh,{name:"MuiFilledInput",slot:"Input",overridesResolver:Nh})(({theme:t,ownerState:e})=>v({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),ec=y.forwardRef(function(e,n){var r,o,s,i;const a=ge({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:f={},type:m="text"}=a,g=se(a,fb),w=v({},a,{fullWidth:u,inputComponent:d,multiline:h,type:m}),b=mb(a),T={root:{ownerState:w},input:{ownerState:w}},E=p??c?Fl(T,p??c):T,I=(r=(o=f.root)!=null?o:l.Root)!=null?r:gb,D=(s=(i=f.input)!=null?i:l.Input)!=null?s:yb;return _.jsx(Fh,v({slots:{root:I,input:D},componentsProps:E,fullWidth:u,inputComponent:d,multiline:h,ref:n,type:m},g,{classes:b}))});ec.muiName="Input";const vb=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Za(t){return`scale(${t}, ${t**2})`}const _b={entering:{opacity:1,transform:Za(1)},entered:{opacity:1,transform:"none"}},Pa=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Oo=y.forwardRef(function(e,n){const{addEndListener:r,appear:o=!0,children:s,easing:i,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:g=Sh}=e,w=se(e,vb),b=yo(),T=y.useRef(),E=Xt(),I=y.useRef(null),D=Ke(I,s.ref,n),C=P=>M=>{if(P){const B=I.current;M===void 0?P(B):P(B,M)}},x=C(u),O=C((P,M)=>{wy(P);const{duration:B,delay:S,easing:L}=Cu({style:f,timeout:m,easing:i},{mode:"enter"});let W;m==="auto"?(W=E.transitions.getAutoHeightDuration(P.clientHeight),T.current=W):W=B,P.style.transition=[E.transitions.create("opacity",{duration:W,delay:S}),E.transitions.create("transform",{duration:Pa?W:W*.666,delay:S,easing:L})].join(","),l&&l(P,M)}),$=C(c),R=C(p),N=C(P=>{const{duration:M,delay:B,easing:S}=Cu({style:f,timeout:m,easing:i},{mode:"exit"});let L;m==="auto"?(L=E.transitions.getAutoHeightDuration(P.clientHeight),T.current=L):L=M,P.style.transition=[E.transitions.create("opacity",{duration:L,delay:B}),E.transitions.create("transform",{duration:Pa?L:L*.666,delay:Pa?B:B||L*.333,easing:S})].join(","),P.style.opacity=0,P.style.transform=Za(.75),d&&d(P)}),V=C(h),A=P=>{m==="auto"&&b.start(T.current||0,P),r&&r(I.current,P)};return _.jsx(g,v({appear:o,in:a,nodeRef:I,onEnter:O,onEntered:$,onEntering:x,onExit:N,onExited:V,onExiting:R,addEndListener:A,timeout:m==="auto"?null:m},w,{children:(P,M)=>y.cloneElement(s,v({style:v({opacity:0,transform:Za(.75),visibility:P==="exited"&&!a?"hidden":void 0},_b[P],f,s.props.style),ref:D},M))}))});Oo.muiSupportAuto=!0;const bb=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],wb=t=>{const{classes:e,disableUnderline:n}=t,o=we({root:["root",!n&&"underline"],input:["input"]},N_,e);return v({},e,o)},Tb=Y(Oh,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...$h(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),v({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${no.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${no.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${no.disabled}, .${no.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${no.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Eb=Y(Lh,{name:"MuiInput",slot:"Input",overridesResolver:Nh})({}),tc=y.forwardRef(function(e,n){var r,o,s,i;const a=ge({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:f,slots:m={},type:g="text"}=a,w=se(a,bb),b=wb(a),E={root:{ownerState:{disableUnderline:l}}},I=f??u?Fl(f??u,E):E,D=(r=(o=m.root)!=null?o:c.Root)!=null?r:Tb,C=(s=(i=m.input)!=null?i:c.Input)!=null?s:Eb;return _.jsx(Fh,v({slots:{root:D,input:C},slotProps:I,fullWidth:d,inputComponent:h,multiline:p,ref:n,type:g},w,{classes:b}))});tc.muiName="Input";function Ib(t){return Ie("MuiInputAdornment",t)}const Wu=Ee("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Hu;const xb=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Cb=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${ue(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},Pb=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:o,size:s,variant:i}=t,a={root:["root",n&&"disablePointerEvents",o&&`position${ue(o)}`,i,r&&"hiddenLabel",s&&`size${ue(s)}`]};return we(a,Ib,e)},Sb=Y("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Cb})(({theme:t,ownerState:e})=>v({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${Wu.positionStart}&:not(.${Wu.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),sp=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiInputAdornment"}),{children:o,className:s,component:i="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u}=r,d=se(r,xb),h=Hr()||{};let p=u;u&&h.variant,h&&!p&&(p=h.variant);const f=v({},r,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:c,variant:p}),m=Pb(f);return _.jsx($y.Provider,{value:null,children:_.jsx(Sb,v({as:i,ownerState:f,className:de(m.root,s),ref:n},d,{children:typeof o=="string"&&!l?_.jsx(Bt,{color:"text.secondary",children:o}):_.jsxs(y.Fragment,{children:[c==="start"?Hu||(Hu=_.jsx("span",{className:"notranslate",children:"​"})):null,o]})}))})}),Db=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Sa(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function qu(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function ip(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function ro(t,e,n,r,o,s){let i=!1,a=o(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(i)return!1;i=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!ip(a,s)||l)a=o(t,a,n);else return a.focus(),!0}return!1}const ap=y.forwardRef(function(e,n){const{actions:r,autoFocus:o=!1,autoFocusItem:s=!1,children:i,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=se(e,Db),p=y.useRef(null),f=y.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Gt(()=>{o&&p.current.focus()},[o]),y.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(T,{direction:E})=>{const I=!p.current.style.width;if(T.clientHeight<p.current.clientHeight&&I){const D=`${Ty(Dt(T))}px`;p.current.style[E==="rtl"?"paddingLeft":"paddingRight"]=D,p.current.style.width=`calc(100% + ${D})`}return p.current}}),[]);const m=T=>{const E=p.current,I=T.key,D=Dt(E).activeElement;if(I==="ArrowDown")T.preventDefault(),ro(E,D,c,l,Sa);else if(I==="ArrowUp")T.preventDefault(),ro(E,D,c,l,qu);else if(I==="Home")T.preventDefault(),ro(E,null,c,l,Sa);else if(I==="End")T.preventDefault(),ro(E,null,c,l,qu);else if(I.length===1){const C=f.current,x=I.toLowerCase(),O=performance.now();C.keys.length>0&&(O-C.lastTime>500?(C.keys=[],C.repeating=!0,C.previousKeyMatched=!0):C.repeating&&x!==C.keys[0]&&(C.repeating=!1)),C.lastTime=O,C.keys.push(x);const $=D&&!C.repeating&&ip(D,C);C.previousKeyMatched&&($||ro(E,D,!1,l,Sa,C))?T.preventDefault():C.previousKeyMatched=!1}u&&u(T)},g=Ke(p,n);let w=-1;y.Children.forEach(i,(T,E)=>{if(!y.isValidElement(T)){w===E&&(w+=1,w>=i.length&&(w=-1));return}T.props.disabled||(d==="selectedMenu"&&T.props.selected||w===-1)&&(w=E),w===E&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(w+=1,w>=i.length&&(w=-1))});const b=y.Children.map(i,(T,E)=>{if(E===w){const I={};return s&&(I.autoFocus=!0),T.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),y.cloneElement(T,I)}return T});return _.jsx(Dh,v({role:"menu",ref:g,className:a,onKeyDown:m,tabIndex:o?0:-1},h,{children:b}))});function Rb(t){return Ie("MuiPopover",t)}Ee("MuiPopover",["root","paper"]);const Ab=["onEntering"],Mb=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],kb=["slotProps"];function Yu(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function Ku(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function Gu(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Da(t){return typeof t=="function"?t():t}const Vb=t=>{const{classes:e}=t;return we({root:["root"],paper:["paper"]},Rb,e)},Ob=Y(Nl,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),lp=Y(ar,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),$b=y.forwardRef(function(e,n){var r,o,s;const i=ge({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:f,elevation:m=8,marginThreshold:g=16,open:w,PaperProps:b={},slots:T,slotProps:E,transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:D=Oo,transitionDuration:C="auto",TransitionProps:{onEntering:x}={},disableScrollLock:O=!1}=i,$=se(i.TransitionProps,Ab),R=se(i,Mb),N=(r=E==null?void 0:E.paper)!=null?r:b,V=y.useRef(),A=Ke(V,N.ref),P=v({},i,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:N,transformOrigin:I,TransitionComponent:D,transitionDuration:C,TransitionProps:$}),M=Vb(P),B=y.useCallback(()=>{if(d==="anchorPosition")return u;const F=Da(l),te=(F&&F.nodeType===1?F:Dt(V.current).body).getBoundingClientRect();return{top:te.top+Yu(te,c.vertical),left:te.left+Ku(te,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),S=y.useCallback(F=>({vertical:Yu(F,I.vertical),horizontal:Ku(F,I.horizontal)}),[I.horizontal,I.vertical]),L=y.useCallback(F=>{const Z={width:F.offsetWidth,height:F.offsetHeight},te=S(Z);if(d==="none")return{top:null,left:null,transformOrigin:Gu(te)};const ye=B();let Oe=ye.top-te.vertical,ae=ye.left-te.horizontal;const he=Oe+Z.height,Pe=ae+Z.width,Ae=Pu(Da(l)),Xe=Ae.innerHeight-g,rt=Ae.innerWidth-g;if(g!==null&&Oe<g){const We=Oe-g;Oe-=We,te.vertical+=We}else if(g!==null&&he>Xe){const We=he-Xe;Oe-=We,te.vertical+=We}if(g!==null&&ae<g){const We=ae-g;ae-=We,te.horizontal+=We}else if(Pe>rt){const We=Pe-rt;ae-=We,te.horizontal+=We}return{top:`${Math.round(Oe)}px`,left:`${Math.round(ae)}px`,transformOrigin:Gu(te)}},[l,d,B,S,g]),[W,J]=y.useState(w),z=y.useCallback(()=>{const F=V.current;if(!F)return;const Z=L(F);Z.top!==null&&(F.style.top=Z.top),Z.left!==null&&(F.style.left=Z.left),F.style.transformOrigin=Z.transformOrigin,J(!0)},[L]);y.useEffect(()=>(O&&window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)),[l,O,z]);const H=(F,Z)=>{x&&x(F,Z),z()},ee=()=>{J(!1)};y.useEffect(()=>{w&&z()}),y.useImperativeHandle(a,()=>w?{updatePosition:()=>{z()}}:null,[w,z]),y.useEffect(()=>{if(!w)return;const F=Ey(()=>{z()}),Z=Pu(l);return Z.addEventListener("resize",F),()=>{F.clear(),Z.removeEventListener("resize",F)}},[l,w,z]);let oe=C;C==="auto"&&!D.muiSupportAuto&&(oe=void 0);const j=f||(l?Dt(Da(l)).body:void 0),U=(o=T==null?void 0:T.root)!=null?o:Ob,Q=(s=T==null?void 0:T.paper)!=null?s:lp,ne=De({elementType:Q,externalSlotProps:v({},N,{style:W?N.style:v({},N.style,{opacity:0})}),additionalProps:{elevation:m,ref:A},ownerState:P,className:de(M.paper,N==null?void 0:N.className)}),q=De({elementType:U,externalSlotProps:(E==null?void 0:E.root)||{},externalForwardedProps:R,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:j,open:w},ownerState:P,className:de(M.root,p)}),{slotProps:re}=q,X=se(q,kb);return _.jsx(U,v({},X,!Iy(U)&&{slotProps:re,disableScrollLock:O},{children:_.jsx(D,v({appear:!0,in:w,onEntering:H,onExited:ee,timeout:oe},$,{children:_.jsx(Q,v({},ne,{children:h}))}))}))});function Lb(t){return Ie("MuiMenu",t)}Ee("MuiMenu",["root","paper","list"]);const Nb=["onEntering"],Fb=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Bb={vertical:"top",horizontal:"right"},jb={vertical:"top",horizontal:"left"},Ub=t=>{const{classes:e}=t;return we({root:["root"],paper:["paper"],list:["list"]},Lb,e)},zb=Y($b,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Wb=Y(lp,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Hb=Y(ap,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),qb=y.forwardRef(function(e,n){var r,o;const s=ge({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:f,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:w="selectedMenu",slots:b={},slotProps:T={}}=s,E=se(s.TransitionProps,Nb),I=se(s,Fb),D=Rh(),C=v({},s,{autoFocus:i,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:p,transitionDuration:m,TransitionProps:E,variant:w}),x=Ub(C),O=i&&!c&&h,$=y.useRef(null),R=(S,L)=>{$.current&&$.current.adjustStyleForScrollbar(S,{direction:D?"rtl":"ltr"}),g&&g(S,L)},N=S=>{S.key==="Tab"&&(S.preventDefault(),d&&d(S,"tabKeyDown"))};let V=-1;y.Children.map(a,(S,L)=>{y.isValidElement(S)&&(S.props.disabled||(w==="selectedMenu"&&S.props.selected||V===-1)&&(V=L))});const A=(r=b.paper)!=null?r:Wb,P=(o=T.paper)!=null?o:p,M=De({elementType:b.root,externalSlotProps:T.root,ownerState:C,className:[x.root,l]}),B=De({elementType:A,externalSlotProps:P,ownerState:C,className:x.paper});return _.jsx(zb,v({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:D?"right":"left"},transformOrigin:D?Bb:jb,slots:{paper:A,root:b.root},slotProps:{root:M,paper:B},open:h,ref:n,transitionDuration:m,TransitionProps:v({onEntering:R},E),ownerState:C},I,{classes:f,children:_.jsx(Hb,v({onKeyDown:N,actions:$,autoFocus:i&&(V===-1||c),autoFocusItem:O,variant:w},u,{className:de(x.list,u.className),children:a}))}))});function Yb(t){return Ie("MuiMenuItem",t)}const oo=Ee("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Kb=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Gb=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Qb=t=>{const{disabled:e,dense:n,divider:r,disableGutters:o,selected:s,classes:i}=t,l=we({root:["root",n&&"dense",e&&"disabled",!o&&"gutters",r&&"divider",s&&"selected"]},Yb,i);return v({},i,l)},Xb=Y(Zs,{shouldForwardProp:t=>zr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Gb})(({theme:t,ownerState:e})=>v({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${oo.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${oo.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${oo.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${oo.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${oo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Du.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Du.inset}`]:{marginLeft:52},[`& .${Ru.root}`]:{marginTop:0,marginBottom:0},[`& .${Ru.inset}`]:{paddingLeft:36},[`& .${Su.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&v({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${Su.root} svg`]:{fontSize:"1.25rem"}}))),Pn=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:s="li",dense:i=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=r,p=se(r,Kb),f=y.useContext(Au),m=y.useMemo(()=>({dense:i||f.dense||!1,disableGutters:l}),[f.dense,i,l]),g=y.useRef(null);Gt(()=>{o&&g.current&&g.current.focus()},[o]);const w=v({},r,{dense:m.dense,divider:a,disableGutters:l}),b=Qb(r),T=Ke(g,n);let E;return r.disabled||(E=d!==void 0?d:-1),_.jsx(Au.Provider,{value:m,children:_.jsx(Xb,v({ref:T,role:u,tabIndex:E,component:s,focusVisibleClassName:de(b.focusVisible,c),className:de(b.root,h)},p,{ownerState:w,classes:b}))})});function Jb(t){return Ie("MuiNativeSelect",t)}const nc=Ee("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Zb=["className","disabled","error","IconComponent","inputRef","variant"],e0=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:s,error:i}=t,a={select:["select",n,r&&"disabled",o&&"multiple",i&&"error"],icon:["icon",`icon${ue(n)}`,s&&"iconOpen",r&&"disabled"]};return we(a,Jb,e)},cp=({ownerState:t,theme:e})=>v({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":v({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${nc.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),t0=Y("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:zr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${nc.multiple}`]:e.multiple}]}})(cp),up=({ownerState:t,theme:e})=>v({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${nc.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),n0=Y("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ue(n.variant)}`],n.open&&e.iconOpen]}})(up),r0=y.forwardRef(function(e,n){const{className:r,disabled:o,error:s,IconComponent:i,inputRef:a,variant:l="standard"}=e,c=se(e,Zb),u=v({},e,{disabled:o,variant:l,error:s}),d=e0(u);return _.jsxs(y.Fragment,{children:[_.jsx(t0,v({ownerState:u,className:de(d.select,r),disabled:o,ref:a||n},c)),e.multiple?null:_.jsx(n0,{as:i,ownerState:u,className:d.icon})]})});function o0(t){return Ie("MuiSelect",t)}const so=Ee("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Qu;const s0=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],i0=Y("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${so.select}`]:e.select},{[`&.${so.select}`]:e[n.variant]},{[`&.${so.error}`]:e.error},{[`&.${so.multiple}`]:e.multiple}]}})(cp,{[`&.${so.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),a0=Y("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ue(n.variant)}`],n.open&&e.iconOpen]}})(up),l0=Y("input",{shouldForwardProp:t=>xy(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Xu(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function c0(t){return t==null||typeof t=="string"&&!t.trim()}const u0=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:s,error:i}=t,a={select:["select",n,r&&"disabled",o&&"multiple",i&&"error"],icon:["icon",`icon${ue(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return we(a,o0,e)},d0=y.forwardRef(function(e,n){var r;const{"aria-describedby":o,"aria-label":s,autoFocus:i,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:f=!1,IconComponent:m,inputRef:g,labelId:w,MenuProps:b={},multiple:T,name:E,onBlur:I,onChange:D,onClose:C,onFocus:x,onOpen:O,open:$,readOnly:R,renderValue:N,SelectDisplayProps:V={},tabIndex:A,value:P,variant:M="standard"}=e,B=se(e,s0),[S,L]=an({controlled:P,default:d,name:"Select"}),[W,J]=an({controlled:$,default:u,name:"Select"}),z=y.useRef(null),H=y.useRef(null),[ee,oe]=y.useState(null),{current:j}=y.useRef($!=null),[U,Q]=y.useState(),ne=Ke(n,g),q=y.useCallback(pe=>{H.current=pe,pe&&oe(pe)},[]),re=ee==null?void 0:ee.parentNode;y.useImperativeHandle(ne,()=>({focus:()=>{H.current.focus()},node:z.current,value:S}),[S]),y.useEffect(()=>{u&&W&&ee&&!j&&(Q(a?null:re.clientWidth),H.current.focus())},[ee,a]),y.useEffect(()=>{i&&H.current.focus()},[i]),y.useEffect(()=>{if(!w)return;const pe=Dt(H.current).getElementById(w);if(pe){const Me=()=>{getSelection().isCollapsed&&H.current.focus()};return pe.addEventListener("click",Me),()=>{pe.removeEventListener("click",Me)}}},[w]);const X=(pe,Me)=>{pe?O&&O(Me):C&&C(Me),j||(Q(a?null:re.clientWidth),J(pe))},F=pe=>{pe.button===0&&(pe.preventDefault(),H.current.focus(),X(!0,pe))},Z=pe=>{X(!1,pe)},te=y.Children.toArray(l),ye=pe=>{const Me=te.find(je=>je.props.value===pe.target.value);Me!==void 0&&(L(Me.props.value),D&&D(pe,Me))},Oe=pe=>Me=>{let je;if(Me.currentTarget.hasAttribute("tabindex")){if(T){je=Array.isArray(S)?S.slice():[];const _t=S.indexOf(pe.props.value);_t===-1?je.push(pe.props.value):je.splice(_t,1)}else je=pe.props.value;if(pe.props.onClick&&pe.props.onClick(Me),S!==je&&(L(je),D)){const _t=Me.nativeEvent||Me,In=new _t.constructor(_t.type,_t);Object.defineProperty(In,"target",{writable:!0,value:{value:je,name:E}}),D(In,pe)}T||X(!1,Me)}},ae=pe=>{R||[" ","ArrowUp","ArrowDown","Enter"].indexOf(pe.key)!==-1&&(pe.preventDefault(),X(!0,pe))},he=ee!==null&&W,Pe=pe=>{!he&&I&&(Object.defineProperty(pe,"target",{writable:!0,value:{value:S,name:E}}),I(pe))};delete B["aria-invalid"];let Ae,Xe;const rt=[];let We=!1;(Ly({value:S})||p)&&(N?Ae=N(S):We=!0);const Ht=te.map(pe=>{if(!y.isValidElement(pe))return null;let Me;if(T){if(!Array.isArray(S))throw new Error(Ga(2));Me=S.some(je=>Xu(je,pe.props.value)),Me&&We&&rt.push(pe.props.children)}else Me=Xu(S,pe.props.value),Me&&We&&(Xe=pe.props.children);return y.cloneElement(pe,{"aria-selected":Me?"true":"false",onClick:Oe(pe),onKeyUp:je=>{je.key===" "&&je.preventDefault(),pe.props.onKeyUp&&pe.props.onKeyUp(je)},role:"option",selected:Me,value:void 0,"data-value":pe.props.value})});We&&(T?rt.length===0?Ae=null:Ae=rt.reduce((pe,Me,je)=>(pe.push(Me),je<rt.length-1&&pe.push(", "),pe),[]):Ae=Xe);let Tt=U;!a&&j&&ee&&(Tt=re.clientWidth);let Mt;typeof A<"u"?Mt=A:Mt=h?null:0;const pn=V.id||(E?`mui-component-select-${E}`:void 0),fn=v({},e,{variant:M,value:S,open:he,error:f}),vt=u0(fn),mn=v({},b.PaperProps,(r=b.slotProps)==null?void 0:r.paper),kt=Tn();return _.jsxs(y.Fragment,{children:[_.jsx(i0,v({ref:q,tabIndex:Mt,role:"combobox","aria-controls":kt,"aria-disabled":h?"true":void 0,"aria-expanded":he?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[w,pn].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:ae,onMouseDown:h||R?null:F,onBlur:Pe,onFocus:x},V,{ownerState:fn,className:de(V.className,vt.select,c),id:pn,children:c0(Ae)?Qu||(Qu=_.jsx("span",{className:"notranslate",children:"​"})):Ae})),_.jsx(l0,v({"aria-invalid":f,value:Array.isArray(S)?S.join(","):S,name:E,ref:z,"aria-hidden":!0,onChange:ye,tabIndex:-1,disabled:h,className:vt.nativeInput,autoFocus:i,ownerState:fn},B)),_.jsx(a0,{as:m,className:vt.icon,ownerState:fn}),_.jsx(qb,v({id:`menu-${E||""}`,anchorEl:re,open:he,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},b,{MenuListProps:v({"aria-labelledby":w,role:"listbox","aria-multiselectable":T?"true":void 0,disableListWrap:!0,id:kt},b.MenuListProps),slotProps:v({},b.slotProps,{paper:v({},mn,{style:v({minWidth:Tt},mn!=null?mn.style:null)})}),children:Ht}))]})}),h0=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],p0=["root"],f0=t=>{const{classes:e}=t;return e},rc={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>zr(t)&&t!=="variant",slot:"Root"},m0=Y(tc,rc)(""),g0=Y(Bh,rc)(""),y0=Y(ec,rc)(""),us=y.forwardRef(function(e,n){const r=ge({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:s,classes:i={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=B_,id:d,input:h,inputProps:p,label:f,labelId:m,MenuProps:g,multiple:w=!1,native:b=!1,onClose:T,onOpen:E,open:I,renderValue:D,SelectDisplayProps:C,variant:x="outlined"}=r,O=se(r,h0),$=b?r0:d0,R=Hr(),N=Ny({props:r,muiFormControl:R,states:["variant","error"]}),V=N.variant||x,A=v({},r,{variant:V,classes:i}),P=f0(A),M=se(P,p0),B=h||{standard:_.jsx(m0,{ownerState:A}),outlined:_.jsx(g0,{label:f,ownerState:A}),filled:_.jsx(y0,{ownerState:A})}[V],S=Ke(n,B.ref);return _.jsx(y.Fragment,{children:y.cloneElement(B,v({inputComponent:$,inputProps:v({children:s,error:N.error,IconComponent:u,variant:V,type:void 0,multiple:w},b?{id:d}:{autoWidth:o,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:T,onOpen:E,open:I,renderValue:D,SelectDisplayProps:v({id:d},C)},p,{classes:p?Fl(M,p.classes):M},h?h.props.inputProps:{})},(w&&b||c)&&V==="outlined"?{notched:!0}:{},{ref:S,className:de(B.props.className,a,P.root)},!h&&{variant:V},O))})});us.muiName="Select";function v0(t){return Ie("MuiTooltip",t)}const Sn=Ee("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),_0=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function b0(t){return Math.round(t*1e5)/1e5}const w0=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:o,placement:s}=t,i={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${ue(s.split("-")[0])}`],arrow:["arrow"]};return we(i,v0,e)},T0=Y(Zl,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>v({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Sn.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Sn.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Sn.arrow}`]:v({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Sn.arrow}`]:v({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),E0=Y("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${ue(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>v({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Ze(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${b0(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Sn.popper}[data-popper-placement*="left"] &`]:v({transformOrigin:"right center"},e.isRtl?v({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):v({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Sn.popper}[data-popper-placement*="right"] &`]:v({transformOrigin:"left center"},e.isRtl?v({marginRight:"14px"},e.touch&&{marginRight:"24px"}):v({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Sn.popper}[data-popper-placement*="top"] &`]:v({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Sn.popper}[data-popper-placement*="bottom"] &`]:v({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),I0=Y("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Ze(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let As=!1;const Ju=new Py;let io={x:0,y:0};function Ms(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const x0=y.forwardRef(function(e,n){var r,o,s,i,a,l,c,u,d,h,p,f,m,g,w,b,T,E,I;const D=ge({props:e,name:"MuiTooltip"}),{arrow:C=!1,children:x,components:O={},componentsProps:$={},describeChild:R=!1,disableFocusListener:N=!1,disableHoverListener:V=!1,disableInteractive:A=!1,disableTouchListener:P=!1,enterDelay:M=100,enterNextDelay:B=0,enterTouchDelay:S=700,followCursor:L=!1,id:W,leaveDelay:J=0,leaveTouchDelay:z=1500,onClose:H,onOpen:ee,open:oe,placement:j="bottom",PopperComponent:U,PopperProps:Q={},slotProps:ne={},slots:q={},title:re,TransitionComponent:X=Oo,TransitionProps:F}=D,Z=se(D,_0),te=y.isValidElement(x)?x:_.jsx("span",{children:x}),ye=Xt(),Oe=Rh(),[ae,he]=y.useState(),[Pe,Ae]=y.useState(null),Xe=y.useRef(!1),rt=A||L,We=yo(),Ht=yo(),Tt=yo(),Mt=yo(),[pn,fn]=an({controlled:oe,default:!1,name:"Tooltip",state:"open"});let vt=pn;const mn=Tn(W),kt=y.useRef(),pe=le(()=>{kt.current!==void 0&&(document.body.style.WebkitUserSelect=kt.current,kt.current=void 0),Mt.clear()});y.useEffect(()=>pe,[pe]);const Me=xe=>{Ju.clear(),As=!0,fn(!0),ee&&!vt&&ee(xe)},je=le(xe=>{Ju.start(800+J,()=>{As=!1}),fn(!1),H&&vt&&H(xe),We.start(ye.transitions.duration.shortest,()=>{Xe.current=!1})}),_t=xe=>{Xe.current&&xe.type!=="touchstart"||(ae&&ae.removeAttribute("title"),Ht.clear(),Tt.clear(),M||As&&B?Ht.start(As?B:M,()=>{Me(xe)}):Me(xe))},In=xe=>{Ht.clear(),Tt.start(J,()=>{je(xe)})},{isFocusVisibleRef:Ue,onBlur:Vt,onFocus:zn,ref:Jt}=Cy(),[,vu]=y.useState(!1),_u=xe=>{Vt(xe),Ue.current===!1&&(vu(!1),In(xe))},bu=xe=>{ae||he(xe.currentTarget),zn(xe),Ue.current===!0&&(vu(!0),_t(xe))},wu=xe=>{Xe.current=!0;const Ct=te.props;Ct.onTouchStart&&Ct.onTouchStart(xe)},sy=xe=>{wu(xe),Tt.clear(),We.clear(),pe(),kt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Mt.start(S,()=>{document.body.style.WebkitUserSelect=kt.current,_t(xe)})},iy=xe=>{te.props.onTouchEnd&&te.props.onTouchEnd(xe),pe(),Tt.start(z,()=>{je(xe)})};y.useEffect(()=>{if(!vt)return;function xe(Ct){(Ct.key==="Escape"||Ct.key==="Esc")&&je(Ct)}return document.addEventListener("keydown",xe),()=>{document.removeEventListener("keydown",xe)}},[je,vt]);const ay=Ke(te.ref,Jt,he,n);!re&&re!==0&&(vt=!1);const wa=y.useRef(),ly=xe=>{const Ct=te.props;Ct.onMouseMove&&Ct.onMouseMove(xe),io={x:xe.clientX,y:xe.clientY},wa.current&&wa.current.update()},Jr={},Ta=typeof re=="string";R?(Jr.title=!vt&&Ta&&!V?re:null,Jr["aria-describedby"]=vt?mn:null):(Jr["aria-label"]=Ta?re:null,Jr["aria-labelledby"]=vt&&!Ta?mn:null);const qt=v({},Jr,Z,te.props,{className:de(Z.className,te.props.className),onTouchStart:wu,ref:ay},L?{onMouseMove:ly}:{}),Zr={};P||(qt.onTouchStart=sy,qt.onTouchEnd=iy),V||(qt.onMouseOver=Ms(_t,qt.onMouseOver),qt.onMouseLeave=Ms(In,qt.onMouseLeave),rt||(Zr.onMouseOver=_t,Zr.onMouseLeave=In)),N||(qt.onFocus=Ms(bu,qt.onFocus),qt.onBlur=Ms(_u,qt.onBlur),rt||(Zr.onFocus=bu,Zr.onBlur=_u));const cy=y.useMemo(()=>{var xe;let Ct=[{name:"arrow",enabled:!!Pe,options:{element:Pe,padding:4}}];return(xe=Q.popperOptions)!=null&&xe.modifiers&&(Ct=Ct.concat(Q.popperOptions.modifiers)),v({},Q.popperOptions,{modifiers:Ct})},[Pe,Q]),eo=v({},D,{isRtl:Oe,arrow:C,disableInteractive:rt,placement:j,PopperComponentProp:U,touch:Xe.current}),Ea=w0(eo),Tu=(r=(o=q.popper)!=null?o:O.Popper)!=null?r:T0,Eu=(s=(i=(a=q.transition)!=null?a:O.Transition)!=null?i:X)!=null?s:Oo,Iu=(l=(c=q.tooltip)!=null?c:O.Tooltip)!=null?l:E0,xu=(u=(d=q.arrow)!=null?d:O.Arrow)!=null?u:I0,uy=Ps(Tu,v({},Q,(h=ne.popper)!=null?h:$.popper,{className:de(Ea.popper,Q==null?void 0:Q.className,(p=(f=ne.popper)!=null?f:$.popper)==null?void 0:p.className)}),eo),dy=Ps(Eu,v({},F,(m=ne.transition)!=null?m:$.transition),eo),hy=Ps(Iu,v({},(g=ne.tooltip)!=null?g:$.tooltip,{className:de(Ea.tooltip,(w=(b=ne.tooltip)!=null?b:$.tooltip)==null?void 0:w.className)}),eo),py=Ps(xu,v({},(T=ne.arrow)!=null?T:$.arrow,{className:de(Ea.arrow,(E=(I=ne.arrow)!=null?I:$.arrow)==null?void 0:E.className)}),eo);return _.jsxs(y.Fragment,{children:[y.cloneElement(te,qt),_.jsx(Tu,v({as:U??Zl,placement:j,anchorEl:L?{getBoundingClientRect:()=>({top:io.y,left:io.x,right:io.x,bottom:io.y,width:0,height:0})}:ae,popperRef:wa,open:ae?vt:!1,id:mn,transition:!0},Zr,uy,{popperOptions:cy,children:({TransitionProps:xe})=>_.jsx(Eu,v({timeout:ye.transitions.duration.shorter},xe,dy,{children:_.jsxs(Iu,v({},hy,{children:[re,C?_.jsx(xu,v({},py,{ref:Ae})):null]}))}))}))]})}),dp=y.createContext();function C0(t){return Ie("MuiTable",t)}Ee("MuiTable",["root","stickyHeader"]);const P0=["className","component","padding","size","stickyHeader"],S0=t=>{const{classes:e,stickyHeader:n}=t;return we({root:["root",n&&"stickyHeader"]},C0,e)},D0=Y("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>v({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":v({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),Zu="table",R0=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTable"}),{className:o,component:s=Zu,padding:i="normal",size:a="medium",stickyHeader:l=!1}=r,c=se(r,P0),u=v({},r,{component:s,padding:i,size:a,stickyHeader:l}),d=S0(u),h=y.useMemo(()=>({padding:i,size:a,stickyHeader:l}),[i,a,l]);return _.jsx(dp.Provider,{value:h,children:_.jsx(D0,v({as:s,role:s===Zu?null:"table",ref:n,className:de(d.root,o),ownerState:u},c))})}),ki=y.createContext();function A0(t){return Ie("MuiTableBody",t)}Ee("MuiTableBody",["root"]);const M0=["className","component"],k0=t=>{const{classes:e}=t;return we({root:["root"]},A0,e)},V0=Y("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),O0={variant:"body"},ed="tbody",$0=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableBody"}),{className:o,component:s=ed}=r,i=se(r,M0),a=v({},r,{component:s}),l=k0(a);return _.jsx(ki.Provider,{value:O0,children:_.jsx(V0,v({className:de(l.root,o),as:s,ref:n,role:s===ed?null:"rowgroup",ownerState:a},i))})});function L0(t){return Ie("MuiTableCell",t)}const N0=Ee("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),F0=["align","className","component","padding","scope","size","sortDirection","variant"],B0=t=>{const{classes:e,variant:n,align:r,padding:o,size:s,stickyHeader:i}=t,a={root:["root",n,i&&"stickyHeader",r!=="inherit"&&`align${ue(r)}`,o!=="normal"&&`padding${ue(o)}`,`size${ue(s)}`]};return we(a,L0,e)},j0=Y("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${ue(n.size)}`],n.padding!=="normal"&&e[`padding${ue(n.padding)}`],n.align!=="inherit"&&e[`align${ue(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>v({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?Sy(Ze(t.palette.divider,1),.88):Dy(Ze(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${N0.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),Cn=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableCell"}),{align:o="inherit",className:s,component:i,padding:a,scope:l,size:c,sortDirection:u,variant:d}=r,h=se(r,F0),p=y.useContext(dp),f=y.useContext(ki),m=f&&f.variant==="head";let g;i?g=i:g=m?"th":"td";let w=l;g==="td"?w=void 0:!w&&m&&(w="col");const b=d||f&&f.variant,T=v({},r,{align:o,component:g,padding:a||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:b==="head"&&p&&p.stickyHeader,variant:b}),E=B0(T);let I=null;return u&&(I=u==="asc"?"ascending":"descending"),_.jsx(j0,v({as:g,ref:n,className:de(E.root,s),"aria-sort":I,scope:w,ownerState:T},h))});function U0(t){return Ie("MuiTableContainer",t)}Ee("MuiTableContainer",["root"]);const z0=["className","component"],W0=t=>{const{classes:e}=t;return we({root:["root"]},U0,e)},H0=Y("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),q0=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableContainer"}),{className:o,component:s="div"}=r,i=se(r,z0),a=v({},r,{component:s}),l=W0(a);return _.jsx(H0,v({ref:n,as:s,className:de(l.root,o),ownerState:a},i))});function Y0(t){return Ie("MuiTableHead",t)}Ee("MuiTableHead",["root"]);const K0=["className","component"],G0=t=>{const{classes:e}=t;return we({root:["root"]},Y0,e)},Q0=Y("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),X0={variant:"head"},td="thead",J0=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableHead"}),{className:o,component:s=td}=r,i=se(r,K0),a=v({},r,{component:s}),l=G0(a);return _.jsx(ki.Provider,{value:X0,children:_.jsx(Q0,v({as:s,className:de(l.root,o),ref:n,role:s===td?null:"rowgroup",ownerState:a},i))})});function Z0(t){return Ie("MuiTableRow",t)}const nd=Ee("MuiTableRow",["root","selected","hover","head","footer"]),ew=["className","component","hover","selected"],tw=t=>{const{classes:e,selected:n,hover:r,head:o,footer:s}=t;return we({root:["root",n&&"selected",r&&"hover",o&&"head",s&&"footer"]},Z0,e)},nw=Y("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${nd.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${nd.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),rd="tr",od=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableRow"}),{className:o,component:s=rd,hover:i=!1,selected:a=!1}=r,l=se(r,ew),c=y.useContext(ki),u=v({},r,{component:s,hover:i,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),d=tw(u);return _.jsx(nw,v({as:s,ref:n,className:de(d.root,o),role:s===rd?null:"row",ownerState:u},l))});function rw(t){return Ie("MuiTextField",t)}Ee("MuiTextField",["root"]);const ow=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],sw={standard:tc,filled:ec,outlined:Bh},iw=t=>{const{classes:e}=t;return we({root:["root"]},rw,e)},aw=Y(ss,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),hp=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTextField"}),{autoComplete:o,autoFocus:s=!1,children:i,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:f,id:m,InputLabelProps:g,inputProps:w,InputProps:b,inputRef:T,label:E,maxRows:I,minRows:D,multiline:C=!1,name:x,onBlur:O,onChange:$,onFocus:R,placeholder:N,required:V=!1,rows:A,select:P=!1,SelectProps:M,type:B,value:S,variant:L="outlined"}=r,W=se(r,ow),J=v({},r,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:p,multiline:C,required:V,select:P,variant:L}),z=iw(J),H={};L==="outlined"&&(g&&typeof g.shrink<"u"&&(H.notched=g.shrink),H.label=E),P&&((!M||!M.native)&&(H.id=void 0),H["aria-describedby"]=void 0);const ee=Tn(m),oe=f&&ee?`${ee}-helper-text`:void 0,j=E&&ee?`${ee}-label`:void 0,U=sw[L],Q=_.jsx(U,v({"aria-describedby":oe,autoComplete:o,autoFocus:s,defaultValue:c,fullWidth:p,multiline:C,name:x,rows:A,maxRows:I,minRows:D,type:B,value:S,id:ee,inputRef:T,onBlur:O,onChange:$,onFocus:R,placeholder:N,inputProps:w},H,b));return _.jsxs(aw,v({className:de(z.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:V,color:l,variant:L,ownerState:J},W,{children:[E!=null&&E!==""&&_.jsx(is,v({htmlFor:ee,id:j},g,{children:E})),P?_.jsx(us,v({"aria-describedby":oe,id:ee,labelId:j,value:S,input:Q},M,{children:i})):Q,f&&_.jsx(as,v({id:oe},h,{children:f}))]}))}),lw=["localeText"],el=y.createContext(null),ds=function(e){const{localeText:n}=e,r=se(e,lw),{utils:o,localeText:s}=y.useContext(el)??{utils:void 0,localeText:void 0},i=ge({props:r,name:"MuiLocalizationProvider"}),{children:a,dateAdapter:l,dateFormats:c,dateLibInstance:u,adapterLocale:d,localeText:h}=i,p=y.useMemo(()=>v({},h,s,n),[h,s,n]),f=y.useMemo(()=>{if(!l)return o||null;const w=new l({locale:d,formats:c,instance:u});if(!w.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return w},[l,d,c,u,o]),m=y.useMemo(()=>f?{minDate:f.date("1900-01-01T00:00:00.000"),maxDate:f.date("2099-12-31T00:00:00.000")}:null,[f]),g=y.useMemo(()=>({utils:f,defaultDates:m,localeText:p}),[m,f,p]);return _.jsx(el.Provider,{value:g,children:a})};var Ra={exports:{}},sd;function pp(){return sd||(sd=1,function(t,e){(function(n,r){t.exports=r()})(lr,function(){var n=1e3,r=6e4,o=36e5,s="millisecond",i="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",f="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(A){var P=["th","st","nd","rd"],M=A%100;return"["+A+(P[(M-20)%10]||P[M]||P[0])+"]"}},T=function(A,P,M){var B=String(A);return!B||B.length>=P?A:""+Array(P+1-B.length).join(M)+A},E={s:T,z:function(A){var P=-A.utcOffset(),M=Math.abs(P),B=Math.floor(M/60),S=M%60;return(P<=0?"+":"-")+T(B,2,"0")+":"+T(S,2,"0")},m:function A(P,M){if(P.date()<M.date())return-A(M,P);var B=12*(M.year()-P.year())+(M.month()-P.month()),S=P.clone().add(B,d),L=M-S<0,W=P.clone().add(B+(L?-1:1),d);return+(-(B+(M-S)/(L?S-W:W-S))||0)},a:function(A){return A<0?Math.ceil(A)||0:Math.floor(A)},p:function(A){return{M:d,y:p,w:u,d:c,D:f,h:l,m:a,s:i,ms:s,Q:h}[A]||String(A||"").toLowerCase().replace(/s$/,"")},u:function(A){return A===void 0}},I="en",D={};D[I]=b;var C="$isDayjsObject",x=function(A){return A instanceof N||!(!A||!A[C])},O=function A(P,M,B){var S;if(!P)return I;if(typeof P=="string"){var L=P.toLowerCase();D[L]&&(S=L),M&&(D[L]=M,S=L);var W=P.split("-");if(!S&&W.length>1)return A(W[0])}else{var J=P.name;D[J]=P,S=J}return!B&&S&&(I=S),S||!B&&I},$=function(A,P){if(x(A))return A.clone();var M=typeof P=="object"?P:{};return M.date=A,M.args=arguments,new N(M)},R=E;R.l=O,R.i=x,R.w=function(A,P){return $(A,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var N=function(){function A(M){this.$L=O(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[C]=!0}var P=A.prototype;return P.parse=function(M){this.$d=function(B){var S=B.date,L=B.utc;if(S===null)return new Date(NaN);if(R.u(S))return new Date;if(S instanceof Date)return new Date(S);if(typeof S=="string"&&!/Z$/i.test(S)){var W=S.match(g);if(W){var J=W[2]-1||0,z=(W[7]||"0").substring(0,3);return L?new Date(Date.UTC(W[1],J,W[3]||1,W[4]||0,W[5]||0,W[6]||0,z)):new Date(W[1],J,W[3]||1,W[4]||0,W[5]||0,W[6]||0,z)}}return new Date(S)}(M),this.init()},P.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},P.$utils=function(){return R},P.isValid=function(){return this.$d.toString()!==m},P.isSame=function(M,B){var S=$(M);return this.startOf(B)<=S&&S<=this.endOf(B)},P.isAfter=function(M,B){return $(M)<this.startOf(B)},P.isBefore=function(M,B){return this.endOf(B)<$(M)},P.$g=function(M,B,S){return R.u(M)?this[B]:this.set(S,M)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(M,B){var S=this,L=!!R.u(B)||B,W=R.p(M),J=function(ne,q){var re=R.w(S.$u?Date.UTC(S.$y,q,ne):new Date(S.$y,q,ne),S);return L?re:re.endOf(c)},z=function(ne,q){return R.w(S.toDate()[ne].apply(S.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(q)),S)},H=this.$W,ee=this.$M,oe=this.$D,j="set"+(this.$u?"UTC":"");switch(W){case p:return L?J(1,0):J(31,11);case d:return L?J(1,ee):J(0,ee+1);case u:var U=this.$locale().weekStart||0,Q=(H<U?H+7:H)-U;return J(L?oe-Q:oe+(6-Q),ee);case c:case f:return z(j+"Hours",0);case l:return z(j+"Minutes",1);case a:return z(j+"Seconds",2);case i:return z(j+"Milliseconds",3);default:return this.clone()}},P.endOf=function(M){return this.startOf(M,!1)},P.$set=function(M,B){var S,L=R.p(M),W="set"+(this.$u?"UTC":""),J=(S={},S[c]=W+"Date",S[f]=W+"Date",S[d]=W+"Month",S[p]=W+"FullYear",S[l]=W+"Hours",S[a]=W+"Minutes",S[i]=W+"Seconds",S[s]=W+"Milliseconds",S)[L],z=L===c?this.$D+(B-this.$W):B;if(L===d||L===p){var H=this.clone().set(f,1);H.$d[J](z),H.init(),this.$d=H.set(f,Math.min(this.$D,H.daysInMonth())).$d}else J&&this.$d[J](z);return this.init(),this},P.set=function(M,B){return this.clone().$set(M,B)},P.get=function(M){return this[R.p(M)]()},P.add=function(M,B){var S,L=this;M=Number(M);var W=R.p(B),J=function(ee){var oe=$(L);return R.w(oe.date(oe.date()+Math.round(ee*M)),L)};if(W===d)return this.set(d,this.$M+M);if(W===p)return this.set(p,this.$y+M);if(W===c)return J(1);if(W===u)return J(7);var z=(S={},S[a]=r,S[l]=o,S[i]=n,S)[W]||1,H=this.$d.getTime()+M*z;return R.w(H,this)},P.subtract=function(M,B){return this.add(-1*M,B)},P.format=function(M){var B=this,S=this.$locale();if(!this.isValid())return S.invalidDate||m;var L=M||"YYYY-MM-DDTHH:mm:ssZ",W=R.z(this),J=this.$H,z=this.$m,H=this.$M,ee=S.weekdays,oe=S.months,j=S.meridiem,U=function(q,re,X,F){return q&&(q[re]||q(B,L))||X[re].slice(0,F)},Q=function(q){return R.s(J%12||12,q,"0")},ne=j||function(q,re,X){var F=q<12?"AM":"PM";return X?F.toLowerCase():F};return L.replace(w,function(q,re){return re||function(X){switch(X){case"YY":return String(B.$y).slice(-2);case"YYYY":return R.s(B.$y,4,"0");case"M":return H+1;case"MM":return R.s(H+1,2,"0");case"MMM":return U(S.monthsShort,H,oe,3);case"MMMM":return U(oe,H);case"D":return B.$D;case"DD":return R.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return U(S.weekdaysMin,B.$W,ee,2);case"ddd":return U(S.weekdaysShort,B.$W,ee,3);case"dddd":return ee[B.$W];case"H":return String(J);case"HH":return R.s(J,2,"0");case"h":return Q(1);case"hh":return Q(2);case"a":return ne(J,z,!0);case"A":return ne(J,z,!1);case"m":return String(z);case"mm":return R.s(z,2,"0");case"s":return String(B.$s);case"ss":return R.s(B.$s,2,"0");case"SSS":return R.s(B.$ms,3,"0");case"Z":return W}return null}(q)||W.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(M,B,S){var L,W=this,J=R.p(B),z=$(M),H=(z.utcOffset()-this.utcOffset())*r,ee=this-z,oe=function(){return R.m(W,z)};switch(J){case p:L=oe()/12;break;case d:L=oe();break;case h:L=oe()/3;break;case u:L=(ee-H)/6048e5;break;case c:L=(ee-H)/864e5;break;case l:L=ee/o;break;case a:L=ee/r;break;case i:L=ee/n;break;default:L=ee}return S?L:R.a(L)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return D[this.$L]},P.locale=function(M,B){if(!M)return this.$L;var S=this.clone(),L=O(M,B,!0);return L&&(S.$L=L),S},P.clone=function(){return R.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},A}(),V=N.prototype;return $.prototype=V,[["$ms",s],["$s",i],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",f]].forEach(function(A){V[A[1]]=function(P){return this.$g(P,A[0],A[1])}}),$.extend=function(A,P){return A.$i||(A(P,N,$),A.$i=!0),$},$.locale=O,$.isDayjs=x,$.unix=function(A){return $(1e3*A)},$.en=D[I],$.Ls=D,$.p={},$})}(Ra)),Ra.exports}var cw=pp();const qe=Wr(cw);var fp={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(lr,function(){var n="week",r="year";return function(o,s,i){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=i(this).startOf(r).add(1,r).date(c),d=i(this).endOf(n);if(u.isBefore(d))return 1}var h=i(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),p=this.diff(h,n,!0);return p<0?i(this).startOf("week").week():Math.ceil(p)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(fp);var uw=fp.exports;const dw=Wr(uw);var mp={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(lr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,s=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,a={},l=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(g){this[m]=+g}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(g){if(!g||g==="Z")return 0;var w=g.match(/([+-]|\d\d)/g),b=60*w[1]+(+w[2]||0);return b===0?0:w[0]==="+"?-b:b}(m)}],d=function(m){var g=a[m];return g&&(g.indexOf?g:g.s.concat(g.f))},h=function(m,g){var w,b=a.meridiem;if(b){for(var T=1;T<=24;T+=1)if(m.indexOf(b(T,0,g))>-1){w=T>12;break}}else w=m===(g?"pm":"PM");return w},p={A:[i,function(m){this.afternoon=h(m,!1)}],a:[i,function(m){this.afternoon=h(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[o,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[s,c("seconds")],ss:[s,c("seconds")],m:[s,c("minutes")],mm:[s,c("minutes")],H:[s,c("hours")],h:[s,c("hours")],HH:[s,c("hours")],hh:[s,c("hours")],D:[s,c("day")],DD:[o,c("day")],Do:[i,function(m){var g=a.ordinal,w=m.match(/\d+/);if(this.day=w[0],g)for(var b=1;b<=31;b+=1)g(b).replace(/\[|\]/g,"")===m&&(this.day=b)}],M:[s,c("month")],MM:[o,c("month")],MMM:[i,function(m){var g=d("months"),w=(d("monthsShort")||g.map(function(b){return b.slice(0,3)})).indexOf(m)+1;if(w<1)throw new Error;this.month=w%12||w}],MMMM:[i,function(m){var g=d("months").indexOf(m)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,c("year")],YY:[o,function(m){this.year=l(m)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function f(m){var g,w;g=m,w=a&&a.formats;for(var b=(m=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(O,$,R){var N=R&&R.toUpperCase();return $||w[R]||n[R]||w[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(V,A,P){return A||P.slice(1)})})).match(r),T=b.length,E=0;E<T;E+=1){var I=b[E],D=p[I],C=D&&D[0],x=D&&D[1];b[E]=x?{regex:C,parser:x}:I.replace(/^\[|\]$/g,"")}return function(O){for(var $={},R=0,N=0;R<T;R+=1){var V=b[R];if(typeof V=="string")N+=V.length;else{var A=V.regex,P=V.parser,M=O.slice(N),B=A.exec(M)[0];P.call($,B),O=O.replace(B,"")}}return function(S){var L=S.afternoon;if(L!==void 0){var W=S.hours;L?W<12&&(S.hours+=12):W===12&&(S.hours=0),delete S.afternoon}}($),$}}return function(m,g,w){w.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(l=m.parseTwoDigitYear);var b=g.prototype,T=b.parse;b.parse=function(E){var I=E.date,D=E.utc,C=E.args;this.$u=D;var x=C[1];if(typeof x=="string"){var O=C[2]===!0,$=C[3]===!0,R=O||$,N=C[2];$&&(N=C[2]),a=this.$locale(),!O&&N&&(a=w.Ls[N]),this.$d=function(M,B,S){try{if(["x","X"].indexOf(B)>-1)return new Date((B==="X"?1e3:1)*M);var L=f(B)(M),W=L.year,J=L.month,z=L.day,H=L.hours,ee=L.minutes,oe=L.seconds,j=L.milliseconds,U=L.zone,Q=new Date,ne=z||(W||J?1:Q.getDate()),q=W||Q.getFullYear(),re=0;W&&!J||(re=J>0?J-1:Q.getMonth());var X=H||0,F=ee||0,Z=oe||0,te=j||0;return U?new Date(Date.UTC(q,re,ne,X,F,Z,te+60*U.offset*1e3)):S?new Date(Date.UTC(q,re,ne,X,F,Z,te)):new Date(q,re,ne,X,F,Z,te)}catch{return new Date("")}}(I,x,D),this.init(),N&&N!==!0&&(this.$L=this.locale(N).$L),R&&I!=this.format(x)&&(this.$d=new Date("")),a={}}else if(x instanceof Array)for(var V=x.length,A=1;A<=V;A+=1){C[1]=x[A-1];var P=w.apply(this,C);if(P.isValid()){this.$d=P.$d,this.$L=P.$L,this.init();break}A===V&&(this.$d=new Date(""))}else T.call(this,E)}}})})(mp);var hw=mp.exports;const pw=Wr(hw);var gp={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(lr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,o,s){var i=o.prototype,a=i.format;s.en.formats=n,i.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,f,m){var g=m&&m.toUpperCase();return f||h[m]||n[m]||h[g].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,b,T){return b||T.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,u)}}})})(gp);var fw=gp.exports;const mw=Wr(fw);var yp={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(lr,function(){return function(n,r,o){r.prototype.isBetween=function(s,i,a,l){var c=o(s),u=o(i),d=(l=l||"()")[0]==="(",h=l[1]===")";return(d?this.isAfter(c,a):!this.isBefore(c,a))&&(h?this.isBefore(u,a):!this.isAfter(u,a))||(d?this.isBefore(c,a):!this.isAfter(c,a))&&(h?this.isAfter(u,a):!this.isBefore(u,a))}}})})(yp);var gw=yp.exports;const yw=Wr(gw);var vp={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(lr,function(){return function(n,r){var o=r.prototype,s=o.format;o.format=function(i){var a=this,l=this.$locale();if(!this.isValid())return s.bind(this)(i);var c=this.$utils(),u=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return s.bind(this)(u)}}})})(vp);var vw=vp.exports;const _w=Wr(vw),_p=(t,e="warning")=>{let n=!1;const r=Array.isArray(t)?t.join(`
`):t;return()=>{n||(n=!0,e==="error"?console.error(r):console.warn(r))}};qe.extend(mw);qe.extend(dw);qe.extend(yw);qe.extend(_w);const bw=_p(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),ww={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Tw={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},Aa=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),id=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),Ew=(t,e)=>e?(...n)=>t(...n).locale(e):t;class oc{constructor({locale:e,formats:n}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=ww,this.setLocaleToValue=r=>{const o=this.getCurrentLocaleCode();return o===r.locale()?r:r.locale(o)},this.hasUTCPlugin=()=>typeof qe.utc<"u",this.hasTimezonePlugin=()=>typeof qe.tz<"u",this.isSame=(r,o,s)=>{const i=this.setTimezone(o,this.getTimezone(r));return r.format(s)===i.format(s)},this.cleanTimezone=r=>{switch(r){case"default":return;case"system":return qe.tz.guess();default:return r}},this.createSystemDate=r=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const o=qe.tz.guess();return o!=="UTC"?qe.tz(r,o):qe(r)}return qe(r)},this.createUTCDate=r=>{if(!this.hasUTCPlugin())throw new Error(Aa);return qe.utc(r)},this.createTZDate=(r,o)=>{if(!this.hasUTCPlugin())throw new Error(Aa);if(!this.hasTimezonePlugin())throw new Error(id);const s=r!==void 0&&!r.endsWith("Z");return qe(r).tz(this.cleanTimezone(o),s)},this.getLocaleFormats=()=>{const r=qe.Ls,o=this.locale||"en";let s=r[o];return s===void 0&&(bw(),s=r.en),s.formats},this.adjustOffset=r=>{if(!this.hasTimezonePlugin())return r;const o=this.getTimezone(r);if(o!=="UTC"){const s=r.tz(this.cleanTimezone(o),!0);return(s.$offset??0)===(r.$offset??0)?r:s}return r},this.date=(r,o="default")=>{if(r===null)return null;let s;return o==="UTC"?s=this.createUTCDate(r):o==="system"||o==="default"&&!this.hasTimezonePlugin()?s=this.createSystemDate(r):s=this.createTZDate(r,o),this.locale===void 0?s:s.locale(this.locale)},this.getInvalidDate=()=>qe(new Date("Invalid date")),this.getTimezone=r=>{var o;if(this.hasTimezonePlugin()){const s=(o=r.$x)==null?void 0:o.$timezone;if(s)return s}return this.hasUTCPlugin()&&r.isUTC()?"UTC":"system"},this.setTimezone=(r,o)=>{if(this.getTimezone(r)===o)return r;if(o==="UTC"){if(!this.hasUTCPlugin())throw new Error(Aa);return r.utc()}if(o==="system")return r.local();if(!this.hasTimezonePlugin()){if(o==="default")return r;throw new Error(id)}return qe.tz(r,this.cleanTimezone(o))},this.toJsDate=r=>r.toDate(),this.parse=(r,o)=>r===""?null:this.dayjs(r,o,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=r=>{const o=this.getLocaleFormats(),s=i=>i.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(a,l,c)=>l||c.slice(1));return r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(i,a,l)=>{const c=l&&l.toUpperCase();return a||o[l]||s(o[c])})},this.isValid=r=>r==null?!1:r.isValid(),this.format=(r,o)=>this.formatByString(r,this.formats[o]),this.formatByString=(r,o)=>this.dayjs(r).format(o),this.formatNumber=r=>r,this.isEqual=(r,o)=>r===null&&o===null?!0:r===null||o===null?!1:r.toDate().getTime()===o.toDate().getTime(),this.isSameYear=(r,o)=>this.isSame(r,o,"YYYY"),this.isSameMonth=(r,o)=>this.isSame(r,o,"YYYY-MM"),this.isSameDay=(r,o)=>this.isSame(r,o,"YYYY-MM-DD"),this.isSameHour=(r,o)=>r.isSame(o,"hour"),this.isAfter=(r,o)=>r>o,this.isAfterYear=(r,o)=>this.hasUTCPlugin()?!this.isSameYear(r,o)&&r.utc()>o.utc():r.isAfter(o,"year"),this.isAfterDay=(r,o)=>this.hasUTCPlugin()?!this.isSameDay(r,o)&&r.utc()>o.utc():r.isAfter(o,"day"),this.isBefore=(r,o)=>r<o,this.isBeforeYear=(r,o)=>this.hasUTCPlugin()?!this.isSameYear(r,o)&&r.utc()<o.utc():r.isBefore(o,"year"),this.isBeforeDay=(r,o)=>this.hasUTCPlugin()?!this.isSameDay(r,o)&&r.utc()<o.utc():r.isBefore(o,"day"),this.isWithinRange=(r,[o,s])=>r>=o&&r<=s,this.startOfYear=r=>this.adjustOffset(r.startOf("year")),this.startOfMonth=r=>this.adjustOffset(r.startOf("month")),this.startOfWeek=r=>this.adjustOffset(r.startOf("week")),this.startOfDay=r=>this.adjustOffset(r.startOf("day")),this.endOfYear=r=>this.adjustOffset(r.endOf("year")),this.endOfMonth=r=>this.adjustOffset(r.endOf("month")),this.endOfWeek=r=>this.adjustOffset(r.endOf("week")),this.endOfDay=r=>this.adjustOffset(r.endOf("day")),this.addYears=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"year"):r.add(o,"year")),this.addMonths=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"month"):r.add(o,"month")),this.addWeeks=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"week"):r.add(o,"week")),this.addDays=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"day"):r.add(o,"day")),this.addHours=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"hour"):r.add(o,"hour")),this.addMinutes=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"minute"):r.add(o,"minute")),this.addSeconds=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"second"):r.add(o,"second")),this.getYear=r=>r.year(),this.getMonth=r=>r.month(),this.getDate=r=>r.date(),this.getHours=r=>r.hour(),this.getMinutes=r=>r.minute(),this.getSeconds=r=>r.second(),this.getMilliseconds=r=>r.millisecond(),this.setYear=(r,o)=>this.adjustOffset(r.set("year",o)),this.setMonth=(r,o)=>this.adjustOffset(r.set("month",o)),this.setDate=(r,o)=>this.adjustOffset(r.set("date",o)),this.setHours=(r,o)=>this.adjustOffset(r.set("hour",o)),this.setMinutes=(r,o)=>this.adjustOffset(r.set("minute",o)),this.setSeconds=(r,o)=>this.adjustOffset(r.set("second",o)),this.setMilliseconds=(r,o)=>this.adjustOffset(r.set("millisecond",o)),this.getDaysInMonth=r=>r.daysInMonth(),this.getWeekArray=r=>{const o=this.setLocaleToValue(r),s=this.startOfWeek(this.startOfMonth(o)),i=this.endOfWeek(this.endOfMonth(o));let a=0,l=s;const c=[];for(;l<i;){const u=Math.floor(a/7);c[u]=c[u]||[],c[u].push(l),l=this.addDays(l,1),a+=1}return c},this.getWeekNumber=r=>r.week(),this.getYearRange=([r,o])=>{const s=this.startOfYear(r),i=this.endOfYear(o),a=[];let l=s;for(;this.isBefore(l,i);)a.push(l),l=this.addYears(l,1);return a},this.dayjs=Ew(qe,e),this.locale=e,this.formats=v({},Tw,n),qe.extend(pw)}getDayOfWeek(e){return e.day()+1}}const bp=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:v({},t)}}}}),wp={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,n)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${n.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},Iw=wp,Tp=bp(wp),ur=()=>{const t=y.useContext(el);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=y.useMemo(()=>v({},Iw,t.localeText),[t.localeText]);return y.useMemo(()=>v({},t,{localeText:e}),[t,e])},Be=()=>ur().utils,hs=()=>ur().defaultDates,En=()=>ur().localeText,Vi=t=>{const e=Be(),n=y.useRef();return n.current===void 0&&(n.current=e.date(void 0,t)),n.current},xw=hn(_.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Cw=hn(_.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Pw=hn(_.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Sw=hn(_.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");hn(_.jsxs(y.Fragment,{children:[_.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),_.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");hn(_.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");hn(_.jsxs(y.Fragment,{children:[_.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),_.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const Dw=hn(_.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function Rw(t){return Ie("MuiPickersArrowSwitcher",t)}Ee("MuiPickersArrowSwitcher",["root","spacer","button"]);const Aw=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],Mw=["ownerState"],kw=["ownerState"],Vw=Y("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),Ow=Y("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),ad=Y(cr,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),$w=t=>{const{classes:e}=t;return we({root:["root"],spacer:["spacer"],button:["button"]},Rw,e)},Lw=y.forwardRef(function(e,n){const o=Xt().direction==="rtl",s=ge({props:e,name:"MuiPickersArrowSwitcher"}),{children:i,className:a,slots:l,slotProps:c,isNextDisabled:u,isNextHidden:d,onGoToNext:h,nextLabel:p,isPreviousDisabled:f,isPreviousHidden:m,onGoToPrevious:g,previousLabel:w}=s,b=se(s,Aw),T=s,E=$w(T),I={isDisabled:u,isHidden:d,goTo:h,label:p},D={isDisabled:f,isHidden:m,goTo:g,label:w},C=(l==null?void 0:l.previousIconButton)??ad,x=De({elementType:C,externalSlotProps:c==null?void 0:c.previousIconButton,additionalProps:{size:"medium",title:D.label,"aria-label":D.label,disabled:D.isDisabled,edge:"end",onClick:D.goTo},ownerState:v({},T,{hidden:D.isHidden}),className:E.button}),O=(l==null?void 0:l.nextIconButton)??ad,$=De({elementType:O,externalSlotProps:c==null?void 0:c.nextIconButton,additionalProps:{size:"medium",title:I.label,"aria-label":I.label,disabled:I.isDisabled,edge:"start",onClick:I.goTo},ownerState:v({},T,{hidden:I.isHidden}),className:E.button}),R=(l==null?void 0:l.leftArrowIcon)??Cw,N=De({elementType:R,externalSlotProps:c==null?void 0:c.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),V=se(N,Mw),A=(l==null?void 0:l.rightArrowIcon)??Pw,P=De({elementType:A,externalSlotProps:c==null?void 0:c.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),M=se(P,kw);return _.jsxs(Vw,v({ref:n,className:de(E.root,a),ownerState:T},b,{children:[_.jsx(C,v({},x,{children:o?_.jsx(A,v({},M)):_.jsx(R,v({},V))})),i?_.jsx(Bt,{variant:"subtitle1",component:"span",children:i}):_.jsx(Ow,{className:E.spacer,ownerState:T}),_.jsx(O,v({},$,{children:o?_.jsx(R,v({},V)):_.jsx(A,v({},M))}))]}))}),ao=(t,e)=>t.length!==e.length?!1:e.every(n=>t.includes(n)),Nw=({openTo:t,defaultOpenTo:e,views:n,defaultViews:r})=>{const o=n??r;let s;if(t!=null)s=t;else if(o.includes(e))s=e;else if(o.length>0)s=o[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:o,openTo:s}},Fw=["hours","minutes","seconds"],Bw=t=>Fw.includes(t),ld=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),Ep=(t,e)=>(n,r)=>t?e.isAfter(n,r):ld(n,e)>ld(r,e);function Ip({onChange:t,onViewChange:e,openTo:n,view:r,views:o,autoFocus:s,focusedView:i,onFocusedViewChange:a}){const l=y.useRef(n),c=y.useRef(o),u=y.useRef(o.includes(n)?n:o[0]),[d,h]=an({name:"useViews",state:"view",controlled:r,default:u.current}),p=y.useRef(s?d:null),[f,m]=an({name:"useViews",state:"focusedView",controlled:i,default:p.current});y.useEffect(()=>{(l.current&&l.current!==n||c.current&&c.current.some(C=>!o.includes(C)))&&(h(o.includes(n)?n:o[0]),c.current=o,l.current=n)},[n,h,d,o]);const g=o.indexOf(d),w=o[g-1]??null,b=o[g+1]??null,T=le((C,x)=>{m(x?C:O=>C===O?null:O),a==null||a(C,x)}),E=le(C=>{T(C,!0),C!==d&&(h(C),e&&e(C))}),I=le(()=>{b&&E(b)}),D=le((C,x,O)=>{const $=x==="finish",R=O?o.indexOf(O)<o.length-1:!!b;if(t(C,$&&R?"partial":x,O),O&&O!==d){const V=o[o.indexOf(O)+1];V&&E(V)}else $&&I()});return{view:d,setView:E,focusedView:f,setFocusedView:T,nextView:b,previousView:w,defaultView:o.includes(n)?n:o[0],goToNextView:I,setValueAndGoToNextView:D}}function jw(t,{disableFuture:e,maxDate:n,timezone:r}){const o=Be();return y.useMemo(()=>{const s=o.date(void 0,r),i=o.startOfMonth(e&&o.isBefore(s,n)?s:n);return!o.isAfter(i,t)},[e,n,t,o,r])}function Uw(t,{disablePast:e,minDate:n,timezone:r}){const o=Be();return y.useMemo(()=>{const s=o.date(void 0,r),i=o.startOfMonth(e&&o.isAfter(s,n)?s:n);return!o.isBefore(i,t)},[e,n,t,o,r])}const $o=36,Oi=2,$i=320,zw=280,sc=336,Ww=Y("div")({overflow:"hidden",width:$i,maxHeight:sc,display:"flex",flexDirection:"column",margin:"0 auto"}),ti=(t,e,n)=>{let r=e;return r=t.setHours(r,t.getHours(n)),r=t.setMinutes(r,t.getMinutes(n)),r=t.setSeconds(r,t.getSeconds(n)),r},Co=({date:t,disableFuture:e,disablePast:n,maxDate:r,minDate:o,isDateDisabled:s,utils:i,timezone:a})=>{const l=ti(i,i.date(void 0,a),t);n&&i.isBefore(o,l)&&(o=l),e&&i.isAfter(r,l)&&(r=l);let c=t,u=t;for(i.isBefore(t,o)&&(c=o,u=null),i.isAfter(t,r)&&(u&&(u=r),c=null);c||u;){if(c&&i.isAfter(c,r)&&(c=null),u&&i.isBefore(u,o)&&(u=null),c){if(!s(c))return c;c=i.addDays(c,1)}if(u){if(!s(u))return u;u=i.addDays(u,-1)}}return null},xp=(t,e)=>e==null||!t.isValid(e)?null:e,zt=(t,e,n)=>e==null||!t.isValid(e)?n:e,tl=(t,e,n)=>!t.isValid(e)&&e!=null&&!t.isValid(n)&&n!=null?!0:t.isEqual(e,n),ic=(t,e)=>{const r=[t.startOfYear(e)];for(;r.length<12;){const o=r[r.length-1];r.push(t.addMonths(o,1))}return r},ni=(t,e,n)=>n==="date"?t.startOfDay(t.date(void 0,e)):t.date(void 0,e),Hw=["year","month","day"],cd=t=>Hw.includes(t),ac=(t,{format:e,views:n},r)=>{if(e!=null)return e;const o=t.formats;return ao(n,["year"])?o.year:ao(n,["month"])?o.month:ao(n,["day"])?o.dayOfMonth:ao(n,["month","year"])?`${o.month} ${o.year}`:ao(n,["day","month"])?`${o.month} ${o.dayOfMonth}`:r?/en/.test(t.getCurrentLocaleCode())?o.normalDateWithWeekday:o.normalDate:o.keyboardDate},qw=(t,e)=>{const n=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(r=>t.addDays(n,r))},lc=({timezone:t,value:e,defaultValue:n,onChange:r,valueManager:o})=>{const s=Be(),i=y.useRef(n),a=e??i.current??o.emptyValue,l=y.useMemo(()=>o.getTimezone(s,a),[s,o,a]),c=le(p=>l==null?p:o.setTimezone(s,l,p)),u=t??l??"default",d=y.useMemo(()=>o.setTimezone(s,u,a),[o,s,u,a]),h=le((p,...f)=>{const m=c(p);r==null||r(m,...f)});return{value:d,handleValueChange:h,timezone:u}},cc=({name:t,timezone:e,value:n,defaultValue:r,onChange:o,valueManager:s})=>{const[i,a]=an({name:t,state:"value",controlled:n,default:r??s.emptyValue}),l=le((c,...u)=>{a(c),o==null||o(c,...u)});return lc({timezone:e,value:i,defaultValue:void 0,onChange:l,valueManager:s})},Zt={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Yw=t=>Math.max(...t.map(e=>Zt[e.type]??1)),lo=(t,e,n)=>{if(e===Zt.year)return t.startOfYear(n);if(e===Zt.month)return t.startOfMonth(n);if(e===Zt.day)return t.startOfDay(n);let r=n;return e<Zt.minutes&&(r=t.setMinutes(r,0)),e<Zt.seconds&&(r=t.setSeconds(r,0)),e<Zt.milliseconds&&(r=t.setMilliseconds(r,0)),r},Cp=({props:t,utils:e,granularity:n,timezone:r,getTodayDate:o})=>{let s=o?o():lo(e,n,ni(e,r));t.minDate!=null&&e.isAfterDay(t.minDate,s)&&(s=lo(e,n,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,s)&&(s=lo(e,n,t.maxDate));const i=Ep(t.disableIgnoringDatePartForTimeValidation??!1,e);return t.minTime!=null&&i(t.minTime,s)&&(s=lo(e,n,t.disableIgnoringDatePartForTimeValidation?t.minTime:ti(e,s,t.minTime))),t.maxTime!=null&&i(s,t.maxTime)&&(s=lo(e,n,t.disableIgnoringDatePartForTimeValidation?t.maxTime:ti(e,s,t.maxTime))),s},Pp=(t,e)=>{const n=t.formatTokenMap[e];if(n==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof n=="string"?{type:n,contentType:n==="meridiem"?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},Kw=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},Li=(t,e,n)=>{const r=[],o=t.date(void 0,e),s=t.startOfWeek(o),i=t.endOfWeek(o);let a=s;for(;t.isBefore(a,i);)r.push(a),a=t.addDays(a,1);return r.map(l=>t.formatByString(l,n))},Sp=(t,e,n,r)=>{switch(n){case"month":return ic(t,t.date(void 0,e)).map(o=>t.formatByString(o,r));case"weekDay":return Li(t,e,r);case"meridiem":{const o=t.date(void 0,e);return[t.startOfDay(o),t.endOfDay(o)].map(s=>t.formatByString(s,r))}default:return[]}},ud="s",Gw=["0","1","2","3","4","5","6","7","8","9"],Qw=t=>{const e=t.date(void 0);return t.formatByString(t.setSeconds(e,0),ud)==="0"?Gw:Array.from({length:10}).map((r,o)=>t.formatByString(t.setSeconds(e,o),ud))},tr=(t,e)=>{if(e[0]==="0")return t;const n=[];let r="";for(let o=0;o<t.length;o+=1){r+=t[o];const s=e.indexOf(r);s>-1&&(n.push(s.toString()),r="")}return n.join("")},uc=(t,e)=>e[0]==="0"?t:t.split("").map(n=>e[Number(n)]).join(""),dd=(t,e)=>{const n=tr(t,e);return!Number.isNaN(Number(n))},Dp=(t,e)=>{let n=t;for(n=Number(n).toString();n.length<e;)n=`0${n}`;return n},Rp=(t,e,n,r,o)=>{if(o.type==="day"&&o.contentType==="digit-with-letter"){const i=t.setDate(n.longestMonth,e);return t.formatByString(i,o.format)}let s=e.toString();return o.hasLeadingZerosInInput&&(s=Dp(s,o.maxLength)),uc(s,r)},Xw=(t,e,n,r,o,s,i,a)=>{const l=Kw(r),c=r==="Home",u=r==="End",d=n.value===""||c||u,h=()=>{const f=o[n.type]({currentDate:i,format:n.format,contentType:n.contentType}),m=T=>Rp(t,T,f,s,n),g=n.type==="minutes"&&(a!=null&&a.minutesStep)?a.minutesStep:1;let b=parseInt(tr(n.value,s),10)+l*g;if(d){if(n.type==="year"&&!u&&!c)return t.formatByString(t.date(void 0,e),n.format);l>0||c?b=f.minimum:b=f.maximum}return b%g!==0&&((l<0||c)&&(b+=g-(g+b)%g),(l>0||u)&&(b-=b%g)),b>f.maximum?m(f.minimum+(b-f.maximum-1)%(f.maximum-f.minimum+1)):b<f.minimum?m(f.maximum-(f.minimum-b-1)%(f.maximum-f.minimum+1)):m(b)},p=()=>{const f=Sp(t,e,n.type,n.format);if(f.length===0)return n.value;if(d)return l>0||c?f[0]:f[f.length-1];const g=(f.indexOf(n.value)+f.length+l)%f.length;return f[g]};return n.contentType==="digit"||n.contentType==="digit-with-letter"?h():p()},dc=(t,e,n)=>{let r=t.value||t.placeholder;const o=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(r=Number(tr(r,n)).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!o&&r.length===1&&(r=`${r}‎`),e==="input-rtl"&&(r=`⁨${r}⁩`),r},hd=(t,e,n,r)=>t.formatByString(t.parse(e,n),r),Ap=(t,e,n)=>t.formatByString(t.date(void 0,e),n).length===4,Mp=(t,e,n,r,o)=>{if(n!=="digit")return!1;const s=t.date(void 0,e);switch(r){case"year":return Ap(t,e,o)?t.formatByString(t.setYear(s,1),o)==="0001":t.formatByString(t.setYear(s,2001),o)==="01";case"month":return t.formatByString(t.startOfYear(s),o).length>1;case"day":return t.formatByString(t.startOfMonth(s),o).length>1;case"weekDay":return t.formatByString(t.startOfWeek(s),o).length>1;case"hours":return t.formatByString(t.setHours(s,1),o).length>1;case"minutes":return t.formatByString(t.setMinutes(s,1),o).length>1;case"seconds":return t.formatByString(t.setSeconds(s,1),o).length>1;default:throw new Error("Invalid section type")}},Jw=(t,e,n)=>{const r=e.some(l=>l.type==="day"),o=[],s=[];for(let l=0;l<e.length;l+=1){const c=e[l];r&&c.type==="weekDay"||(o.push(c.format),s.push(dc(c,"non-input",n)))}const i=o.join(" "),a=s.join(" ");return t.parse(a,i)},kp=t=>t.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),Vp=(t,e,n)=>{const o=t.map(s=>{const i=dc(s,n?"input-rtl":"input-ltr",e);return`${s.startSeparator}${i}${s.endSeparator}`}).join("");return n?`⁦${o}⁩`:o},Zw=(t,e,n)=>{const r=t.date(void 0,n),o=t.endOfYear(r),s=t.endOfDay(r),{maxDaysInMonth:i,longestMonth:a}=ic(t,r).reduce((l,c)=>{const u=t.getDaysInMonth(c);return u>l.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:c}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:Ap(t,n,l)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(o)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&t.isValid(l)?t.getDaysInMonth(l):i,longestMonth:a}),weekDay:({format:l,contentType:c})=>{if(c==="digit"){const u=Li(t,n,l).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const c=t.getHours(s);return tr(t.formatByString(t.endOfDay(r),l),e)!==c.toString()?{minimum:1,maximum:Number(tr(t.formatByString(t.startOfDay(r),l),e))}:{minimum:0,maximum:c}},minutes:()=>({minimum:0,maximum:t.getMinutes(s)}),seconds:()=>({minimum:0,maximum:t.getSeconds(s)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},eT=(t,e,n,r,o)=>{switch(n.type){case"year":return t.setYear(o,t.getYear(r));case"month":return t.setMonth(o,t.getMonth(r));case"weekDay":{const s=Li(t,e,n.format),i=t.formatByString(r,n.format),a=s.indexOf(i),c=s.indexOf(n.value)-a;return t.addDays(r,c)}case"day":return t.setDate(o,t.getDate(r));case"meridiem":{const s=t.getHours(r)<12,i=t.getHours(o);return s&&i>=12?t.addHours(o,-12):!s&&i<12?t.addHours(o,12):o}case"hours":return t.setHours(o,t.getHours(r));case"minutes":return t.setMinutes(o,t.getMinutes(r));case"seconds":return t.setSeconds(o,t.getSeconds(r));default:return o}},pd={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},fd=(t,e,n,r,o,s)=>[...r].sort((i,a)=>pd[i.type]-pd[a.type]).reduce((i,a)=>!s||a.modified?eT(t,e,a,n,i):i,o),tT=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,nT=(t,e)=>{const n={};if(!e)return t.forEach((l,c)=>{const u=c===0?null:c-1,d=c===t.length-1?null:c+1;n[c]={leftIndex:u,rightIndex:d}}),{neighbors:n,startIndex:0,endIndex:t.length-1};const r={},o={};let s=0,i=0,a=t.length-1;for(;a>=0;){i=t.findIndex((l,c)=>{var u;return c>=s&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),i===-1&&(i=t.length-1);for(let l=i;l>=s;l-=1)o[l]=a,r[a]=l,a-=1;s=i+1}return t.forEach((l,c)=>{const u=o[c],d=u===0?null:r[u-1],h=u===t.length-1?null:r[u+1];n[c]={leftIndex:d,rightIndex:h}}),{neighbors:n,startIndex:r[0],endIndex:r[t.length-1]}},nl=(t,e)=>t==null?null:t==="all"?"all":typeof t=="string"?e.findIndex(n=>n.type===t):t,rT=(t,e)=>{if(t.value)switch(t.type){case"month":{if(t.contentType==="digit")return e.format(e.setMonth(e.date(),Number(t.value)-1),"month");const n=e.parse(t.value,t.format);return n?e.format(n,"month"):void 0}case"day":return t.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(t.value)),"dayOfMonthFull"):t.value;case"weekDay":return;default:return}},oT=(t,e)=>{if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const n=e.parse(`01:00 ${t.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${t.format}`);return n?e.getHours(n)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const n=e.parse(t.value,t.format);return n?e.getMonth(n)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}},sT=["value","referenceDate"],vn={emptyValue:null,getTodayValue:ni,getInitialReferenceValue:t=>{let{value:e,referenceDate:n}=t,r=se(t,sT);return e!=null&&r.utils.isValid(e)?e:n??Cp(r)},cleanValue:xp,areValuesEqual:tl,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,n)=>n==null?null:t.setTimezone(n,e)},iT={updateReferenceValue:(t,e,n)=>e==null||!t.isValid(e)?n:e,getSectionsFromValue:(t,e,n,r)=>!t.isValid(e)&&!!n?n:r(e),getV7HiddenInputValueFromSections:kp,getV6InputValueFromSections:Vp,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:n=>n,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:n==null||!t.isValid(n)?e.referenceValue:n})}),parseValueStr:(t,e,n)=>n(t.trim(),e)};function aT(t){return Ie("MuiPickersDay",t)}const Hn=Ee("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),lT=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],cT=t=>{const{selected:e,disableMargin:n,disableHighlightToday:r,today:o,disabled:s,outsideCurrentMonth:i,showDaysOutsideCurrentMonth:a,classes:l}=t,c=i&&!a;return we({root:["root",e&&!c&&"selected",s&&"disabled",!n&&"dayWithMargin",!r&&o&&"today",i&&a&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},aT,l)},Op=({theme:t})=>v({},t.typography.caption,{width:$o,height:$o,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:Rr(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Hn.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Hn.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Hn.disabled}:not(.${Hn.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Hn.disabled}&.${Hn.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Oi}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${Hn.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),$p=(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableMargin&&e.dayWithMargin,!n.disableHighlightToday&&n.today&&e.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},uT=Y(Zs,{name:"MuiPickersDay",slot:"Root",overridesResolver:$p})(Op),dT=Y("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:$p})(({theme:t})=>v({},Op({theme:t}),{opacity:0,pointerEvents:"none"})),co=()=>{},hT=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersDay"}),{autoFocus:o=!1,className:s,day:i,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:h,onFocus:p=co,onBlur:f=co,onKeyDown:m=co,onMouseDown:g=co,onMouseEnter:w=co,outsideCurrentMonth:b,selected:T=!1,showDaysOutsideCurrentMonth:E=!1,children:I,today:D=!1}=r,C=se(r,lT),x=v({},r,{autoFocus:o,disabled:a,disableHighlightToday:l,disableMargin:c,selected:T,showDaysOutsideCurrentMonth:E,today:D}),O=cT(x),$=Be(),R=y.useRef(null),N=Ke(R,n);Gt(()=>{o&&!a&&!u&&!b&&R.current.focus()},[o,a,u,b]);const V=P=>{g(P),b&&P.preventDefault()},A=P=>{a||h(i),b&&P.currentTarget.focus(),d&&d(P)};return b&&!E?_.jsx(dT,{className:de(O.root,O.hiddenDaySpacingFiller,s),ownerState:x,role:C.role}):_.jsx(uT,v({className:de(O.root,s),ref:N,centerRipple:!0,disabled:a,tabIndex:T?0:-1,onKeyDown:P=>m(P,i),onFocus:P=>p(P,i),onBlur:P=>f(P,i),onMouseEnter:P=>w(P,i),onClick:A,onMouseDown:V},C,{ownerState:x,children:I||$.format(i,"dayOfMonth")}))}),Lp=y.memo(hT);function Np(t,e,n,r){const{value:o,onError:s}=t,i=ur(),a=y.useRef(r),l=e({adapter:i,value:o,props:t});return y.useEffect(()=>{s&&!n(l,a.current)&&s(l,o),a.current=l},[n,s,a,l,o]),l}const pT=({utils:t,format:e})=>{let n=10,r=e,o=t.expandFormat(e);for(;o!==r;)if(r=o,o=t.expandFormat(r),n-=1,n<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return o},fT=({utils:t,expandedFormat:e})=>{const n=[],{start:r,end:o}=t.escapedCharacters,s=new RegExp(`(\\${r}[^\\${o}]*\\${o})+`,"g");let i=null;for(;i=s.exec(e);)n.push({start:i.index,end:s.lastIndex-1});return n},mT=(t,e,n,r,o)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,e),o).length,format:o});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:o});case"day":return n.fieldDayPlaceholder({format:o});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:o});case"hours":return n.fieldHoursPlaceholder({format:o});case"minutes":return n.fieldMinutesPlaceholder({format:o});case"seconds":return n.fieldSecondsPlaceholder({format:o});case"meridiem":return n.fieldMeridiemPlaceholder({format:o});default:return o}},gT=({utils:t,timezone:e,date:n,shouldRespectLeadingZeros:r,localeText:o,localizedDigits:s,now:i,token:a,startSeparator:l})=>{if(a==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const c=Pp(t,a),u=Mp(t,e,c.contentType,c.type,a),d=r?u:c.contentType==="digit",h=n!=null&&t.isValid(n);let p=h?t.formatByString(n,a):"",f=null;if(d)if(u)f=p===""?t.formatByString(i,a).length:p.length;else{if(c.maxLength==null)throw new Error(`MUI X: The token ${a} should have a 'maxDigitNumber' property on it's adapter`);f=c.maxLength,h&&(p=uc(Dp(tr(p,s),f),s))}return v({},c,{format:a,maxLength:f,value:p,placeholder:mT(t,e,o,c,a),hasLeadingZerosInFormat:u,hasLeadingZerosInInput:d,startSeparator:l,endSeparator:"",modified:!1})},yT=t=>{var p;const{utils:e,expandedFormat:n,escapedParts:r}=t,o=e.date(void 0),s=[];let i="";const a=Object.keys(e.formatTokenMap).sort((f,m)=>m.length-f.length),l=/^([a-zA-Z]+)/,c=new RegExp(`^(${a.join("|")})*$`),u=new RegExp(`^(${a.join("|")})`),d=f=>r.find(m=>m.start<=f&&m.end>=f);let h=0;for(;h<n.length;){const f=d(h),m=f!=null,g=(p=l.exec(n.slice(h)))==null?void 0:p[1];if(!m&&g!=null&&c.test(g)){let w=g;for(;w.length>0;){const b=u.exec(w)[1];w=w.slice(b.length),s.push(gT(v({},t,{now:o,token:b,startSeparator:i}))),i=""}h+=g.length}else{const w=n[h];m&&(f==null?void 0:f.start)===h||(f==null?void 0:f.end)===h||(s.length===0?i+=w:s[s.length-1].endSeparator+=w),h+=1}}return s.length===0&&i.length>0&&s.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:i,endSeparator:"",modified:!1}),s},vT=({isRTL:t,formatDensity:e,sections:n})=>n.map(r=>{const o=s=>{let i=s;return t&&i!==null&&i.includes(" ")&&(i=`⁩${i}⁦`),e==="spacious"&&["/",".","-"].includes(i)&&(i=` ${i} `),i};return r.startSeparator=o(r.startSeparator),r.endSeparator=o(r.endSeparator),r}),md=t=>{let e=pT(t);t.isRTL&&t.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const n=fT(v({},t,{expandedFormat:e})),r=yT(v({},t,{expandedFormat:e,escapedParts:n}));return vT(v({},t,{sections:r}))},_T=t=>{const e=Be(),n=En(),r=ur(),s=Xt().direction==="rtl",{valueManager:i,fieldValueManager:a,valueType:l,validator:c,internalProps:u,internalProps:{value:d,defaultValue:h,referenceDate:p,onChange:f,format:m,formatDensity:g="dense",selectedSections:w,onSelectedSectionsChange:b,shouldRespectLeadingZeros:T=!1,timezone:E,enableAccessibleFieldDOMStructure:I=!1}}=t,{timezone:D,value:C,handleValueChange:x}=lc({timezone:E,value:d,defaultValue:h,onChange:f,valueManager:i}),O=y.useMemo(()=>Qw(e),[e]),$=y.useMemo(()=>Zw(e,O,D),[e,O,D]),R=y.useCallback((j,U=null)=>a.getSectionsFromValue(e,j,U,Q=>md({utils:e,timezone:D,localeText:n,localizedDigits:O,format:m,date:Q,formatDensity:g,shouldRespectLeadingZeros:T,enableAccessibleFieldDOMStructure:I,isRTL:s})),[a,m,n,O,s,T,e,g,D,I]),[N,V]=y.useState(()=>{const j=R(C),U={sections:j,value:C,referenceValue:i.emptyValue,tempValueStrAndroid:null},Q=Yw(j),ne=i.getInitialReferenceValue({referenceDate:p,value:C,utils:e,props:u,granularity:Q,timezone:D});return v({},U,{referenceValue:ne})}),[A,P]=an({controlled:w,default:null,name:"useField",state:"selectedSections"}),M=j=>{P(j),b==null||b(j)},B=y.useMemo(()=>nl(A,N.sections),[A,N.sections]),S=B==="all"?0:B,L=({value:j,referenceValue:U,sections:Q})=>{if(V(q=>v({},q,{sections:Q,value:j,referenceValue:U,tempValueStrAndroid:null})),i.areValuesEqual(e,N.value,j))return;const ne={validationError:c({adapter:r,value:j,props:v({},u,{value:j,timezone:D})})};x(j,ne)},W=(j,U)=>{const Q=[...N.sections];return Q[j]=v({},Q[j],{value:U,modified:!0}),Q},J=()=>{L({value:i.emptyValue,referenceValue:N.referenceValue,sections:R(i.emptyValue)})},z=()=>{if(S==null)return;const j=N.sections[S],U=a.getActiveDateManager(e,N,j),ne=U.getSections(N.sections).filter(F=>F.value!=="").length===(j.value===""?0:1),q=W(S,""),re=ne?null:e.getInvalidDate(),X=U.getNewValuesFromNewActiveDate(re);L(v({},X,{sections:q}))},H=j=>{const U=(q,re)=>{const X=e.parse(q,m);if(X==null||!e.isValid(X))return null;const F=md({utils:e,timezone:D,localeText:n,localizedDigits:O,format:m,date:X,formatDensity:g,shouldRespectLeadingZeros:T,enableAccessibleFieldDOMStructure:I,isRTL:s});return fd(e,D,X,F,re,!1)},Q=a.parseValueStr(j,N.referenceValue,U),ne=a.updateReferenceValue(e,Q,N.referenceValue);L({value:Q,referenceValue:ne,sections:R(Q,N.sections)})},ee=({activeSection:j,newSectionValue:U,shouldGoToNextSection:Q})=>{Q&&S<N.sections.length-1&&M(S+1);const ne=a.getActiveDateManager(e,N,j),q=W(S,U),re=ne.getSections(q),X=Jw(e,re,O);let F,Z;if(X!=null&&e.isValid(X)){const te=fd(e,D,X,re,ne.referenceDate,!0);F=ne.getNewValuesFromNewActiveDate(te),Z=!0}else F=ne.getNewValuesFromNewActiveDate(X),Z=(X!=null&&!e.isValid(X))!=(ne.date!=null&&!e.isValid(ne.date));return Z?L(v({},F,{sections:q})):V(te=>v({},te,F,{sections:q,tempValueStrAndroid:null}))},oe=j=>V(U=>v({},U,{tempValueStrAndroid:j}));return y.useEffect(()=>{const j=R(N.value);V(U=>v({},U,{sections:j}))},[m,e.locale,s]),y.useEffect(()=>{let j;i.areValuesEqual(e,N.value,C)?j=i.getTimezone(e,N.value)!==i.getTimezone(e,C):j=!0,j&&V(U=>v({},U,{value:C,referenceValue:a.updateReferenceValue(e,C,U.referenceValue),sections:R(C)}))},[C]),{state:N,activeSectionIndex:S,parsedSelectedSections:B,setSelectedSections:M,clearValue:J,clearActiveSection:z,updateSectionValue:ee,updateValueFromValueStr:H,setTempAndroidValueStr:oe,getSectionsFromValue:R,sectionsValueBoundaries:$,localizedDigits:O,timezone:D}},bT=5e3,fr=t=>t.saveQuery!=null,wT=({sections:t,updateSectionValue:e,sectionsValueBoundaries:n,localizedDigits:r,setTempAndroidValueStr:o,timezone:s})=>{const i=Be(),[a,l]=y.useState(null),c=le(()=>l(null));y.useEffect(()=>{var f;a!=null&&((f=t[a.sectionIndex])==null?void 0:f.type)!==a.sectionType&&c()},[t,a,c]),y.useEffect(()=>{if(a!=null){const f=setTimeout(()=>c(),bT);return()=>{clearTimeout(f)}}return()=>{}},[a,c]);const u=({keyPressed:f,sectionIndex:m},g,w)=>{const b=f.toLowerCase(),T=t[m];if(a!=null&&(!w||w(a.value))&&a.sectionIndex===m){const I=`${a.value}${b}`,D=g(I,T);if(!fr(D))return l({sectionIndex:m,value:I,sectionType:T.type}),D}const E=g(b,T);return fr(E)&&!E.saveQuery?(c(),null):(l({sectionIndex:m,value:b,sectionType:T.type}),fr(E)?null:E)},d=f=>{const m=(b,T,E)=>{const I=T.filter(D=>D.toLowerCase().startsWith(E));return I.length===0?{saveQuery:!1}:{sectionValue:I[0],shouldGoToNextSection:I.length===1}},g=(b,T,E,I)=>{const D=C=>Sp(i,s,T.type,C);if(T.contentType==="letter")return m(T.format,D(T.format),b);if(E&&I!=null&&Pp(i,E).contentType==="letter"){const C=D(E),x=m(E,C,b);return fr(x)?{saveQuery:!1}:v({},x,{sectionValue:I(x.sectionValue,C)})}return{saveQuery:!1}};return u(f,(b,T)=>{switch(T.type){case"month":{const E=I=>hd(i,I,i.formats.month,T.format);return g(b,T,i.formats.month,E)}case"weekDay":{const E=(I,D)=>D.indexOf(I).toString();return g(b,T,i.formats.weekday,E)}case"meridiem":return g(b,T);default:return{saveQuery:!1}}})},h=f=>{const m=(w,b)=>{const T=tr(w,r),E=Number(T),I=n[b.type]({currentDate:null,format:b.format,contentType:b.contentType});if(E>I.maximum)return{saveQuery:!1};if(E<I.minimum)return{saveQuery:!0};const D=E*10>I.maximum||T.length===I.maximum.toString().length;return{sectionValue:Rp(i,E,I,r,b),shouldGoToNextSection:D}};return u(f,(w,b)=>{if(b.contentType==="digit"||b.contentType==="digit-with-letter")return m(w,b);if(b.type==="month"){const T=Mp(i,s,"digit","month","MM"),E=m(w,{type:b.type,format:"MM",hasLeadingZerosInFormat:T,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(fr(E))return E;const I=hd(i,E.sectionValue,"MM",b.format);return v({},E,{sectionValue:I})}if(b.type==="weekDay"){const T=m(w,b);if(fr(T))return T;const E=Li(i,s,b.format)[Number(T.sectionValue)-1];return v({},T,{sectionValue:E})}return{saveQuery:!1}},w=>dd(w,r))};return{applyCharacterEditing:le(f=>{const m=t[f.sectionIndex],w=dd(f.keyPressed,r)?h(v({},f,{keyPressed:uc(f.keyPressed,r)})):d(f);if(w==null){o(null);return}e({activeSection:m,newSectionValue:w.sectionValue,shouldGoToNextSection:w.shouldGoToNextSection})}),resetCharacterQuery:c}};function TT(t,e){return Array.isArray(e)?e.every(n=>t.indexOf(n)!==-1):t.indexOf(e)!==-1}const ET=(t,e)=>n=>{(n.key==="Enter"||n.key===" ")&&(t(n),n.preventDefault(),n.stopPropagation())},$t=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?$t(e.shadowRoot):e:null},IT="@media (pointer: fine)",xT=t=>{const{internalProps:{disabled:e,readOnly:n=!1},forwardedProps:{sectionListRef:r,onBlur:o,onClick:s,onFocus:i,onInput:a,onPaste:l,focused:c,autoFocus:u=!1},fieldValueManager:d,applyCharacterEditing:h,resetCharacterQuery:p,setSelectedSections:f,parsedSelectedSections:m,state:g,clearActiveSection:w,clearValue:b,updateSectionValue:T,updateValueFromValueStr:E,sectionOrder:I,areAllSectionsEmpty:D,sectionsValueBoundaries:C}=t,x=y.useRef(null),O=Ke(r,x),$=En(),R=Be(),N=Tn(),[V,A]=y.useState(!1),P=y.useMemo(()=>({syncSelectionToDOM:()=>{if(!x.current)return;const F=document.getSelection();if(!F)return;if(m==null){F.rangeCount>0&&x.current.getRoot().contains(F.getRangeAt(0).startContainer)&&F.removeAllRanges(),V&&x.current.getRoot().blur();return}if(!x.current.getRoot().contains($t(document)))return;const Z=new window.Range;let te;m==="all"?te=x.current.getRoot():g.sections[m].type==="empty"?te=x.current.getSectionContainer(m):te=x.current.getSectionContent(m),Z.selectNodeContents(te),te.focus(),F.removeAllRanges(),F.addRange(Z)},getActiveSectionIndexFromDOM:()=>{const F=$t(document);return!F||!x.current||!x.current.getRoot().contains(F)?null:x.current.getSectionIndexFromDOMElement(F)},focusField:(F=0)=>{if(!x.current)return;const Z=nl(F,g.sections);A(!0),x.current.getSectionContent(Z).focus()},setSelectedSections:F=>{if(!x.current)return;const Z=nl(F,g.sections);A((Z==="all"?0:Z)!==null),f(F)},isFieldFocused:()=>{const F=$t(document);return!!x.current&&x.current.getRoot().contains(F)}}),[m,f,g.sections,V]),M=le(F=>{if(!x.current)return;const Z=g.sections[F];x.current.getSectionContent(F).innerHTML=Z.value||Z.placeholder,P.syncSelectionToDOM()}),B=le((F,...Z)=>{F.isDefaultPrevented()||!x.current||(A(!0),s==null||s(F,...Z),m==="all"?setTimeout(()=>{const te=document.getSelection().getRangeAt(0).startOffset;if(te===0){f(I.startIndex);return}let ye=0,Oe=0;for(;Oe<te&&ye<g.sections.length;){const ae=g.sections[ye];ye+=1,Oe+=`${ae.startSeparator}${ae.value||ae.placeholder}${ae.endSeparator}`.length}f(ye-1)}):V?x.current.getRoot().contains(F.target)||f(I.startIndex):(A(!0),f(I.startIndex)))}),S=le(F=>{if(a==null||a(F),!x.current||m!=="all")return;const te=F.target.textContent??"";x.current.getRoot().innerHTML=g.sections.map(ye=>`${ye.startSeparator}${ye.value||ye.placeholder}${ye.endSeparator}`).join(""),P.syncSelectionToDOM(),te.length===0||te.charCodeAt(0)===10?(p(),b(),f("all")):te.length>1?E(te):h({keyPressed:te,sectionIndex:0})}),L=le(F=>{if(l==null||l(F),n||m!=="all"){F.preventDefault();return}const Z=F.clipboardData.getData("text");F.preventDefault(),p(),E(Z)}),W=le((...F)=>{if(i==null||i(...F),V||!x.current)return;A(!0),x.current.getSectionIndexFromDOMElement($t(document))!=null||f(I.startIndex)}),J=le((...F)=>{o==null||o(...F),setTimeout(()=>{if(!x.current)return;const Z=$t(document);!x.current.getRoot().contains(Z)&&(A(!1),f(null))})}),z=le(F=>Z=>{Z.isDefaultPrevented()||n||f(F)}),H=le(F=>{F.preventDefault()}),ee=le(F=>()=>{n||f(F)}),oe=le(F=>{if(F.preventDefault(),n||typeof m!="number")return;const Z=g.sections[m],te=F.clipboardData.getData("text"),ye=/^[a-zA-Z]+$/.test(te),Oe=/^[0-9]+$/.test(te),ae=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(te);Z.contentType==="letter"&&ye||Z.contentType==="digit"&&Oe||Z.contentType==="digit-with-letter"&&ae?(p(),T({activeSection:Z,newSectionValue:te,shouldGoToNextSection:!0})):!ye&&!Oe&&(p(),E(te))}),j=le(F=>{F.preventDefault(),F.dataTransfer.dropEffect="none"}),U=le(F=>{if(!x.current)return;const Z=F.target,te=Z.textContent??"",ye=x.current.getSectionIndexFromDOMElement(Z),Oe=g.sections[ye];if(n||!x.current){M(ye);return}if(te.length===0){if(Oe.value===""){M(ye);return}p(),w();return}h({keyPressed:te,sectionIndex:ye}),M(ye)});Gt(()=>{if(!(!V||!x.current)){if(m==="all")x.current.getRoot().focus();else if(typeof m=="number"){const F=x.current.getSectionContent(m);F&&F.focus()}}},[m,V]);const Q=y.useMemo(()=>g.sections.reduce((F,Z)=>(F[Z.type]=C[Z.type]({currentDate:null,contentType:Z.contentType,format:Z.format}),F),{}),[C,g.sections]),ne=m==="all",q=y.useMemo(()=>g.sections.map((F,Z)=>{const te=!ne&&!e&&!n;return{container:{"data-sectionindex":Z,onClick:z(Z)},content:{tabIndex:ne||Z>0?-1:0,contentEditable:!ne&&!e&&!n,role:"spinbutton",id:`${N}-${F.type}`,"aria-labelledby":`${N}-${F.type}`,"aria-readonly":n,"aria-valuenow":oT(F,R),"aria-valuemin":Q[F.type].minimum,"aria-valuemax":Q[F.type].maximum,"aria-valuetext":F.value?rT(F,R):$.empty,"aria-label":$[F.type],"aria-disabled":e,spellCheck:te?!1:void 0,autoCapitalize:te?"off":void 0,autoCorrect:te?"off":void 0,[parseInt(y.version,10)>=17?"enterKeyHint":"enterkeyhint"]:te?"next":void 0,children:F.value||F.placeholder,onInput:U,onPaste:oe,onFocus:ee(Z),onDragOver:j,onMouseUp:H,inputMode:F.contentType==="letter"?"text":"numeric"},before:{children:F.startSeparator},after:{children:F.endSeparator}}}),[g.sections,ee,oe,j,U,z,H,e,n,ne,$,R,Q,N]),re=le(F=>{E(F.target.value)}),X=y.useMemo(()=>D?"":d.getV7HiddenInputValueFromSections(g.sections),[D,g.sections,d]);return y.useEffect(()=>{if(x.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));u&&x.current&&x.current.getSectionContent(I.startIndex).focus()},[]),{interactions:P,returnedValue:{autoFocus:u,readOnly:n,focused:c??V,sectionListRef:O,onBlur:J,onClick:B,onFocus:W,onInput:S,onPaste:L,enableAccessibleFieldDOMStructure:!0,elements:q,tabIndex:m===0?-1:0,contentEditable:ne,value:X,onChange:re,areAllSectionsEmpty:D}}},wr=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),CT=(t,e,n)=>{let r=0,o=n?1:0;const s=[];for(let i=0;i<t.length;i+=1){const a=t[i],l=dc(a,n?"input-rtl":"input-ltr",e),c=`${a.startSeparator}${l}${a.endSeparator}`,u=wr(c).length,d=c.length,h=wr(l),p=o+(h===""?0:l.indexOf(h[0]))+a.startSeparator.length,f=p+h.length;s.push(v({},a,{start:r,end:r+u,startInInput:p,endInInput:f})),r+=u,o+=d}return s},PT=t=>{const n=Xt().direction==="rtl",r=y.useRef(),{forwardedProps:{onFocus:o,onClick:s,onPaste:i,onBlur:a,inputRef:l,placeholder:c},internalProps:{readOnly:u=!1},parsedSelectedSections:d,activeSectionIndex:h,state:p,fieldValueManager:f,valueManager:m,applyCharacterEditing:g,resetCharacterQuery:w,updateSectionValue:b,updateValueFromValueStr:T,clearActiveSection:E,clearValue:I,setTempAndroidValueStr:D,setSelectedSections:C,getSectionsFromValue:x,areAllSectionsEmpty:O,localizedDigits:$}=t,R=y.useRef(null),N=Ke(l,R),V=y.useMemo(()=>CT(p.sections,$,n),[p.sections,$,n]),A=y.useMemo(()=>({syncSelectionToDOM:()=>{if(!R.current)return;if(d==null){R.current.scrollLeft&&(R.current.scrollLeft=0);return}if(R.current!==$t(document))return;const j=R.current.scrollTop;if(d==="all")R.current.select();else{const U=V[d],Q=U.type==="empty"?U.startInInput-U.startSeparator.length:U.startInInput,ne=U.type==="empty"?U.endInInput+U.endSeparator.length:U.endInInput;(Q!==R.current.selectionStart||ne!==R.current.selectionEnd)&&R.current===$t(document)&&R.current.setSelectionRange(Q,ne)}R.current.scrollTop=j},getActiveSectionIndexFromDOM:()=>{var q;const j=R.current.selectionStart??0,U=R.current.selectionEnd??0,Q=!!((q=R.current)!=null&&q.readOnly);if(j===0&&U===0||Q)return null;const ne=j<=V[0].startInInput?1:V.findIndex(re=>re.startInInput-re.startSeparator.length>j);return ne===-1?V.length-1:ne-1},focusField:(j=0)=>{var U;(U=R.current)==null||U.focus(),C(j)},setSelectedSections:j=>C(j),isFieldFocused:()=>R.current===$t(document)}),[R,d,V,C]),P=()=>{if(u){C(null);return}const j=R.current.selectionStart??0;let U;j<=V[0].startInInput||j>=V[V.length-1].endInInput?U=1:U=V.findIndex(ne=>ne.startInInput-ne.startSeparator.length>j);const Q=U===-1?V.length-1:U-1;C(Q)},M=le((...j)=>{o==null||o(...j);const U=R.current;clearTimeout(r.current),r.current=setTimeout(()=>{!U||U!==R.current||h!=null||u||(U.value.length&&Number(U.selectionEnd)-Number(U.selectionStart)===U.value.length?C("all"):P())})}),B=le((j,...U)=>{j.isDefaultPrevented()||(s==null||s(j,...U),P())}),S=le(j=>{if(i==null||i(j),j.preventDefault(),u)return;const U=j.clipboardData.getData("text");if(typeof d=="number"){const Q=p.sections[d],ne=/^[a-zA-Z]+$/.test(U),q=/^[0-9]+$/.test(U),re=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(U);if(Q.contentType==="letter"&&ne||Q.contentType==="digit"&&q||Q.contentType==="digit-with-letter"&&re){w(),b({activeSection:Q,newSectionValue:U,shouldGoToNextSection:!0});return}if(ne||q)return}w(),T(U)}),L=le((...j)=>{a==null||a(...j),C(null)}),W=le(j=>{if(u)return;const U=j.target.value;if(U===""){w(),I();return}const Q=j.nativeEvent.data,ne=Q&&Q.length>1,q=ne?Q:U,re=wr(q);if(h==null||ne){T(ne?Q:re);return}let X;if(d==="all"&&re.length===1)X=re;else{const F=wr(f.getV6InputValueFromSections(V,$,n));let Z=-1,te=-1;for(let he=0;he<F.length;he+=1)Z===-1&&F[he]!==re[he]&&(Z=he),te===-1&&F[F.length-he-1]!==re[re.length-he-1]&&(te=he);const ye=V[h];if(Z<ye.start||F.length-te-1>ye.end)return;const ae=re.length-F.length+ye.end-wr(ye.endSeparator||"").length;X=re.slice(ye.start+wr(ye.startSeparator||"").length,ae)}if(X.length===0){tT()?D(q):(w(),E());return}g({keyPressed:X,sectionIndex:h})}),J=y.useMemo(()=>c||f.getV6InputValueFromSections(x(m.emptyValue),$,n),[c,f,x,m.emptyValue,$,n]),z=y.useMemo(()=>p.tempValueStrAndroid??f.getV6InputValueFromSections(p.sections,$,n),[p.sections,f,p.tempValueStrAndroid,$,n]);y.useEffect(()=>(R.current&&R.current===$t(document)&&C("all"),()=>{clearTimeout(r.current)}),[]);const H=y.useMemo(()=>h==null||p.sections[h].contentType==="letter"?"text":"numeric",[h,p.sections]),oe=!(R.current&&R.current===$t(document))&&O;return{interactions:A,returnedValue:{readOnly:u,onBlur:L,onClick:B,onFocus:M,onPaste:S,inputRef:N,enableAccessibleFieldDOMStructure:!1,placeholder:J,inputMode:H,autoComplete:"off",value:oe?"":z,onChange:W}}},Fp=t=>{const e=Be(),{internalProps:n,internalProps:{unstableFieldRef:r,minutesStep:o,enableAccessibleFieldDOMStructure:s=!1,disabled:i=!1,readOnly:a=!1},forwardedProps:{onKeyDown:l,error:c,clearable:u,onClear:d},fieldValueManager:h,valueManager:p,validator:f}=t,g=Xt().direction==="rtl",w=_T(t),{state:b,activeSectionIndex:T,parsedSelectedSections:E,setSelectedSections:I,clearValue:D,clearActiveSection:C,updateSectionValue:x,setTempAndroidValueStr:O,sectionsValueBoundaries:$,localizedDigits:R,timezone:N}=w,V=wT({sections:b.sections,updateSectionValue:x,sectionsValueBoundaries:$,localizedDigits:R,setTempAndroidValueStr:O,timezone:N}),{resetCharacterQuery:A}=V,P=p.areValuesEqual(e,b.value,p.emptyValue),M=s?xT:PT,B=y.useMemo(()=>nT(b.sections,g&&!s),[b.sections,g,s]),{returnedValue:S,interactions:L}=M(v({},t,w,V,{areAllSectionsEmpty:P,sectionOrder:B})),W=le(j=>{switch(l==null||l(j),!0){case((j.ctrlKey||j.metaKey)&&j.key.toLowerCase()==="a"&&!j.shiftKey&&!j.altKey):{j.preventDefault(),I("all");break}case j.key==="Enter":{j.preventDefault();break}case j.key==="ArrowRight":{if(j.preventDefault(),E==null)I(B.startIndex);else if(E==="all")I(B.endIndex);else{const U=B.neighbors[E].rightIndex;U!==null&&I(U)}break}case j.key==="ArrowLeft":{if(j.preventDefault(),E==null)I(B.endIndex);else if(E==="all")I(B.startIndex);else{const U=B.neighbors[E].leftIndex;U!==null&&I(U)}break}case j.key==="Delete":{if(j.preventDefault(),a)break;E==null||E==="all"?D():C(),A();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(j.key):{if(j.preventDefault(),a||T==null)break;const U=b.sections[T],Q=h.getActiveDateManager(e,b,U),ne=Xw(e,N,U,j.key,$,R,Q.date,{minutesStep:o});x({activeSection:U,newSectionValue:ne,shouldGoToNextSection:!1});break}}});Gt(()=>{L.syncSelectionToDOM()});const J=Np(v({},n,{value:b.value,timezone:N}),f,p.isSameError,p.defaultErrorState),z=y.useMemo(()=>c!==void 0?c:p.hasError(J),[p,J,c]);y.useEffect(()=>{!z&&T==null&&A()},[b.referenceValue,T,z]),y.useEffect(()=>{b.tempValueStrAndroid!=null&&T!=null&&(A(),C())},[b.sections]),y.useImperativeHandle(r,()=>({getSections:()=>b.sections,getActiveSectionIndex:L.getActiveSectionIndexFromDOM,setSelectedSections:L.setSelectedSections,focusField:L.focusField,isFieldFocused:L.isFieldFocused}));const H=le((j,...U)=>{j.preventDefault(),d==null||d(j,...U),D(),L.isFieldFocused()?I(B.startIndex):L.focusField(0)}),ee={onKeyDown:W,onClear:H,error:z,clearable:!!(u&&!P&&!a&&!i)},oe={disabled:i,readOnly:a};return v({},t.forwardedProps,ee,oe,S)},Ni=({props:t,value:e,adapter:n})=>{if(e===null)return null;const{shouldDisableDate:r,shouldDisableMonth:o,shouldDisableYear:s,disablePast:i,disableFuture:a,timezone:l}=t,c=n.utils.date(void 0,l),u=zt(n.utils,t.minDate,n.defaultDates.minDate),d=zt(n.utils,t.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(e):return"invalidDate";case!!(r&&r(e)):return"shouldDisableDate";case!!(o&&o(e)):return"shouldDisableMonth";case!!(s&&s(e)):return"shouldDisableYear";case!!(a&&n.utils.isAfterDay(e,c)):return"disableFuture";case!!(i&&n.utils.isBeforeDay(e,c)):return"disablePast";case!!(u&&n.utils.isBeforeDay(e,u)):return"minDate";case!!(d&&n.utils.isAfterDay(e,d)):return"maxDate";default:return null}},rl=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],ol=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Bp=["minDateTime","maxDateTime"],ST=[...rl,...ol,...Bp],jp=t=>ST.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{}),DT=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],Up=(t,e)=>{const n=v({},t),r={},o=s=>{n.hasOwnProperty(s)&&(r[s]=n[s],delete n[s])};return DT.forEach(o),e==="date"?rl.forEach(o):e==="time"?ol.forEach(o):e==="date-time"&&(rl.forEach(o),ol.forEach(o),Bp.forEach(o)),{forwardedProps:n,internalProps:r}},RT=t=>{const e=Be(),n=hs();return v({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??e.formats.keyboardDate,minDate:zt(e,t.minDate,n.minDate),maxDate:zt(e,t.maxDate,n.maxDate)})},AT=t=>{const e=Be(),r=t.ampm??e.is12HourCycleInCurrentLocale()?e.formats.fullTime12h:e.formats.fullTime24h;return v({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??r})},MT=t=>{const e=RT(t),{forwardedProps:n,internalProps:r}=Up(e,"date");return Fp({forwardedProps:n,internalProps:r,valueManager:vn,fieldValueManager:iT,validator:Ni,valueType:"date"})},kT=["clearable","onClear","InputProps","sx","slots","slotProps"],VT=["ownerState"],zp=t=>{const e=En(),{clearable:n,onClear:r,InputProps:o,sx:s,slots:i,slotProps:a}=t,l=se(t,kT),c=(i==null?void 0:i.clearButton)??cr,u=De({elementType:c,externalSlotProps:a==null?void 0:a.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),d=se(u,VT),h=(i==null?void 0:i.clearIcon)??Dw,p=De({elementType:h,externalSlotProps:a==null?void 0:a.clearIcon,ownerState:{}});return v({},l,{InputProps:v({},o,{endAdornment:_.jsxs(y.Fragment,{children:[n&&_.jsx(sp,{position:"end",sx:{marginRight:o!=null&&o.endAdornment?-1:-1.5},children:_.jsx(c,v({},d,{onClick:r,children:_.jsx(h,v({fontSize:"small"},p))}))}),o==null?void 0:o.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(s)?s:[s]]})};function OT(t){return Ie("MuiPickersTextField",t)}Ee("MuiPickersTextField",["root","focused","disabled","error","required"]);function $T(t){return Ie("MuiPickersInputBase",t)}const Er=Ee("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function LT(t){return Ie("MuiPickersSectionList",t)}const uo=Ee("MuiPickersSectionList",["root","section","sectionContent"]),NT=["slots","slotProps","elements","sectionListRef"],Wp=Y("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(t,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),Hp=Y("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(t,e)=>e.section})({}),qp=Y("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(t,e)=>e.sectionSeparator})({whiteSpace:"pre"}),Yp=Y("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(t,e)=>e.sectionContent})({outline:"none"}),FT=t=>{const{classes:e}=t;return we({root:["root"],section:["section"],sectionContent:["sectionContent"]},LT,e)};function BT(t){const{slots:e,slotProps:n,element:r,classes:o}=t,s=(e==null?void 0:e.section)??Hp,i=De({elementType:s,externalSlotProps:n==null?void 0:n.section,externalForwardedProps:r.container,className:o.section,ownerState:{}}),a=(e==null?void 0:e.sectionContent)??Yp,l=De({elementType:a,externalSlotProps:n==null?void 0:n.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:o.sectionContent,ownerState:{}}),c=(e==null?void 0:e.sectionSeparator)??qp,u=De({elementType:c,externalSlotProps:n==null?void 0:n.sectionSeparator,externalForwardedProps:r.before,ownerState:{position:"before"}}),d=De({elementType:c,externalSlotProps:n==null?void 0:n.sectionSeparator,externalForwardedProps:r.after,ownerState:{position:"after"}});return _.jsxs(s,v({},i,{children:[_.jsx(c,v({},u)),_.jsx(a,v({},l)),_.jsx(c,v({},d))]}))}const jT=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersSectionList"}),{slots:o,slotProps:s,elements:i,sectionListRef:a}=r,l=se(r,NT),c=FT(r),u=y.useRef(null),d=Ke(n,u),h=m=>{if(!u.current)throw new Error(`MUI X: Cannot call sectionListRef.${m} before the mount of the component.`);return u.current};y.useImperativeHandle(a,()=>({getRoot(){return h("getRoot")},getSectionContainer(m){return h("getSectionContainer").querySelector(`.${uo.section}[data-sectionindex="${m}"]`)},getSectionContent(m){return h("getSectionContent").querySelector(`.${uo.section}[data-sectionindex="${m}"] .${uo.sectionContent}`)},getSectionIndexFromDOMElement(m){const g=h("getSectionIndexFromDOMElement");if(m==null||!g.contains(m))return null;let w=null;return m.classList.contains(uo.section)?w=m:m.classList.contains(uo.sectionContent)&&(w=m.parentElement),w==null?null:Number(w.dataset.sectionindex)}}));const p=(o==null?void 0:o.root)??Wp,f=De({elementType:p,externalSlotProps:s==null?void 0:s.root,externalForwardedProps:l,additionalProps:{ref:d,suppressContentEditableWarning:!0},className:c.root,ownerState:{}});return _.jsx(p,v({},f,{children:f.contentEditable?i.map(({content:m,before:g,after:w})=>`${g.children}${m.children}${w.children}`).join(""):_.jsx(y.Fragment,{children:i.map((m,g)=>_.jsx(BT,{slots:o,slotProps:s,element:m,classes:c},g))})}))}),UT=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],zT=t=>Math.round(t*1e5)/1e5,Fi=Y("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>v({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${zT(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),hc=Y(Wp,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})(({theme:t})=>v({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px"},t.direction==="rtl"&&{textAlign:"right /*! @noflip */"},{variants:[{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:n,filled:r,label:o})=>!e&&!n&&!r&&o==null,style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),WT=Y(Hp,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(t,e)=>e.section})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),HT=Y(Yp,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,e)=>e.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),qT=Y(qp,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(t,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),YT=Y("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,e)=>e.hiddenInput})(v({},qy)),KT=t=>{const{focused:e,disabled:n,error:r,classes:o,fullWidth:s,readOnly:i,color:a,size:l,endAdornment:c,startAdornment:u}=t,d={root:["root",e&&!n&&"focused",n&&"disabled",i&&"readOnly",r&&"error",s&&"fullWidth",`color${ue(a)}`,l==="small"&&"inputSizeSmall",!!u&&"adornedStart",!!c&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return we(d,$T,o)},pc=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersInputBase"}),{elements:o,areAllSectionsEmpty:s,value:i,onChange:a,id:l,endAdornment:c,startAdornment:u,renderSuffix:d,slots:h,slotProps:p,contentEditable:f,tabIndex:m,onInput:g,onPaste:w,onKeyDown:b,name:T,readOnly:E,inputProps:I,inputRef:D,sectionListRef:C}=r,x=se(r,UT),O=y.useRef(null),$=Ke(n,O),R=Ke(I==null?void 0:I.ref,D),N=Hr();if(!N)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const V=L=>{var W;if(N.disabled){L.stopPropagation();return}(W=N.onFocus)==null||W.call(N,L)};y.useEffect(()=>{N&&N.setAdornedStart(!!u)},[N,u]),y.useEffect(()=>{N&&(s?N.onEmpty():N.onFilled())},[N,s]);const A=v({},r,N),P=KT(A),M=(h==null?void 0:h.root)||Fi,B=De({elementType:M,externalSlotProps:p==null?void 0:p.root,externalForwardedProps:x,additionalProps:{"aria-invalid":N.error,ref:$},className:P.root,ownerState:A}),S=(h==null?void 0:h.input)||hc;return _.jsxs(M,v({},B,{children:[u,_.jsx(jT,{sectionListRef:C,elements:o,contentEditable:f,tabIndex:m,className:P.sectionsContainer,onFocus:V,onBlur:N.onBlur,onInput:g,onPaste:w,onKeyDown:b,slots:{root:S,section:WT,sectionContent:HT,sectionSeparator:qT},slotProps:{root:{ownerState:A},sectionContent:{className:Er.sectionContent},sectionSeparator:({position:L})=>({className:L==="before"?Er.sectionBefore:Er.sectionAfter})}}),c,d?d(v({},N)):null,_.jsx(YT,v({name:T,className:P.input,value:i,onChange:a,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:E,required:N.required,disabled:N.disabled},I,{ref:R}))]}))});function GT(t){return Ie("MuiPickersOutlinedInput",t)}const Yt=v({},Er,Ee("MuiPickersOutlinedInput",["root","notchedOutline","input"])),QT=["children","className","label","notched","shrink"],XT=Y("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),gd=Y("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),JT=Y("legend")(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function ZT(t){const{className:e,label:n}=t,r=se(t,QT),o=n!=null&&n!=="",s=v({},t,{withLabel:o});return _.jsx(XT,v({"aria-hidden":!0,className:e},r,{ownerState:s,children:_.jsx(JT,{ownerState:s,children:o?_.jsx(gd,{children:n}):_.jsx(gd,{className:"notranslate",children:"​"})})}))}const eE=["label","autoFocus","ownerState","notched"],tE=Y(Fi,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Yt.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Yt.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Yt.focused} .${Yt.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${Yt.disabled}`]:{[`& .${Yt.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${Yt.error} .${Yt.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(n=>(t.vars??t).palette[n].main).map(n=>({props:{color:n},style:{[`&.${Yt.focused}:not(.${Yt.error}) .${Yt.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}}))}}),nE=Y(hc,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),rE=t=>{const{classes:e}=t,r=we({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},GT,e);return v({},e,r)},Kp=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersOutlinedInput"}),{label:o,ownerState:s,notched:i}=r,a=se(r,eE),l=Hr(),c=v({},r,s,l,{color:(l==null?void 0:l.color)||"primary"}),u=rE(c);return _.jsx(pc,v({slots:{root:tE,input:nE},renderSuffix:d=>_.jsx(ZT,{shrink:!!(i||d.adornedStart||d.focused||d.filled),notched:!!(i||d.adornedStart||d.focused||d.filled),className:u.notchedOutline,label:o!=null&&o!==""&&(l!=null&&l.required)?_.jsxs(y.Fragment,{children:[o," ","*"]}):o,ownerState:c})},a,{label:o,classes:u,ref:n}))});Kp.muiName="Input";function oE(t){return Ie("MuiPickersFilledInput",t)}const qn=v({},Er,Ee("MuiPickersFilledInput",["root","underline","input"])),sE=["label","autoFocus","disableUnderline","ownerState"],iE=Y(Fi,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Ry(t)&&t!=="disableUnderline"})(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${qn.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${qn.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[...Object.keys((t.vars??t).palette).filter(i=>(t.vars??t).palette[i].main).map(i=>{var a;return{props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[i])==null?void 0:a.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${qn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${qn.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${qn.disabled}, .${qn.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${qn.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:i})=>!!i,style:{paddingLeft:12}},{props:({endAdornment:i})=>!!i,style:{paddingRight:12}}]}}),aE=Y(hc,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:t})=>!!t,style:{paddingLeft:0}},{props:({endAdornment:t})=>!!t,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),lE=t=>{const{classes:e,disableUnderline:n}=t,o=we({root:["root",!n&&"underline"],input:["input"]},oE,e);return v({},e,o)},Gp=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersFilledInput"}),{label:o,disableUnderline:s=!1,ownerState:i}=r,a=se(r,sE),l=Hr(),c=v({},r,i,l,{color:(l==null?void 0:l.color)||"primary"}),u=lE(c);return _.jsx(pc,v({slots:{root:iE,input:aE},slotProps:{root:{disableUnderline:s}}},a,{label:o,classes:u,ref:n}))});Gp.muiName="Input";function cE(t){return Ie("MuiPickersFilledInput",t)}const ho=v({},Er,Ee("MuiPickersInput",["root","input"])),uE=["label","autoFocus","disableUnderline","ownerState"],dE=Y(Fi,{name:"MuiPickersInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(r=>(t.vars??t).palette[r].main).map(r=>({props:{color:r},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ho.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ho.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ho.disabled}, .${ho.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${ho.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),hE=t=>{const{classes:e,disableUnderline:n}=t,o=we({root:["root",!n&&"underline"],input:["input"]},cE,e);return v({},e,o)},Qp=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersInput"}),{label:o,disableUnderline:s=!1,ownerState:i}=r,a=se(r,uE),l=Hr(),c=v({},r,i,l,{disableUnderline:s,color:(l==null?void 0:l.color)||"primary"}),u=hE(c);return _.jsx(pc,v({slots:{root:dE}},a,{label:o,classes:u,ref:n}))});Qp.muiName="Input";const pE=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],fE={standard:Qp,filled:Gp,outlined:Kp},mE=Y(ss,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),gE=t=>{const{focused:e,disabled:n,classes:r,required:o}=t;return we({root:["root",e&&!n&&"focused",n&&"disabled",o&&"required"]},OT,r)},Xp=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersTextField"}),{onFocus:o,onBlur:s,className:i,color:a="primary",disabled:l=!1,error:c=!1,variant:u="outlined",required:d=!1,InputProps:h,inputProps:p,inputRef:f,sectionListRef:m,elements:g,areAllSectionsEmpty:w,onClick:b,onKeyDown:T,onPaste:E,onInput:I,endAdornment:D,startAdornment:C,tabIndex:x,contentEditable:O,focused:$,value:R,onChange:N,fullWidth:V,id:A,name:P,helperText:M,FormHelperTextProps:B,label:S,InputLabelProps:L}=r,W=se(r,pE),J=y.useRef(null),z=Ke(n,J),H=Tn(A),ee=M&&H?`${H}-helper-text`:void 0,oe=S&&H?`${H}-label`:void 0,j=v({},r,{color:a,disabled:l,error:c,focused:$,required:d,variant:u}),U=gE(j),Q=fE[u];return _.jsxs(mE,v({className:de(U.root,i),ref:z,focused:$,onFocus:o,onBlur:s,disabled:l,variant:u,error:c,color:a,fullWidth:V,required:d,ownerState:j},W,{children:[_.jsx(is,v({htmlFor:H,id:oe},L,{children:S})),_.jsx(Q,v({elements:g,areAllSectionsEmpty:w,onClick:b,onKeyDown:T,onInput:I,onPaste:E,endAdornment:D,startAdornment:C,tabIndex:x,contentEditable:O,value:R,onChange:N,id:H,fullWidth:V,inputProps:p,inputRef:f,sectionListRef:m,label:S,name:P,role:"group","aria-labelledby":oe},h)),M&&_.jsx(as,v({id:ee},B,{children:M}))]}))}),yE=["enableAccessibleFieldDOMStructure"],vE=["InputProps","readOnly"],_E=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],Jp=t=>{let{enableAccessibleFieldDOMStructure:e}=t,n=se(t,yE);if(e){const{InputProps:d,readOnly:h}=n,p=se(n,vE);return v({},p,{InputProps:v({},d??{},{readOnly:h})})}const{onPaste:r,onKeyDown:o,inputMode:s,readOnly:i,InputProps:a,inputProps:l,inputRef:c}=n,u=se(n,_E);return v({},u,{InputProps:v({},a??{},{readOnly:i}),inputProps:v({},l??{},{inputMode:s,onPaste:r,onKeyDown:o,ref:c})})},bE=["slots","slotProps","InputProps","inputProps"],Zp=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDateField"}),{slots:o,slotProps:s,InputProps:i,inputProps:a}=r,l=se(r,bE),c=r,u=(o==null?void 0:o.textField)??(e.enableAccessibleFieldDOMStructure?Xp:hp),d=De({elementType:u,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,additionalProps:{ref:n},ownerState:c});d.inputProps=v({},a,d.inputProps),d.InputProps=v({},i,d.InputProps);const h=MT(d),p=Jp(h),f=zp(v({},p,{slots:o,slotProps:s}));return _.jsx(u,v({},f))}),yd=({adapter:t,value:e,props:n})=>{if(e===null)return null;const{minTime:r,maxTime:o,minutesStep:s,shouldDisableTime:i,disableIgnoringDatePartForTimeValidation:a=!1,disablePast:l,disableFuture:c,timezone:u}=n,d=t.utils.date(void 0,u),h=Ep(a,t.utils);switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(r&&h(r,e)):return"minTime";case!!(o&&h(e,o)):return"maxTime";case!!(c&&t.utils.isAfter(e,d)):return"disableFuture";case!!(l&&t.utils.isBefore(e,d)):return"disablePast";case!!(i&&i(e,"hours")):return"shouldDisableTime-hours";case!!(i&&i(e,"minutes")):return"shouldDisableTime-minutes";case!!(i&&i(e,"seconds")):return"shouldDisableTime-seconds";case!!(s&&t.utils.getMinutes(e)%s!==0):return"minutesStep";default:return null}},ef=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:o,disableFuture:s,disablePast:i,timezone:a})=>{const l=ur();return y.useCallback(c=>Ni({adapter:l,value:c,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:o,disableFuture:s,disablePast:i,timezone:a}})!==null,[l,t,e,n,r,o,s,i,a])},wE=(t,e,n)=>(r,o)=>{switch(o.type){case"changeMonth":return v({},r,{slideDirection:o.direction,currentMonth:o.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return v({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&o.focusedDay!=null&&n.isSameDay(o.focusedDay,r.focusedDay))return r;const s=o.focusedDay!=null&&!e&&!n.isSameMonth(r.currentMonth,o.focusedDay);return v({},r,{focusedDay:o.focusedDay,isMonthSwitchingAnimating:s&&!t&&!o.withoutMonthSwitchingAnimation,currentMonth:s?n.startOfMonth(o.focusedDay):r.currentMonth,slideDirection:o.focusedDay!=null&&n.isAfterDay(o.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},TE=t=>{const{value:e,referenceDate:n,disableFuture:r,disablePast:o,disableSwitchToMonthOnDayFocus:s=!1,maxDate:i,minDate:a,onMonthChange:l,reduceAnimations:c,shouldDisableDate:u,timezone:d}=t,h=Be(),p=y.useRef(wE(!!c,s,h)).current,f=y.useMemo(()=>vn.getInitialReferenceValue({value:e,utils:h,timezone:d,props:t,referenceDate:n,granularity:Zt.day}),[]),[m,g]=y.useReducer(p,{isMonthSwitchingAnimating:!1,focusedDay:f,currentMonth:h.startOfMonth(f),slideDirection:"left"}),w=y.useCallback(D=>{g(v({type:"changeMonth"},D)),l&&l(D.newMonth)},[l]),b=y.useCallback(D=>{const C=D;h.isSameMonth(C,m.currentMonth)||w({newMonth:h.startOfMonth(C),direction:h.isAfterDay(C,m.currentMonth)?"left":"right"})},[m.currentMonth,w,h]),T=ef({shouldDisableDate:u,minDate:a,maxDate:i,disableFuture:r,disablePast:o,timezone:d}),E=y.useCallback(()=>{g({type:"finishMonthSwitchingAnimation"})},[]),I=le((D,C)=>{T(D)||g({type:"changeFocusedDay",focusedDay:D,withoutMonthSwitchingAnimation:C})});return{referenceDate:f,calendarState:m,changeMonth:b,changeFocusedDay:I,isDateDisabled:T,onMonthSwitchingAnimationEnd:E,handleChangeMonth:w}},EE=t=>Ie("MuiPickersFadeTransitionGroup",t);Ee("MuiPickersFadeTransitionGroup",["root"]);const IE=t=>{const{classes:e}=t;return we({root:["root"]},EE,e)},xE=Y(Ah,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function tf(t){const e=ge({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:o,transKey:s}=e,i=IE(e),a=Xt();return o?n:_.jsx(xE,{className:de(i.root,r),children:_.jsx(ns,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:n},s)})}const CE=t=>Ie("MuiPickersSlideTransition",t),Ot=Ee("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),PE=["children","className","reduceAnimations","slideDirection","transKey","classes"],SE=t=>{const{classes:e,slideDirection:n}=t,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return we(r,CE,e)},DE=Y(Ah,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${Ot["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${Ot["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${Ot.slideEnterActive}`]:e.slideEnterActive},{[`.${Ot.slideExit}`]:e.slideExit},{[`.${Ot["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${Ot["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ot["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ot["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ot.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${Ot.slideExit}`]:{transform:"translate(0%)"},[`& .${Ot["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${Ot["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function RE(t){const e=ge({props:t,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:o,transKey:s}=e,i=se(e,PE),a=SE(e),l=Xt();if(o)return _.jsx("div",{className:de(a.root,r),children:n});const c={exit:a.exit,enterActive:a.enterActive,enter:a.enter,exitActive:a.exitActive};return _.jsx(DE,{className:de(a.root,r),childFactory:u=>y.cloneElement(u,{classNames:c}),role:"presentation",children:_.jsx(Wl,v({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:c},i,{children:n}),s)})}const AE=t=>Ie("MuiDayCalendar",t);Ee("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const ME=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],kE=["ownerState"],VE=t=>{const{classes:e}=t;return we({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},AE,e)},nf=($o+Oi*2)*6,OE=Y("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),$E=Y("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),LE=Y(Bt,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),NE=Y(Bt,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),FE=Y(Bt,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>v({},t.typography.caption,{width:$o,height:$o,padding:0,margin:`0 ${Oi}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),BE=Y("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:nf}),jE=Y(RE,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:nf}),UE=Y("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),zE=Y("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${Oi}px 0`,display:"flex",justifyContent:"center"});function WE(t){let{parentProps:e,day:n,focusableDay:r,selectedDays:o,isDateDisabled:s,currentMonthNumber:i,isViewFocused:a}=t,l=se(t,ME);const{disabled:c,disableHighlightToday:u,isMonthSwitchingAnimating:d,showDaysOutsideCurrentMonth:h,slots:p,slotProps:f,timezone:m}=e,g=Be(),w=Vi(m),b=r!==null&&g.isSameDay(n,r),T=o.some(N=>g.isSameDay(N,n)),E=g.isSameDay(n,w),I=(p==null?void 0:p.day)??Lp,D=De({elementType:I,externalSlotProps:f==null?void 0:f.day,additionalProps:v({disableHighlightToday:u,showDaysOutsideCurrentMonth:h,role:"gridcell",isAnimating:d,"data-timestamp":g.toJsDate(n).valueOf()},l),ownerState:v({},e,{day:n,selected:T})}),C=se(D,kE),x=y.useMemo(()=>c||s(n),[c,s,n]),O=y.useMemo(()=>g.getMonth(n)!==i,[g,n,i]),$=y.useMemo(()=>{const N=g.startOfMonth(g.setMonth(n,i));return h?g.isSameDay(n,g.startOfWeek(N)):g.isSameDay(n,N)},[i,n,h,g]),R=y.useMemo(()=>{const N=g.endOfMonth(g.setMonth(n,i));return h?g.isSameDay(n,g.endOfWeek(N)):g.isSameDay(n,N)},[i,n,h,g]);return _.jsx(I,v({},C,{day:n,disabled:x,autoFocus:a&&b,today:E,outsideCurrentMonth:O,isFirstVisibleCell:$,isLastVisibleCell:R,selected:T,tabIndex:b?0:-1,"aria-selected":T,"aria-current":E?"date":void 0}))}function HE(t){const e=ge({props:t,name:"MuiDayCalendar"}),n=Be(),{onFocusedDayChange:r,className:o,currentMonth:s,selectedDays:i,focusedDay:a,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:u,readOnly:d,reduceAnimations:h,renderLoading:p=()=>_.jsx("span",{children:"..."}),slideDirection:f,TransitionProps:m,disablePast:g,disableFuture:w,minDate:b,maxDate:T,shouldDisableDate:E,shouldDisableMonth:I,shouldDisableYear:D,dayOfWeekFormatter:C=ae=>n.format(ae,"weekdayShort").charAt(0).toUpperCase(),hasFocus:x,onFocusedViewChange:O,gridLabelId:$,displayWeekNumber:R,fixedWeekNumber:N,autoFocus:V,timezone:A}=e,P=Vi(A),M=VE(e),S=Xt().direction==="rtl",L=ef({shouldDisableDate:E,shouldDisableMonth:I,shouldDisableYear:D,minDate:b,maxDate:T,disablePast:g,disableFuture:w,timezone:A}),W=En(),[J,z]=an({name:"DayCalendar",state:"hasFocus",controlled:x,default:V??!1}),[H,ee]=y.useState(()=>a||P),oe=le(ae=>{d||c(ae)}),j=ae=>{L(ae)||(r(ae),ee(ae),O==null||O(!0),z(!0))},U=le((ae,he)=>{switch(ae.key){case"ArrowUp":j(n.addDays(he,-7)),ae.preventDefault();break;case"ArrowDown":j(n.addDays(he,7)),ae.preventDefault();break;case"ArrowLeft":{const Pe=n.addDays(he,S?1:-1),Ae=n.addMonths(he,S?1:-1),Xe=Co({utils:n,date:Pe,minDate:S?Pe:n.startOfMonth(Ae),maxDate:S?n.endOfMonth(Ae):Pe,isDateDisabled:L,timezone:A});j(Xe||Pe),ae.preventDefault();break}case"ArrowRight":{const Pe=n.addDays(he,S?-1:1),Ae=n.addMonths(he,S?-1:1),Xe=Co({utils:n,date:Pe,minDate:S?n.startOfMonth(Ae):Pe,maxDate:S?Pe:n.endOfMonth(Ae),isDateDisabled:L,timezone:A});j(Xe||Pe),ae.preventDefault();break}case"Home":j(n.startOfWeek(he)),ae.preventDefault();break;case"End":j(n.endOfWeek(he)),ae.preventDefault();break;case"PageUp":j(n.addMonths(he,1)),ae.preventDefault();break;case"PageDown":j(n.addMonths(he,-1)),ae.preventDefault();break}}),Q=le((ae,he)=>j(he)),ne=le((ae,he)=>{J&&n.isSameDay(H,he)&&(O==null||O(!1))}),q=n.getMonth(s),re=n.getYear(s),X=y.useMemo(()=>i.filter(ae=>!!ae).map(ae=>n.startOfDay(ae)),[n,i]),F=`${re}-${q}`,Z=y.useMemo(()=>y.createRef(),[F]),te=n.startOfWeek(P),ye=y.useMemo(()=>{const ae=n.startOfMonth(s),he=n.endOfMonth(s);return L(H)||n.isAfterDay(H,he)||n.isBeforeDay(H,ae)?Co({utils:n,date:H,minDate:ae,maxDate:he,disablePast:g,disableFuture:w,isDateDisabled:L,timezone:A}):H},[s,w,g,H,L,n,A]),Oe=y.useMemo(()=>{const ae=n.setTimezone(s,A),he=n.getWeekArray(ae);let Pe=n.addMonths(ae,1);for(;N&&he.length<N;){const Ae=n.getWeekArray(Pe),Xe=n.isSameDay(he[he.length-1][0],Ae[0][0]);Ae.slice(Xe?1:0).forEach(rt=>{he.length<N&&he.push(rt)}),Pe=n.addMonths(Pe,1)}return he},[s,N,n,A]);return _.jsxs(OE,{role:"grid","aria-labelledby":$,className:M.root,children:[_.jsxs($E,{role:"row",className:M.header,children:[R&&_.jsx(NE,{variant:"caption",role:"columnheader","aria-label":W.calendarWeekNumberHeaderLabel,className:M.weekNumberLabel,children:W.calendarWeekNumberHeaderText}),qw(n,P).map((ae,he)=>_.jsx(LE,{variant:"caption",role:"columnheader","aria-label":n.format(n.addDays(te,he),"weekday"),className:M.weekDayLabel,children:C(ae)},he.toString()))]}),l?_.jsx(BE,{className:M.loadingContainer,children:p()}):_.jsx(jE,v({transKey:F,onExited:u,reduceAnimations:h,slideDirection:f,className:de(o,M.slideTransition)},m,{nodeRef:Z,children:_.jsx(UE,{ref:Z,role:"rowgroup",className:M.monthContainer,children:Oe.map((ae,he)=>_.jsxs(zE,{role:"row",className:M.weekContainer,"aria-rowindex":he+1,children:[R&&_.jsx(FE,{className:M.weekNumber,role:"rowheader","aria-label":W.calendarWeekNumberAriaLabelText(n.getWeekNumber(ae[0])),children:W.calendarWeekNumberText(n.getWeekNumber(ae[0]))}),ae.map((Pe,Ae)=>_.jsx(WE,{parentProps:e,day:Pe,selectedDays:X,focusableDay:ye,onKeyDown:U,onFocus:Q,onBlur:ne,onDaySelect:oe,isDateDisabled:L,currentMonthNumber:q,isViewFocused:J,"aria-colindex":Ae+1},Pe.toString()))]},`week-${ae[0]}`))})}))]})}function qE(t){return Ie("MuiPickersMonth",t)}const ks=Ee("MuiPickersMonth",["root","monthButton","disabled","selected"]),YE=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],KE=t=>{const{disabled:e,selected:n,classes:r}=t;return we({root:["root"],monthButton:["monthButton",e&&"disabled",n&&"selected"]},qE,r)},GE=Y("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),QE=Y("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${ks.disabled}`]:e.disabled},{[`&.${ks.selected}`]:e.selected}]})(({theme:t})=>v({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${ks.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${ks.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),XE=y.memo(function(e){const n=ge({props:e,name:"MuiPickersMonth"}),{autoFocus:r,children:o,disabled:s,selected:i,value:a,tabIndex:l,onClick:c,onKeyDown:u,onFocus:d,onBlur:h,"aria-current":p,"aria-label":f}=n,m=se(n,YE),g=y.useRef(null),w=KE(n);return Gt(()=>{var b;r&&((b=g.current)==null||b.focus())},[r]),_.jsx(GE,v({className:w.root,ownerState:n},m,{children:_.jsx(QE,{ref:g,disabled:s,type:"button",role:"radio",tabIndex:s?-1:l,"aria-current":p,"aria-checked":i,"aria-label":f,onClick:b=>c(b,a),onKeyDown:b=>u(b,a),onFocus:b=>d(b,a),onBlur:b=>h(b,a),className:w.monthButton,ownerState:n,children:o})}))});function JE(t){return Ie("MuiMonthCalendar",t)}Ee("MuiMonthCalendar",["root"]);const ZE=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],eI=t=>{const{classes:e}=t;return we({root:["root"]},JE,e)};function tI(t,e){const n=Be(),r=hs(),o=ge({props:t,name:e});return v({disableFuture:!1,disablePast:!1},o,{minDate:zt(n,o.minDate,r.minDate),maxDate:zt(n,o.maxDate,r.maxDate)})}const nI=Y("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:$i,boxSizing:"border-box"}),rI=y.forwardRef(function(e,n){const r=tI(e,"MuiMonthCalendar"),{className:o,value:s,defaultValue:i,referenceDate:a,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:h,onChange:p,shouldDisableMonth:f,readOnly:m,autoFocus:g=!1,onMonthFocus:w,hasFocus:b,onFocusedViewChange:T,monthsPerRow:E=3,timezone:I,gridLabelId:D}=r,C=se(r,ZE),{value:x,handleValueChange:O,timezone:$}=cc({name:"MonthCalendar",timezone:I,value:s,defaultValue:i,onChange:p,valueManager:vn}),R=Vi($),N=Mh(),V=Be(),A=y.useMemo(()=>vn.getInitialReferenceValue({value:x,utils:V,props:r,timezone:$,referenceDate:a,granularity:Zt.month}),[]),P=r,M=eI(P),B=y.useMemo(()=>V.getMonth(R),[V,R]),S=y.useMemo(()=>x!=null?V.getMonth(x):null,[x,V]),[L,W]=y.useState(()=>S||V.getMonth(A)),[J,z]=an({name:"MonthCalendar",state:"hasFocus",controlled:b,default:g??!1}),H=le(q=>{z(q),T&&T(q)}),ee=y.useCallback(q=>{const re=V.startOfMonth(u&&V.isAfter(R,h)?R:h),X=V.startOfMonth(c&&V.isBefore(R,d)?R:d),F=V.startOfMonth(q);return V.isBefore(F,re)||V.isAfter(F,X)?!0:f?f(F):!1},[c,u,d,h,R,f,V]),oe=le((q,re)=>{if(m)return;const X=V.setMonth(x??A,re);O(X)}),j=le(q=>{ee(V.setMonth(x??A,q))||(W(q),H(!0),w&&w(q))});y.useEffect(()=>{W(q=>S!==null&&q!==S?S:q)},[S]);const U=le((q,re)=>{switch(q.key){case"ArrowUp":j((12+re-3)%12),q.preventDefault();break;case"ArrowDown":j((12+re+3)%12),q.preventDefault();break;case"ArrowLeft":j((12+re+(N.direction==="ltr"?-1:1))%12),q.preventDefault();break;case"ArrowRight":j((12+re+(N.direction==="ltr"?1:-1))%12),q.preventDefault();break}}),Q=le((q,re)=>{j(re)}),ne=le((q,re)=>{L===re&&H(!1)});return _.jsx(nI,v({ref:n,className:de(M.root,o),ownerState:P,role:"radiogroup","aria-labelledby":D},C,{children:ic(V,x??A).map(q=>{const re=V.getMonth(q),X=V.format(q,"monthShort"),F=V.format(q,"month"),Z=re===S,te=l||ee(q);return _.jsx(XE,{selected:Z,value:re,onClick:oe,onKeyDown:U,autoFocus:J&&re===L,disabled:te,tabIndex:re===L?0:-1,onFocus:Q,onBlur:ne,"aria-current":B===re?"date":void 0,"aria-label":F,monthsPerRow:E,children:X},X)})}))});function oI(t){return Ie("MuiPickersYear",t)}const Vs=Ee("MuiPickersYear",["root","yearButton","selected","disabled"]),sI=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],iI=t=>{const{disabled:e,selected:n,classes:r}=t;return we({root:["root"],yearButton:["yearButton",e&&"disabled",n&&"selected"]},oI,r)},aI=Y("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),lI=Y("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${Vs.disabled}`]:e.disabled},{[`&.${Vs.selected}`]:e.selected}]})(({theme:t})=>v({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:Rr(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Vs.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Vs.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),cI=y.memo(function(e){const n=ge({props:e,name:"MuiPickersYear"}),{autoFocus:r,className:o,children:s,disabled:i,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:p,"aria-current":f}=n,m=se(n,sI),g=y.useRef(null),w=iI(n);return y.useEffect(()=>{r&&g.current.focus()},[r]),_.jsx(aI,v({className:de(w.root,o),ownerState:n},m,{children:_.jsx(lI,{ref:g,disabled:i,type:"button",role:"radio",tabIndex:i?-1:c,"aria-current":f,"aria-checked":a,onClick:b=>u(b,l),onKeyDown:b=>d(b,l),onFocus:b=>h(b,l),onBlur:b=>p(b,l),className:w.yearButton,ownerState:n,children:s})}))});function uI(t){return Ie("MuiYearCalendar",t)}Ee("MuiYearCalendar",["root"]);const dI=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],hI=t=>{const{classes:e}=t;return we({root:["root"]},uI,e)};function pI(t,e){const n=Be(),r=hs(),o=ge({props:t,name:e});return v({disablePast:!1,disableFuture:!1},o,{yearsPerRow:o.yearsPerRow??3,minDate:zt(n,o.minDate,r.minDate),maxDate:zt(n,o.maxDate,r.maxDate)})}const fI=Y("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:$i,maxHeight:zw,boxSizing:"border-box",position:"relative"}),mI=y.forwardRef(function(e,n){const r=pI(e,"MuiYearCalendar"),{autoFocus:o,className:s,value:i,defaultValue:a,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:p,onChange:f,readOnly:m,shouldDisableYear:g,onYearFocus:w,hasFocus:b,onFocusedViewChange:T,yearsPerRow:E,timezone:I,gridLabelId:D}=r,C=se(r,dI),{value:x,handleValueChange:O,timezone:$}=cc({name:"YearCalendar",timezone:I,value:i,defaultValue:a,onChange:f,valueManager:vn}),R=Vi($),N=Mh(),V=Be(),A=y.useMemo(()=>vn.getInitialReferenceValue({value:x,utils:V,props:r,timezone:$,referenceDate:l,granularity:Zt.year}),[]),P=r,M=hI(P),B=y.useMemo(()=>V.getYear(R),[V,R]),S=y.useMemo(()=>x!=null?V.getYear(x):null,[x,V]),[L,W]=y.useState(()=>S||V.getYear(A)),[J,z]=an({name:"YearCalendar",state:"hasFocus",controlled:b,default:o??!1}),H=le(X=>{z(X),T&&T(X)}),ee=y.useCallback(X=>{if(d&&V.isBeforeYear(X,R)||u&&V.isAfterYear(X,R)||p&&V.isBeforeYear(X,p)||h&&V.isAfterYear(X,h))return!0;if(!g)return!1;const F=V.startOfYear(X);return g(F)},[u,d,h,p,R,g,V]),oe=le((X,F)=>{if(m)return;const Z=V.setYear(x??A,F);O(Z)}),j=le(X=>{ee(V.setYear(x??A,X))||(W(X),H(!0),w==null||w(X))});y.useEffect(()=>{W(X=>S!==null&&X!==S?S:X)},[S]);const U=le((X,F)=>{switch(X.key){case"ArrowUp":j(F-E),X.preventDefault();break;case"ArrowDown":j(F+E),X.preventDefault();break;case"ArrowLeft":j(F+(N.direction==="ltr"?-1:1)),X.preventDefault();break;case"ArrowRight":j(F+(N.direction==="ltr"?1:-1)),X.preventDefault();break}}),Q=le((X,F)=>{j(F)}),ne=le((X,F)=>{L===F&&H(!1)}),q=y.useRef(null),re=Ke(n,q);return y.useEffect(()=>{if(o||q.current===null)return;const X=q.current.querySelector('[tabindex="0"]');if(!X)return;const F=X.offsetHeight,Z=X.offsetTop,te=q.current.clientHeight,ye=q.current.scrollTop,Oe=Z+F;F>te||Z<ye||(q.current.scrollTop=Oe-te/2-F/2)},[o]),_.jsx(fI,v({ref:re,className:de(M.root,s),ownerState:P,role:"radiogroup","aria-labelledby":D},C,{children:V.getYearRange([p,h]).map(X=>{const F=V.getYear(X),Z=F===S,te=c||ee(X);return _.jsx(cI,{selected:Z,value:F,onClick:oe,onKeyDown:U,autoFocus:J&&F===L,disabled:te,tabIndex:F===L?0:-1,onFocus:Q,onBlur:ne,"aria-current":B===F?"date":void 0,yearsPerRow:E,children:V.format(X,"year")},V.format(X,"year"))})}))}),gI=t=>Ie("MuiPickersCalendarHeader",t),yI=Ee("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),vI=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],_I=["ownerState"],bI=t=>{const{classes:e}=t;return we({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},gI,e)},wI=Y("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),TI=Y("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>v({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),EI=Y("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),II=Y(cr,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${yI.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),xI=Y(xw,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),CI=y.forwardRef(function(e,n){const r=En(),o=Be(),s=ge({props:e,name:"MuiPickersCalendarHeader"}),{slots:i,slotProps:a,currentMonth:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:p,onMonthChange:f,onViewChange:m,view:g,reduceAnimations:w,views:b,labelId:T,className:E,timezone:I,format:D=`${o.formats.month} ${o.formats.year}`}=s,C=se(s,vI),x=s,O=bI(s),$=(i==null?void 0:i.switchViewButton)??II,R=De({elementType:$,externalSlotProps:a==null?void 0:a.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(g)},ownerState:x,className:O.switchViewButton}),N=(i==null?void 0:i.switchViewIcon)??xI,V=De({elementType:N,externalSlotProps:a==null?void 0:a.switchViewIcon,ownerState:void 0,className:O.switchViewIcon}),A=se(V,_I),P=()=>f(o.addMonths(l,1),"left"),M=()=>f(o.addMonths(l,-1),"right"),B=jw(l,{disableFuture:u,maxDate:h,timezone:I}),S=Uw(l,{disablePast:d,minDate:p,timezone:I}),L=()=>{if(!(b.length===1||!m||c))if(b.length===2)m(b.find(J=>J!==g)||b[0]);else{const J=b.indexOf(g)!==0?0:1;m(b[J])}};if(b.length===1&&b[0]==="year")return null;const W=o.formatByString(l,D);return _.jsxs(wI,v({},C,{ownerState:x,className:de(E,O.root),ref:n,children:[_.jsxs(TI,{role:"presentation",onClick:L,ownerState:x,"aria-live":"polite",className:O.labelContainer,children:[_.jsx(tf,{reduceAnimations:w,transKey:W,children:_.jsx(EI,{id:T,ownerState:x,className:O.label,children:W})}),b.length>1&&!c&&_.jsx($,v({},R,{children:_.jsx(N,v({},A))}))]}),_.jsx(ns,{in:g==="day",children:_.jsx(Lw,{slots:i,slotProps:a,onGoToPrevious:M,isPreviousDisabled:S,previousLabel:r.previousMonth,onGoToNext:P,isNextDisabled:B,nextLabel:r.nextMonth})})]}))}),PI="@media (prefers-reduced-motion: reduce)",Ir=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),vd=Ir&&Ir[1]?parseInt(Ir[1],10):null,_d=Ir&&Ir[2]?parseInt(Ir[2],10):null,SI=vd&&vd<10||_d&&_d<13||!1,rf=()=>jl(PI,{defaultMatches:!1})||SI,DI=t=>Ie("MuiDateCalendar",t);Ee("MuiDateCalendar",["root","viewTransitionContainer"]);const RI=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],AI=t=>{const{classes:e}=t;return we({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},DI,e)};function MI(t,e){const n=Be(),r=hs(),o=rf(),s=ge({props:t,name:e});return v({},s,{loading:s.loading??!1,disablePast:s.disablePast??!1,disableFuture:s.disableFuture??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:s.reduceAnimations??o,renderLoading:s.renderLoading??(()=>_.jsx("span",{children:"..."})),minDate:zt(n,s.minDate,r.minDate),maxDate:zt(n,s.maxDate,r.maxDate)})}const kI=Y(Ww,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:sc}),VI=Y(tf,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),of=y.forwardRef(function(e,n){const r=Be(),o=Tn(),s=MI(e,"MuiDateCalendar"),{autoFocus:i,onViewChange:a,value:l,defaultValue:c,referenceDate:u,disableFuture:d,disablePast:h,onChange:p,onYearChange:f,onMonthChange:m,reduceAnimations:g,shouldDisableDate:w,shouldDisableMonth:b,shouldDisableYear:T,view:E,views:I,openTo:D,className:C,disabled:x,readOnly:O,minDate:$,maxDate:R,disableHighlightToday:N,focusedView:V,onFocusedViewChange:A,showDaysOutsideCurrentMonth:P,fixedWeekNumber:M,dayOfWeekFormatter:B,slots:S,slotProps:L,loading:W,renderLoading:J,displayWeekNumber:z,yearsPerRow:H,monthsPerRow:ee,timezone:oe}=s,j=se(s,RI),{value:U,handleValueChange:Q,timezone:ne}=cc({name:"DateCalendar",timezone:oe,value:l,defaultValue:c,onChange:p,valueManager:vn}),{view:q,setView:re,focusedView:X,setFocusedView:F,goToNextView:Z,setValueAndGoToNextView:te}=Ip({view:E,views:I,openTo:D,onChange:Q,onViewChange:a,autoFocus:i,focusedView:V,onFocusedViewChange:A}),{referenceDate:ye,calendarState:Oe,changeFocusedDay:ae,changeMonth:he,handleChangeMonth:Pe,isDateDisabled:Ae,onMonthSwitchingAnimationEnd:Xe}=TE({value:U,referenceDate:u,reduceAnimations:g,onMonthChange:m,minDate:$,maxDate:R,shouldDisableDate:w,disablePast:h,disableFuture:d,timezone:ne}),rt=x&&U||$,We=x&&U||R,Ht=`${o}-grid-label`,Tt=X!==null,Mt=(S==null?void 0:S.calendarHeader)??CI,pn=De({elementType:Mt,externalSlotProps:L==null?void 0:L.calendarHeader,additionalProps:{views:I,view:q,currentMonth:Oe.currentMonth,onViewChange:re,onMonthChange:(Ue,Vt)=>Pe({newMonth:Ue,direction:Vt}),minDate:rt,maxDate:We,disabled:x,disablePast:h,disableFuture:d,reduceAnimations:g,timezone:ne,labelId:Ht,slots:S,slotProps:L},ownerState:s}),fn=le(Ue=>{const Vt=r.startOfMonth(Ue),zn=r.endOfMonth(Ue),Jt=Ae(Ue)?Co({utils:r,date:Ue,minDate:r.isBefore($,Vt)?Vt:$,maxDate:r.isAfter(R,zn)?zn:R,disablePast:h,disableFuture:d,isDateDisabled:Ae,timezone:ne}):Ue;Jt?(te(Jt,"finish"),m==null||m(Vt)):(Z(),he(Vt)),ae(Jt,!0)}),vt=le(Ue=>{const Vt=r.startOfYear(Ue),zn=r.endOfYear(Ue),Jt=Ae(Ue)?Co({utils:r,date:Ue,minDate:r.isBefore($,Vt)?Vt:$,maxDate:r.isAfter(R,zn)?zn:R,disablePast:h,disableFuture:d,isDateDisabled:Ae,timezone:ne}):Ue;Jt?(te(Jt,"finish"),f==null||f(Jt)):(Z(),he(Vt)),ae(Jt,!0)}),mn=le(Ue=>Q(Ue&&ti(r,Ue,U??ye),"finish",q));y.useEffect(()=>{U!=null&&r.isValid(U)&&he(U)},[U]);const kt=s,pe=AI(kt),Me={disablePast:h,disableFuture:d,maxDate:R,minDate:$},je={disableHighlightToday:N,readOnly:O,disabled:x,timezone:ne,gridLabelId:Ht},_t=y.useRef(q);y.useEffect(()=>{_t.current!==q&&(X===_t.current&&F(q,!0),_t.current=q)},[X,F,q]);const In=y.useMemo(()=>[U],[U]);return _.jsxs(kI,v({ref:n,className:de(pe.root,C),ownerState:kt},j,{children:[_.jsx(Mt,v({},pn)),_.jsx(VI,{reduceAnimations:g,className:pe.viewTransitionContainer,transKey:q,ownerState:kt,children:_.jsxs("div",{children:[q==="year"&&_.jsx(mI,v({},Me,je,{value:U,onChange:vt,shouldDisableYear:T,hasFocus:Tt,onFocusedViewChange:Ue=>F("year",Ue),yearsPerRow:H,referenceDate:ye})),q==="month"&&_.jsx(rI,v({},Me,je,{hasFocus:Tt,className:C,value:U,onChange:fn,shouldDisableMonth:b,onFocusedViewChange:Ue=>F("month",Ue),monthsPerRow:ee,referenceDate:ye})),q==="day"&&_.jsx(HE,v({},Oe,Me,je,{onMonthSwitchingAnimationEnd:Xe,onFocusedDayChange:ae,reduceAnimations:g,selectedDays:In,onSelectedDaysChange:mn,shouldDisableDate:w,shouldDisableMonth:b,shouldDisableYear:T,hasFocus:Tt,onFocusedViewChange:Ue=>F("day",Ue),showDaysOutsideCurrentMonth:P,fixedWeekNumber:M,dayOfWeekFormatter:B,displayWeekNumber:z,slots:S,slotProps:L,loading:W,renderLoading:J}))]})})]}))});function OI(t){return Ie("MuiPickersToolbar",t)}Ee("MuiPickersToolbar",["root","content"]);const $I=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],LI=t=>{const{classes:e,isLandscape:n}=t;return we({root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]},OI,e)},NI=Y("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),FI=Y("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),BI=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersToolbar"}),{children:o,className:s,toolbarTitle:i,hidden:a,titleId:l}=r,c=se(r,$I),u=r,d=LI(u);return a?null:_.jsxs(NI,v({ref:n,className:de(d.root,s),ownerState:u},c,{children:[_.jsx(Bt,{color:"text.secondary",variant:"overline",id:l,children:i}),_.jsx(FI,{className:d.content,ownerState:u,children:o})]}))});function jI(t){return Ie("MuiDatePickerToolbar",t)}Ee("MuiDatePickerToolbar",["root","title"]);const UI=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],zI=t=>{const{classes:e}=t;return we({root:["root"],title:["title"]},jI,e)},WI=Y(BI,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),HI=Y(Bt,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),qI=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDatePickerToolbar"}),{value:o,isLandscape:s,toolbarFormat:i,toolbarPlaceholder:a="––",views:l,className:c}=r,u=se(r,UI),d=Be(),h=En(),p=zI(r),f=y.useMemo(()=>{if(!o)return a;const g=ac(d,{format:i,views:l},!0);return d.formatByString(o,g)},[o,i,a,d,l]),m=r;return _.jsx(WI,v({ref:n,toolbarTitle:h.datePickerToolbarTitle,isLandscape:s,className:de(p.root,c)},u,{children:_.jsx(HI,{variant:"h4",align:s?"left":"center",ownerState:m,className:p.title,children:f})}))});function sf(t,e){const n=Be(),r=hs(),o=ge({props:t,name:e}),s=y.useMemo(()=>{var i;return((i=o.localeText)==null?void 0:i.toolbarTitle)==null?o.localeText:v({},o.localeText,{datePickerToolbarTitle:o.localeText.toolbarTitle})},[o.localeText]);return v({},o,{localeText:s},Nw({views:o.views,openTo:o.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:o.disableFuture??!1,disablePast:o.disablePast??!1,minDate:zt(n,o.minDate,r.minDate),maxDate:zt(n,o.maxDate,r.maxDate),slots:v({toolbar:qI},o.slots)})}function YI(t){return Ie("MuiPickersPopper",t)}Ee("MuiPickersPopper",["root","paper"]);const KI=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],GI=t=>{const{classes:e}=t;return we({root:["root"],paper:["paper"]},YI,e)},QI=Y(Zl,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),XI=Y(ar,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:t})=>["top","top-start","top-end"].includes(t),style:{transformOrigin:"bottom center"}}]});function JI(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function ZI(t,e){const n=y.useRef(!1),r=y.useRef(!1),o=y.useRef(null),s=y.useRef(!1);y.useEffect(()=>{if(!t)return;function l(){s.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),s.current=!1}},[t]);const i=le(l=>{if(!s.current)return;const c=r.current;r.current=!1;const u=Dt(o.current);if(!o.current||"clientX"in l&&JI(l,u))return;if(n.current){n.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(o.current)>-1:d=!u.documentElement.contains(l.target)||o.current.contains(l.target),!d&&!c&&e(l)}),a=()=>{r.current=!0};return y.useEffect(()=>{if(t){const l=Dt(o.current),c=()=>{n.current=!0};return l.addEventListener("touchstart",i),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",i),l.removeEventListener("touchmove",c)}}},[t,i]),y.useEffect(()=>{if(t){const l=Dt(o.current);return l.addEventListener("click",i),()=>{l.removeEventListener("click",i),r.current=!1}}},[t,i]),[o,a,a]}const ex=y.forwardRef((t,e)=>{const{PaperComponent:n,popperPlacement:r,ownerState:o,children:s,paperSlotProps:i,paperClasses:a,onPaperClick:l,onPaperTouchStart:c}=t,u=se(t,KI),d=v({},o,{placement:r}),h=De({elementType:n,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:a,ownerState:d});return _.jsx(n,v({},u,h,{onClick:p=>{var f;l(p),(f=h.onClick)==null||f.call(h,p)},onTouchStart:p=>{var f;c(p),(f=h.onTouchStart)==null||f.call(h,p)},ownerState:d,children:s}))});function tx(t){const e=ge({props:t,name:"MuiPickersPopper"}),{anchorEl:n,children:r,containerRef:o=null,shouldRestoreFocus:s,onBlur:i,onDismiss:a,open:l,role:c,placement:u,slots:d,slotProps:h,reduceAnimations:p}=e;y.useEffect(()=>{function P(M){l&&M.key==="Escape"&&a()}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[a,l]);const f=y.useRef(null);y.useEffect(()=>{c==="tooltip"||s&&!s()||(l?f.current=$t(document):f.current&&f.current instanceof HTMLElement&&setTimeout(()=>{f.current instanceof HTMLElement&&f.current.focus()}))},[l,c,s]);const[m,g,w]=ZI(l,i??a),b=y.useRef(null),T=Ke(b,o),E=Ke(T,m),I=e,D=GI(I),C=rf(),x=p??C,O=P=>{P.key==="Escape"&&(P.stopPropagation(),a())},$=(d==null?void 0:d.desktopTransition)??x?ns:Oo,R=(d==null?void 0:d.desktopTrapFocus)??Ay,N=(d==null?void 0:d.desktopPaper)??XI,V=(d==null?void 0:d.popper)??QI,A=De({elementType:V,externalSlotProps:h==null?void 0:h.popper,additionalProps:{transition:!0,role:c,open:l,anchorEl:n,placement:u,onKeyDown:O},className:D.root,ownerState:e});return _.jsx(V,v({},A,{children:({TransitionProps:P,placement:M})=>_.jsx(R,v({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:c==="tooltip",isEnabled:()=>!0},h==null?void 0:h.desktopTrapFocus,{children:_.jsx($,v({},P,h==null?void 0:h.desktopTransition,{children:_.jsx(ex,{PaperComponent:N,ownerState:I,popperPlacement:M,ref:E,onPaperClick:g,onPaperTouchStart:w,paperClasses:D.paper,paperSlotProps:h==null?void 0:h.desktopPaper,children:r})}))}))}))}const nx=({open:t,onOpen:e,onClose:n})=>{const r=y.useRef(typeof t=="boolean").current,[o,s]=y.useState(!1);y.useEffect(()=>{if(r){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(t)}},[r,t]);const i=y.useCallback(a=>{r||s(a),a&&e&&e(),!a&&n&&n()},[r,e,n]);return{isOpen:o,setIsOpen:i}},rx=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:o}=t,s=!o&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?s?!0:n(r.lastPublishedValue):!1},ox=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:o,closeOnSelect:s}=t,i=!o&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?i&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&s?i?!0:n(r.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&n(r.lastCommittedValue):!1},sx=t=>{const{action:e,closeOnSelect:n}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&n:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},ix=({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:o})=>{const{onAccept:s,onChange:i,value:a,defaultValue:l,closeOnSelect:c=r==="desktop",timezone:u}=t,{current:d}=y.useRef(l),{current:h}=y.useRef(a!==void 0),p=Be(),f=ur(),{isOpen:m,setIsOpen:g}=nx(t),[w,b]=y.useState(()=>{let z;return a!==void 0?z=a:d!==void 0?z=d:z=e.emptyValue,{draft:z,lastPublishedValue:z,lastCommittedValue:z,lastControlledValue:a,hasBeenModifiedSinceMount:!1}}),{timezone:T,handleValueChange:E}=lc({timezone:u,value:a,defaultValue:d,onChange:i,valueManager:e});Np(v({},t,{value:w.draft,timezone:T}),o,e.isSameError,e.defaultErrorState);const I=le(z=>{const H={action:z,dateState:w,hasChanged:U=>!e.areValuesEqual(p,z.value,U),isControlled:h,closeOnSelect:c},ee=rx(H),oe=ox(H),j=sx(H);if(b(U=>v({},U,{draft:z.value,lastPublishedValue:ee?z.value:U.lastPublishedValue,lastCommittedValue:oe?z.value:U.lastCommittedValue,hasBeenModifiedSinceMount:!0})),ee){const Q={validationError:z.name==="setValueFromField"?z.context.validationError:o({adapter:f,value:z.value,props:v({},t,{value:z.value,timezone:T})})};z.name==="setValueFromShortcut"&&(Q.shortcut=z.shortcut),E(z.value,Q)}oe&&s&&s(z.value),j&&g(!1)});if(a!==void 0&&(w.lastControlledValue===void 0||!e.areValuesEqual(p,w.lastControlledValue,a))){const z=e.areValuesEqual(p,w.draft,a);b(H=>v({},H,{lastControlledValue:a},z?{}:{lastCommittedValue:a,lastPublishedValue:a,draft:a,hasBeenModifiedSinceMount:!0}))}const D=le(()=>{I({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),C=le(()=>{I({value:w.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),x=le(()=>{I({value:w.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),O=le(()=>{I({value:w.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),$=le(()=>{I({value:e.getTodayValue(p,T,n),name:"setValueFromAction",pickerAction:"today"})}),R=le(z=>{z.preventDefault(),g(!0)}),N=le(z=>{z==null||z.preventDefault(),g(!1)}),V=le((z,H="partial")=>I({name:"setValueFromView",value:z,selectionState:H})),A=le((z,H,ee)=>I({name:"setValueFromShortcut",value:z,changeImportance:H,shortcut:ee})),P=le((z,H)=>I({name:"setValueFromField",value:z,context:H})),M={onClear:D,onAccept:C,onDismiss:x,onCancel:O,onSetToday:$,onOpen:R,onClose:N},B={value:w.draft,onChange:P},S=y.useMemo(()=>e.cleanValue(p,w.draft),[p,e,w.draft]),L={value:S,onChange:V,onClose:N,open:m},J=v({},M,{value:S,onChange:V,onSelectShortcut:A,isValid:z=>{const H=o({adapter:f,value:z,props:v({},t,{value:z,timezone:T})});return!e.hasError(H)}});return{open:m,fieldProps:B,viewProps:L,layoutProps:J,actions:M}},ax=["className","sx"],lx=({props:t,propsFromPickerValue:e,additionalViewProps:n,autoFocusView:r,rendererInterceptor:o,fieldRef:s})=>{const{onChange:i,open:a,onClose:l}=e,{views:c,openTo:u,onViewChange:d,disableOpenPicker:h,viewRenderers:p,timezone:f}=t,m=se(t,ax),{view:g,setView:w,defaultView:b,focusedView:T,setFocusedView:E,setValueAndGoToNextView:I}=Ip({view:void 0,views:c,openTo:u,onChange:i,onViewChange:d,autoFocus:r}),{hasUIView:D,viewModeLookup:C}=y.useMemo(()=>c.reduce((A,P)=>{let M;return h?M="field":p[P]!=null?M="UI":M="field",A.viewModeLookup[P]=M,M==="UI"&&(A.hasUIView=!0),A},{hasUIView:!1,viewModeLookup:{}}),[h,p,c]),x=y.useMemo(()=>c.reduce((A,P)=>p[P]!=null&&Bw(P)?A+1:A,0),[p,c]),O=C[g],$=le(()=>O==="UI"),[R,N]=y.useState(O==="UI"?g:null);return R!==g&&C[g]==="UI"&&N(g),Gt(()=>{O==="field"&&a&&(l(),setTimeout(()=>{var A;(A=s==null?void 0:s.current)==null||A.focusField(g)}))},[g]),Gt(()=>{if(!a)return;let A=g;O==="field"&&R!=null&&(A=R),A!==b&&C[A]==="UI"&&C[b]==="UI"&&(A=b),A!==g&&w(A),E(A,!0)},[a]),{hasUIView:D,shouldRestoreFocus:$,layoutProps:{views:c,view:R,onViewChange:w},renderCurrentView:()=>{if(R==null)return null;const A=p[R];if(A==null)return null;const P=v({},m,n,e,{views:c,timezone:f,onChange:I,view:R,onViewChange:w,focusedView:T,onFocusedViewChange:E,showViewSwitcher:x>1,timeViewsCount:x});return o?o(p,R,P):A(P)}}};function bd(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const cx=(t,e)=>{const[n,r]=y.useState(bd);return Gt(()=>{const s=()=>{r(bd())};return window.addEventListener("orientationchange",s),()=>{window.removeEventListener("orientationchange",s)}},[]),TT(t,["hours","minutes","seconds"])?!1:(e||n)==="landscape"},ux=({props:t,propsFromPickerValue:e,propsFromPickerViews:n,wrapperVariant:r})=>{const{orientation:o}=t,s=cx(n.views,o);return{layoutProps:v({},n,e,{isLandscape:s,wrapperVariant:r,disabled:t.disabled,readOnly:t.readOnly})}};_p(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const af=({props:t,valueManager:e,valueType:n,wrapperVariant:r,additionalViewProps:o,validator:s,autoFocusView:i,rendererInterceptor:a,fieldRef:l})=>{const c=ix({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:s}),u=lx({props:t,additionalViewProps:o,autoFocusView:i,fieldRef:l,propsFromPickerValue:c.viewProps,rendererInterceptor:a}),d=ux({props:t,wrapperVariant:r,propsFromPickerValue:c.layoutProps,propsFromPickerViews:u.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:d.layoutProps}};function lf(t){return Ie("MuiPickersLayout",t)}const po=Ee("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),dx=["onAccept","onClear","onCancel","onSetToday","actions"];function hx(t){const{onAccept:e,onClear:n,onCancel:r,onSetToday:o,actions:s}=t,i=se(t,dx),a=En();if(s==null||s.length===0)return null;const l=s==null?void 0:s.map(c=>{switch(c){case"clear":return _.jsx(vo,{onClick:n,children:a.clearButtonLabel},c);case"cancel":return _.jsx(vo,{onClick:r,children:a.cancelButtonLabel},c);case"accept":return _.jsx(vo,{onClick:e,children:a.okButtonLabel},c);case"today":return _.jsx(vo,{onClick:o,children:a.todayButtonLabel},c);default:return null}});return _.jsx(ab,v({},i,{children:l}))}const px=["items","changeImportance","isLandscape","onChange","isValid"],fx=["getValue"];function mx(t){const{items:e,changeImportance:n="accept",onChange:r,isValid:o}=t,s=se(t,px);if(e==null||e.length===0)return null;const i=e.map(a=>{let{getValue:l}=a,c=se(a,fx);const u=l({isValid:o});return{label:c.label,onClick:()=>{r(u,n,c)},disabled:!o(u)}});return _.jsx(Dh,v({dense:!0,sx:[{maxHeight:sc,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:i.map(a=>_.jsx(My,{children:_.jsx(L_,v({},a))},a.label))}))}function gx(t){return t.view!==null}const yx=t=>{const{classes:e,isLandscape:n}=t;return we({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},lf,e)},vx=t=>{const{wrapperVariant:e,onAccept:n,onClear:r,onCancel:o,onSetToday:s,view:i,views:a,onViewChange:l,value:c,onChange:u,onSelectShortcut:d,isValid:h,isLandscape:p,disabled:f,readOnly:m,children:g,slots:w,slotProps:b}=t,T=yx(t),E=(w==null?void 0:w.actionBar)??hx,I=De({elementType:E,externalSlotProps:b==null?void 0:b.actionBar,additionalProps:{onAccept:n,onClear:r,onCancel:o,onSetToday:s,actions:e==="desktop"?[]:["cancel","accept"],className:T.actionBar},ownerState:v({},t,{wrapperVariant:e})}),D=_.jsx(E,v({},I)),C=w==null?void 0:w.toolbar,x=De({elementType:C,externalSlotProps:b==null?void 0:b.toolbar,additionalProps:{isLandscape:p,onChange:u,value:c,view:i,onViewChange:l,views:a,disabled:f,readOnly:m,className:T.toolbar},ownerState:v({},t,{wrapperVariant:e})}),O=gx(x)&&C?_.jsx(C,v({},x)):null,$=g,R=w==null?void 0:w.tabs,N=i&&R?_.jsx(R,v({view:i,onViewChange:l,className:T.tabs},b==null?void 0:b.tabs)):null,V=(w==null?void 0:w.shortcuts)??mx,A=De({elementType:V,externalSlotProps:b==null?void 0:b.shortcuts,additionalProps:{isValid:h,isLandscape:p,onChange:d,className:T.shortcuts},ownerState:{isValid:h,isLandscape:p,onChange:d,className:T.shortcuts,wrapperVariant:e}}),P=i&&V?_.jsx(V,v({},A)):null;return{toolbar:O,content:$,tabs:N,actionBar:D,shortcuts:P}},_x=t=>{const{isLandscape:e,classes:n}=t;return we({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},lf,n)},cf=Y("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${po.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${po.toolbar}`]:{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"},[`.${po.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!1},style:{[`& .${po.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${po.shortcuts}`]:{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"}}}]}));cf.propTypes={as:k.elementType,ownerState:k.shape({isLandscape:k.bool.isRequired}).isRequired,sx:k.oneOfType([k.arrayOf(k.oneOfType([k.func,k.object,k.bool])),k.func,k.object])};const bx=Y("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),uf=function(e){const n=ge({props:e,name:"MuiPickersLayout"}),{toolbar:r,content:o,tabs:s,actionBar:i,shortcuts:a}=vx(n),{sx:l,className:c,isLandscape:u,ref:d,wrapperVariant:h}=n,p=n,f=_x(p);return _.jsxs(cf,{ref:d,sx:l,className:de(c,f.root),ownerState:p,children:[u?a:r,u?r:a,_.jsx(bx,{className:f.contentWrapper,children:h==="desktop"?_.jsxs(y.Fragment,{children:[o,s]}):_.jsxs(y.Fragment,{children:[s,o]})}),i]})},wx=["props","getOpenDialogAriaText"],Tx=["ownerState"],Ex=["ownerState"],Ix=t=>{var F;let{props:e,getOpenDialogAriaText:n}=t,r=se(t,wx);const{slots:o,slotProps:s,className:i,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,name:f,label:m,inputRef:g,readOnly:w,disabled:b,autoFocus:T,localeText:E,reduceAnimations:I}=e,D=Be(),C=y.useRef(null),x=y.useRef(null),O=Tn(),$=((F=s==null?void 0:s.toolbar)==null?void 0:F.hidden)??!1,{open:R,actions:N,hasUIView:V,layoutProps:A,renderCurrentView:P,shouldRestoreFocus:M,fieldProps:B}=af(v({},r,{props:e,fieldRef:x,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),S=o.inputAdornment??sp,L=De({elementType:S,externalSlotProps:s==null?void 0:s.inputAdornment,additionalProps:{position:"end"},ownerState:e}),W=se(L,Tx),J=o.openPickerButton??cr,z=De({elementType:J,externalSlotProps:s==null?void 0:s.openPickerButton,additionalProps:{disabled:b||w,onClick:R?N.onClose:N.onOpen,"aria-label":n(B.value,D),edge:W.position},ownerState:e}),H=se(z,Ex),ee=o.openPickerIcon,oe=o.field,j=De({elementType:oe,externalSlotProps:s==null?void 0:s.field,additionalProps:v({},B,$&&{id:O},{readOnly:w,disabled:b,className:i,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,label:m,name:f,autoFocus:T&&!e.open,focused:R?!0:void 0},g?{inputRef:g}:{}),ownerState:e});V&&(j.InputProps=v({},j.InputProps,{ref:C,[`${W.position}Adornment`]:_.jsx(S,v({},W,{children:_.jsx(J,v({},H,{children:_.jsx(ee,v({},s==null?void 0:s.openPickerIcon))}))}))}));const U=v({textField:o.textField,clearIcon:o.clearIcon,clearButton:o.clearButton},j.slots),Q=o.layout??uf;let ne=O;$&&(m?ne=`${O}-label`:ne=void 0);const q=v({},s,{toolbar:v({},s==null?void 0:s.toolbar,{titleId:O}),popper:v({"aria-labelledby":ne},s==null?void 0:s.popper)}),re=Ke(x,j.unstableFieldRef);return{renderPicker:()=>_.jsxs(ds,{localeText:E,children:[_.jsx(oe,v({},j,{slots:U,slotProps:q,unstableFieldRef:re})),_.jsx(tx,v({role:"dialog",placement:"bottom-start",anchorEl:C.current},N,{open:R,slots:o,slotProps:q,shouldRestoreFocus:M,reduceAnimations:I,children:_.jsx(Q,v({},A,q==null?void 0:q.layout,{slots:o,slotProps:q,children:P()}))}))]})}},xr=({view:t,onViewChange:e,views:n,focusedView:r,onFocusedViewChange:o,value:s,defaultValue:i,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:p,maxDate:f,shouldDisableDate:m,shouldDisableMonth:g,shouldDisableYear:w,reduceAnimations:b,onMonthChange:T,monthsPerRow:E,onYearChange:I,yearsPerRow:D,slots:C,slotProps:x,loading:O,renderLoading:$,disableHighlightToday:R,readOnly:N,disabled:V,showDaysOutsideCurrentMonth:A,dayOfWeekFormatter:P,sx:M,autoFocus:B,fixedWeekNumber:S,displayWeekNumber:L,timezone:W})=>_.jsx(of,{view:t,onViewChange:e,views:n.filter(cd),focusedView:r&&cd(r)?r:null,onFocusedViewChange:o,value:s,defaultValue:i,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:p,maxDate:f,shouldDisableDate:m,shouldDisableMonth:g,shouldDisableYear:w,reduceAnimations:b,onMonthChange:T,monthsPerRow:E,onYearChange:I,yearsPerRow:D,slots:C,slotProps:x,loading:O,renderLoading:$,disableHighlightToday:R,readOnly:N,disabled:V,showDaysOutsideCurrentMonth:A,dayOfWeekFormatter:P,sx:M,autoFocus:B,fixedWeekNumber:S,displayWeekNumber:L,timezone:W}),df=y.forwardRef(function(e,n){var c,u;const r=En(),o=Be(),s=sf(e,"MuiDesktopDatePicker"),i=v({day:xr,month:xr,year:xr},s.viewRenderers),a=v({},s,{viewRenderers:i,format:ac(o,s,!1),yearsPerRow:s.yearsPerRow??4,slots:v({openPickerIcon:Sw,field:Zp},s.slots),slotProps:v({},s.slotProps,{field:d=>{var h;return v({},kh((h=s.slotProps)==null?void 0:h.field,d),jp(s),{ref:n})},toolbar:v({hidden:!0},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=Ix({props:a,valueManager:vn,valueType:"date",getOpenDialogAriaText:((u=a.localeText)==null?void 0:u.openDatePickerDialogue)??r.openDatePickerDialogue,validator:Ni});return l()});df.propTypes={autoFocus:k.bool,className:k.string,closeOnSelect:k.bool,dayOfWeekFormatter:k.func,defaultValue:k.object,disabled:k.bool,disableFuture:k.bool,disableHighlightToday:k.bool,disableOpenPicker:k.bool,disablePast:k.bool,displayWeekNumber:k.bool,enableAccessibleFieldDOMStructure:k.any,fixedWeekNumber:k.number,format:k.string,formatDensity:k.oneOf(["dense","spacious"]),inputRef:Uh,label:k.node,loading:k.bool,localeText:k.object,maxDate:k.object,minDate:k.object,monthsPerRow:k.oneOf([3,4]),name:k.string,onAccept:k.func,onChange:k.func,onClose:k.func,onError:k.func,onMonthChange:k.func,onOpen:k.func,onSelectedSectionsChange:k.func,onViewChange:k.func,onYearChange:k.func,open:k.bool,openTo:k.oneOf(["day","month","year"]),orientation:k.oneOf(["landscape","portrait"]),readOnly:k.bool,reduceAnimations:k.bool,referenceDate:k.object,renderLoading:k.func,selectedSections:k.oneOfType([k.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),k.number]),shouldDisableDate:k.func,shouldDisableMonth:k.func,shouldDisableYear:k.func,showDaysOutsideCurrentMonth:k.bool,slotProps:k.object,slots:k.object,sx:k.oneOfType([k.arrayOf(k.oneOfType([k.func,k.object,k.bool])),k.func,k.object]),timezone:k.string,value:k.object,view:k.oneOf(["day","month","year"]),viewRenderers:k.shape({day:k.func,month:k.func,year:k.func}),views:k.arrayOf(k.oneOf(["day","month","year"]).isRequired),yearsPerRow:k.oneOf([3,4])};const xx=Y(nb)({[`& .${xo.container}`]:{outline:0},[`& .${xo.paper}`]:{outline:0,minWidth:$i}}),Cx=Y(pb)({"&:first-of-type":{padding:0}});function Px(t){const{children:e,onDismiss:n,open:r,slots:o,slotProps:s}=t,i=(o==null?void 0:o.dialog)??xx,a=(o==null?void 0:o.mobileTransition)??ns;return _.jsx(i,v({open:r,onClose:n},s==null?void 0:s.dialog,{TransitionComponent:a,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:o==null?void 0:o.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:_.jsx(Cx,{children:e})}))}const Sx=["props","getOpenDialogAriaText"],Dx=t=>{var J;let{props:e,getOpenDialogAriaText:n}=t,r=se(t,Sx);const{slots:o,slotProps:s,className:i,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,name:f,label:m,inputRef:g,readOnly:w,disabled:b,localeText:T}=e,E=Be(),I=y.useRef(null),D=Tn(),C=((J=s==null?void 0:s.toolbar)==null?void 0:J.hidden)??!1,{open:x,actions:O,layoutProps:$,renderCurrentView:R,fieldProps:N}=af(v({},r,{props:e,fieldRef:I,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),V=o.field,A=De({elementType:V,externalSlotProps:s==null?void 0:s.field,additionalProps:v({},N,C&&{id:D},!(b||w)&&{onClick:O.onOpen,onKeyDown:ET(O.onOpen)},{readOnly:w??!0,disabled:b,className:i,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,label:m,name:f},g?{inputRef:g}:{}),ownerState:e});A.inputProps=v({},A.inputProps,{"aria-label":n(N.value,E)});const P=v({textField:o.textField},A.slots),M=o.layout??uf;let B=D;C&&(m?B=`${D}-label`:B=void 0);const S=v({},s,{toolbar:v({},s==null?void 0:s.toolbar,{titleId:D}),mobilePaper:v({"aria-labelledby":B},s==null?void 0:s.mobilePaper)}),L=Ke(I,A.unstableFieldRef);return{renderPicker:()=>_.jsxs(ds,{localeText:T,children:[_.jsx(V,v({},A,{slots:P,slotProps:S,unstableFieldRef:L})),_.jsx(Px,v({},O,{open:x,slots:o,slotProps:S,children:_.jsx(M,v({},$,S==null?void 0:S.layout,{slots:o,slotProps:S,children:R()}))}))]})}},hf=y.forwardRef(function(e,n){var c,u;const r=En(),o=Be(),s=sf(e,"MuiMobileDatePicker"),i=v({day:xr,month:xr,year:xr},s.viewRenderers),a=v({},s,{viewRenderers:i,format:ac(o,s,!1),slots:v({field:Zp},s.slots),slotProps:v({},s.slotProps,{field:d=>{var h;return v({},kh((h=s.slotProps)==null?void 0:h.field,d),jp(s),{ref:n})},toolbar:v({hidden:!1},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=Dx({props:a,valueManager:vn,valueType:"date",getOpenDialogAriaText:((u=a.localeText)==null?void 0:u.openDatePickerDialogue)??r.openDatePickerDialogue,validator:Ni});return l()});hf.propTypes={autoFocus:k.bool,className:k.string,closeOnSelect:k.bool,dayOfWeekFormatter:k.func,defaultValue:k.object,disabled:k.bool,disableFuture:k.bool,disableHighlightToday:k.bool,disableOpenPicker:k.bool,disablePast:k.bool,displayWeekNumber:k.bool,enableAccessibleFieldDOMStructure:k.any,fixedWeekNumber:k.number,format:k.string,formatDensity:k.oneOf(["dense","spacious"]),inputRef:Uh,label:k.node,loading:k.bool,localeText:k.object,maxDate:k.object,minDate:k.object,monthsPerRow:k.oneOf([3,4]),name:k.string,onAccept:k.func,onChange:k.func,onClose:k.func,onError:k.func,onMonthChange:k.func,onOpen:k.func,onSelectedSectionsChange:k.func,onViewChange:k.func,onYearChange:k.func,open:k.bool,openTo:k.oneOf(["day","month","year"]),orientation:k.oneOf(["landscape","portrait"]),readOnly:k.bool,reduceAnimations:k.bool,referenceDate:k.object,renderLoading:k.func,selectedSections:k.oneOfType([k.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),k.number]),shouldDisableDate:k.func,shouldDisableMonth:k.func,shouldDisableYear:k.func,showDaysOutsideCurrentMonth:k.bool,slotProps:k.object,slots:k.object,sx:k.oneOfType([k.arrayOf(k.oneOfType([k.func,k.object,k.bool])),k.func,k.object]),timezone:k.string,value:k.object,view:k.oneOf(["day","month","year"]),viewRenderers:k.shape({day:k.func,month:k.func,year:k.func}),views:k.arrayOf(k.oneOf(["day","month","year"]).isRequired),yearsPerRow:k.oneOf([3,4])};const Rx=["desktopModeMediaQuery"],Ax=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:o=IT}=r,s=se(r,Rx);return jl(o,{defaultMatches:!0})?_.jsx(df,v({ref:n},s)):_.jsx(hf,v({ref:n},s))});var Mx={exports:{}};(function(t,e){(function(n,r){t.exports=r(pp())})(lr,function(n){function r(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var o=r(n),s="січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),i="січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),a=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function l(d,h,p){var f,m;return p==="m"?h?"хвилина":"хвилину":p==="h"?h?"година":"годину":d+" "+(f=+d,m={ss:h?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:h?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:h?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[p].split("_"),f%10==1&&f%100!=11?m[0]:f%10>=2&&f%10<=4&&(f%100<10||f%100>=20)?m[1]:m[2])}var c=function(d,h){return a.test(h)?s[d.month()]:i[d.month()]};c.s=i,c.f=s;var u={name:"uk",weekdays:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),weekdaysShort:"ндл_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),months:c,monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekStart:1,relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:l,mm:l,h:l,hh:l,d:"день",dd:l,M:"місяць",MM:l,y:"рік",yy:l},ordinal:function(d){return d},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"}};return o.default.locale(u,null,!0),u})})(Mx);const wd={hours:"годин",minutes:"хвилин",seconds:"секунд",meridiem:"Південь"},kx={previousMonth:"Попередній місяць",nextMonth:"Наступний місяць",openPreviousView:"Відкрити попередній вигляд",openNextView:"Відкрити наступний вигляд",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"річний вигляд відкрито, перейти до календарного вигляду":"календарний вигляд відкрито, перейти до річного вигляду",start:"Початок",end:"Кінець",startDate:"День початку",startTime:"Час початку",endDate:"День закінчення",endTime:"Час закінчення",cancelButtonLabel:"Відміна",clearButtonLabel:"Очистити",okButtonLabel:"OK",todayButtonLabel:"Сьогодні",datePickerToolbarTitle:"Вибрати дату",dateTimePickerToolbarTitle:"Вибрати дату і час",timePickerToolbarTitle:"Вибрати час",dateRangePickerToolbarTitle:"Вибрати календарний період",clockLabelText:(t,e,n)=>`Вибрати ${wd[t]}. ${e===null?"Час не вибраний":`Вибрано час ${n.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} годин`,minutesClockNumberText:t=>`${t} хвилин`,secondsClockNumberText:t=>`${t} секунд`,selectViewText:t=>`Вибрати ${wd[t]}`,calendarWeekNumberHeaderLabel:"Номер тижня",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Тиждень ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Оберіть дату, обрана дата  ${e.format(t,"fullDate")}`:"Оберіть дату",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Оберіть час, обраний час  ${e.format(t,"fullTime")}`:"Оберіть час",fieldClearLabel:"Очистити дані",timeTableLabel:"оберіть час",dateTableLabel:"оберіть дату",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Рік",month:"Місяць",day:"День",weekDay:"День тижня",hours:"Годин",minutes:"Хвилин",seconds:"Секунд",meridiem:"Меридіем",empty:"Порожній"},pf=bp(kx);var fc={},Vx=os;Object.defineProperty(fc,"__esModule",{value:!0});var ff=fc.default=void 0,Ox=Vx(rs()),$x=_;ff=fc.default=(0,Ox.default)((0,$x.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle");var mc={},Lx=os;Object.defineProperty(mc,"__esModule",{value:!0});var mf=mc.default=void 0,Nx=Lx(rs()),Fx=_;mf=mc.default=(0,Nx.default)((0,Fx.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var gc={},Bx=os;Object.defineProperty(gc,"__esModule",{value:!0});var gf=gc.default=void 0,jx=Bx(rs()),Ux=_;gf=gc.default=(0,jx.default)((0,Ux.jsx)("path",{d:"M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2M9.8 8.9 7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6z"}),"DirectionsWalk");var yc={},zx=os;Object.defineProperty(yc,"__esModule",{value:!0});var yf=yc.default=void 0,Wx=zx(rs()),Hx=_;yf=yc.default=(0,Wx.default)((0,Hx.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var Td={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=t[n++];e[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=t[n++],i=t[n++],a=t[n++],l=((o&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],i=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|i&63)}}return e.join("")},_f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const s=t[o],i=o+1<t.length,a=i?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,i||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vf(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const s=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const d=o<t.length?n[t.charAt(o)]:64;if(++o,s==null||a==null||c==null||d==null)throw new Yx;const h=s<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const f=c<<6&192|d;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Yx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kx=function(t){const e=vf(t);return _f.encodeByteArray(e,!0)},ri=function(t){return Kx(t).replace(/\./g,"")},Gx=function(t){try{return _f.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=()=>Qx().__FIREBASE_DEFAULTS__,Jx=()=>{if(typeof process>"u"||typeof Td>"u")return;const t=Td.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gx(t[1]);return e&&JSON.parse(e)},vc=()=>{try{return Xx()||Jx()||Zx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eC=t=>{var e,n;return(n=(e=vc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tC=t=>{const e=eC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bf=()=>{var t;return(t=vc())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ri(JSON.stringify(n)),ri(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sC(){var t;const e=(t=vc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iC(){return!sC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aC(){try{return typeof indexedDB=="object"}catch{return!1}}function lC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;e(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cC,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wf.prototype.create)}}class wf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,s=this.errors[e],i=s?uC(s,r):"Error",a=`${this.serviceName}: ${i} (${o}).`;return new qr(o,a,r)}}function uC(t,e){return t.replace(dC,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const dC=/\{\$([^}]+)}/g;function sl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const s=t[o],i=e[o];if(Ed(s)&&Ed(i)){if(!sl(s,i))return!1}else if(s!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Ed(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t){return t&&t._delegate?t._delegate:t}class Lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fC(e))try{this.getOrInitializeService({instanceIdentifier:Yn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch{}}}}clearInstance(e=Yn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yn){return this.instances.has(e)}getOptions(e=Yn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&i.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(o,s);const i=this.instances.get(o);return i&&e(i,o),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yn){return this.component?this.component.multipleInstances?e:Yn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pC(t){return t===Yn?void 0:t}function fC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const gC={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},yC=Re.INFO,vC={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},_C=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=vC[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tf{constructor(e){this.name=e,this._logLevel=yC,this._logHandler=_C,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const bC=(t,e)=>e.some(n=>t instanceof n);let Id,xd;function wC(){return Id||(Id=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TC(){return xd||(xd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ef=new WeakMap,il=new WeakMap,If=new WeakMap,Ma=new WeakMap,_c=new WeakMap;function EC(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{n(Rn(t.result)),o()},i=()=>{r(t.error),o()};t.addEventListener("success",s),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&Ef.set(n,t)}).catch(()=>{}),_c.set(e,t),e}function IC(t){if(il.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{n(),o()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});il.set(t,e)}let al={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return il.get(t);if(e==="objectStoreNames")return t.objectStoreNames||If.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xC(t){al=t(al)}function CC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ka(this),e,...n);return If.set(r,e.sort?e.sort():[e]),Rn(r)}:TC().includes(t)?function(...e){return t.apply(ka(this),e),Rn(Ef.get(this))}:function(...e){return Rn(t.apply(ka(this),e))}}function PC(t){return typeof t=="function"?CC(t):(t instanceof IDBTransaction&&IC(t),bC(t,wC())?new Proxy(t,al):t)}function Rn(t){if(t instanceof IDBRequest)return EC(t);if(Ma.has(t))return Ma.get(t);const e=PC(t);return e!==t&&(Ma.set(t,e),_c.set(e,t)),e}const ka=t=>_c.get(t);function SC(t,e,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const i=indexedDB.open(t,e),a=Rn(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Rn(i.result),l.oldVersion,l.newVersion,Rn(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const DC=["get","getKey","getAll","getAllKeys","count"],RC=["put","add","delete","clear"],Va=new Map;function Cd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Va.get(e))return Va.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=RC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||DC.includes(n)))return;const s=async function(i,...a){const l=this.transaction(i,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return Va.set(e,s),s}xC(t=>({...t,get:(e,n,r)=>Cd(e,n)||t.get(e,n,r),has:(e,n)=>!!Cd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ll="@firebase/app",Pd="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Tf("@firebase/app"),kC="@firebase/app-compat",VC="@firebase/analytics-compat",OC="@firebase/analytics",$C="@firebase/app-check-compat",LC="@firebase/app-check",NC="@firebase/auth",FC="@firebase/auth-compat",BC="@firebase/database",jC="@firebase/database-compat",UC="@firebase/functions",zC="@firebase/functions-compat",WC="@firebase/installations",HC="@firebase/installations-compat",qC="@firebase/messaging",YC="@firebase/messaging-compat",KC="@firebase/performance",GC="@firebase/performance-compat",QC="@firebase/remote-config",XC="@firebase/remote-config-compat",JC="@firebase/storage",ZC="@firebase/storage-compat",eP="@firebase/firestore",tP="@firebase/firestore-compat",nP="firebase",rP="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="[DEFAULT]",oP={[ll]:"fire-core",[kC]:"fire-core-compat",[OC]:"fire-analytics",[VC]:"fire-analytics-compat",[LC]:"fire-app-check",[$C]:"fire-app-check-compat",[NC]:"fire-auth",[FC]:"fire-auth-compat",[BC]:"fire-rtdb",[jC]:"fire-rtdb-compat",[UC]:"fire-fn",[zC]:"fire-fn-compat",[WC]:"fire-iid",[HC]:"fire-iid-compat",[qC]:"fire-fcm",[YC]:"fire-fcm-compat",[KC]:"fire-perf",[GC]:"fire-perf-compat",[QC]:"fire-rc",[XC]:"fire-rc-compat",[JC]:"fire-gcs",[ZC]:"fire-gcs-compat",[eP]:"fire-fst",[tP]:"fire-fst-compat","fire-js":"fire-js",[nP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Map,sP=new Map,ul=new Map;function Sd(t,e){try{t.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function si(t){const e=t.name;if(ul.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;ul.set(e,t);for(const n of oi.values())Sd(n,t);for(const n of sP.values())Sd(n,t);return!0}function iP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new wf("app","Firebase",aP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=rP;function xf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cl,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw An.create("bad-app-name",{appName:String(o)});if(n||(n=bf()),!n)throw An.create("no-options");const s=oi.get(o);if(s){if(sl(n,s.options)&&sl(r,s.config))return s;throw An.create("duplicate-app",{appName:o})}const i=new mC(o);for(const l of ul.values())i.addComponent(l);const a=new lP(n,r,i);return oi.set(o,a),a}function uP(t=cl){const e=oi.get(t);if(!e&&t===cl&&bf())return xf();if(!e)throw An.create("no-app",{appName:t});return e}function Cr(t,e,n){var r;let o=(r=oP[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${o}" with version "${e}":`];s&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(a.join(" "));return}si(new Lo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="firebase-heartbeat-database",hP=1,No="firebase-heartbeat-store";let Oa=null;function Cf(){return Oa||(Oa=SC(dP,hP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(No)}catch(n){console.warn(n)}}}}).catch(t=>{throw An.create("idb-open",{originalErrorMessage:t.message})})),Oa}async function pP(t){try{const n=(await Cf()).transaction(No),r=await n.objectStore(No).get(Pf(t));return await n.done,r}catch(e){if(e instanceof qr)nr.warn(e.message);else{const n=An.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function Dd(t,e){try{const r=(await Cf()).transaction(No,"readwrite");await r.objectStore(No).put(e,Pf(t)),await r.done}catch(n){if(n instanceof qr)nr.warn(n.message);else{const r=An.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(r.message)}}}function Pf(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=1024,mP=30*24*60*60*1e3;class gP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Rd();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=mP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rd(),{heartbeatsToSend:r,unsentEntries:o}=yP(this._heartbeatsCache.heartbeats),s=ri(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Rd(){return new Date().toISOString().substring(0,10)}function yP(t,e=fP){const n=[];let r=t.slice();for(const o of t){const s=n.find(i=>i.agent===o.agent);if(s){if(s.dates.push(o.date),Ad(n)>e){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ad(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aC()?lC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ad(t){return ri(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){si(new Lo("platform-logger",e=>new AC(e),"PRIVATE")),si(new Lo("heartbeat",e=>new gP(e),"PRIVATE")),Cr(ll,Pd,t),Cr(ll,Pd,"esm2017"),Cr("fire-js","")}_P("");var bP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie,bc=bc||{},_e=bP||self;function Bi(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ji(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function wP(t){return Object.prototype.hasOwnProperty.call(t,$a)&&t[$a]||(t[$a]=++TP)}var $a="closure_uid_"+(1e9*Math.random()>>>0),TP=0;function EP(t,e,n){return t.call.apply(t.bind,arguments)}function IP(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function mt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?mt=EP:mt=IP,mt.apply(null,arguments)}function Os(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function it(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,o,s){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return e.prototype[o].apply(r,i)}}function Bn(){this.s=this.s,this.o=this.o}var xP=0;Bn.prototype.s=!1;Bn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),xP!=0)&&wP(this)};Bn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Sf=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function wc(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Md(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Bi(r)){const o=t.length||0,s=r.length||0;t.length=o+s;for(let i=0;i<s;i++)t[o+i]=r[i]}else t.push(r)}}function gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var CP=function(){if(!_e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};_e.addEventListener("test",n,e),_e.removeEventListener("test",n,e)}catch{}return t}();function Fo(t){return/^[\s\xa0]*$/.test(t)}function Ui(){var t=_e.navigator;return t&&(t=t.userAgent)?t:""}function en(t){return Ui().indexOf(t)!=-1}function Tc(t){return Tc[" "](t),t}Tc[" "]=function(){};function PP(t,e){var n=b1;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var SP=en("Opera"),Or=en("Trident")||en("MSIE"),Df=en("Edge"),dl=Df||Or,Rf=en("Gecko")&&!(Ui().toLowerCase().indexOf("webkit")!=-1&&!en("Edge"))&&!(en("Trident")||en("MSIE"))&&!en("Edge"),DP=Ui().toLowerCase().indexOf("webkit")!=-1&&!en("Edge");function Af(){var t=_e.document;return t?t.documentMode:void 0}var hl;e:{var La="",Na=function(){var t=Ui();if(Rf)return/rv:([^\);]+)(\)|;)/.exec(t);if(Df)return/Edge\/([\d\.]+)/.exec(t);if(Or)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(DP)return/WebKit\/(\S+)/.exec(t);if(SP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Na&&(La=Na?Na[1]:""),Or){var Fa=Af();if(Fa!=null&&Fa>parseFloat(La)){hl=String(Fa);break e}}hl=La}var pl;if(_e.document&&Or){var kd=Af();pl=kd||parseInt(hl,10)||void 0}else pl=void 0;var RP=pl;function Bo(t,e){if(gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Rf){e:{try{Tc(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:AP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bo.$.h.call(this)}}it(Bo,gt);var AP={2:"touch",3:"pen",4:"mouse"};Bo.prototype.h=function(){Bo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var zi="closure_listenable_"+(1e6*Math.random()|0),MP=0;function kP(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=o,this.key=++MP,this.fa=this.ia=!1}function Wi(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ec(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function VP(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Mf(t){const e={};for(const n in t)e[n]=t[n];return e}const Vd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kf(t,e){let n,r;for(let o=1;o<arguments.length;o++){r=arguments[o];for(n in r)t[n]=r[n];for(let s=0;s<Vd.length;s++)n=Vd[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Hi(t){this.src=t,this.g={},this.h=0}Hi.prototype.add=function(t,e,n,r,o){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var i=ml(t,e,r,o);return-1<i?(e=t[i],n||(e.ia=!1)):(e=new kP(e,this.src,s,!!r,o),e.ia=n,t.push(e)),e};function fl(t,e){var n=e.type;if(n in t.g){var r=t.g[n],o=Sf(r,e),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(Wi(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ml(t,e,n,r){for(var o=0;o<t.length;++o){var s=t[o];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return o}return-1}var Ic="closure_lm_"+(1e6*Math.random()|0),Ba={};function Vf(t,e,n,r,o){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Vf(t,e[s],n,r,o);return null}return n=Lf(n),t&&t[zi]?t.O(e,n,ji(r)?!!r.capture:!!r,o):OP(t,e,n,!1,r,o)}function OP(t,e,n,r,o,s){if(!e)throw Error("Invalid event type");var i=ji(o)?!!o.capture:!!o,a=Cc(t);if(a||(t[Ic]=a=new Hi(t)),n=a.add(e,n,r,i,s),n.proxy)return n;if(r=$P(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)CP||(o=i),o===void 0&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent($f(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $P(){function t(n){return e.call(t.src,t.listener,n)}const e=LP;return t}function Of(t,e,n,r,o){if(Array.isArray(e))for(var s=0;s<e.length;s++)Of(t,e[s],n,r,o);else r=ji(r)?!!r.capture:!!r,n=Lf(n),t&&t[zi]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ml(s,n,r,o),-1<n&&(Wi(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Cc(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ml(e,n,r,o)),(n=-1<t?e[t]:null)&&xc(n))}function xc(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[zi])fl(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($f(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Cc(e))?(fl(n,t),n.h==0&&(n.src=null,e[Ic]=null)):Wi(t)}}}function $f(t){return t in Ba?Ba[t]:Ba[t]="on"+t}function LP(t,e){if(t.fa)t=!0;else{e=new Bo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&xc(t),t=n.call(r,e)}return t}function Cc(t){return t=t[Ic],t instanceof Hi?t:null}var ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lf(t){return typeof t=="function"?t:(t[ja]||(t[ja]=function(e){return t.handleEvent(e)}),t[ja])}function st(){Bn.call(this),this.i=new Hi(this),this.S=this,this.J=null}it(st,Bn);st.prototype[zi]=!0;st.prototype.removeEventListener=function(t,e,n,r){Of(this,t,e,n,r)};function ut(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new gt(e,t);else if(e instanceof gt)e.target=e.target||t;else{var o=e;e=new gt(r,t),kf(e,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var i=e.g=n[s];o=$s(i,r,!0,e)&&o}if(i=e.g=t,o=$s(i,r,!0,e)&&o,o=$s(i,r,!1,e)&&o,n)for(s=0;s<n.length;s++)i=e.g=n[s],o=$s(i,r,!1,e)&&o}st.prototype.N=function(){if(st.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wi(n[r]);delete t.g[e],t.h--}}this.J=null};st.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};st.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function $s(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,s=0;s<e.length;++s){var i=e[s];if(i&&!i.fa&&i.capture==n){var a=i.listener,l=i.la||i.src;i.ia&&fl(t.i,i),o=a.call(l,r)!==!1&&o}}return o&&!r.defaultPrevented}var Pc=_e.JSON.stringify;class NP{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function FP(){var t=Sc;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class BP{constructor(){this.h=this.g=null}add(e,n){const r=Nf.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Nf=new NP(()=>new jP,t=>t.reset());class jP{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function UP(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function zP(t){_e.setTimeout(()=>{throw t},0)}let jo,Uo=!1,Sc=new BP,Ff=()=>{const t=_e.Promise.resolve(void 0);jo=()=>{t.then(WP)}};var WP=()=>{for(var t;t=FP();){try{t.h.call(t.g)}catch(n){zP(n)}var e=Nf;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Uo=!1};function qi(t,e){st.call(this),this.h=t||1,this.g=e||_e,this.j=mt(this.qb,this),this.l=Date.now()}it(qi,st);ie=qi.prototype;ie.ga=!1;ie.T=null;ie.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ut(this,"tick"),this.ga&&(Dc(this),this.start()))}};ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Dc(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ie.N=function(){qi.$.N.call(this),Dc(this),delete this.g};function Rc(t,e,n){if(typeof t=="function")n&&(t=mt(t,n));else if(t&&typeof t.handleEvent=="function")t=mt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:_e.setTimeout(t,e||0)}function Bf(t){t.g=Rc(()=>{t.g=null,t.i&&(t.i=!1,Bf(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class HP extends Bn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Bf(this)}N(){super.N(),this.g&&(_e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zo(t){Bn.call(this),this.h=t,this.g={}}it(zo,Bn);var Od=[];function jf(t,e,n,r){Array.isArray(n)||(n&&(Od[0]=n.toString()),n=Od);for(var o=0;o<n.length;o++){var s=Vf(e,n[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Uf(t){Ec(t.g,function(e,n){this.g.hasOwnProperty(n)&&xc(e)},t),t.g={}}zo.prototype.N=function(){zo.$.N.call(this),Uf(this)};zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Yi(){this.g=!0}Yi.prototype.Ea=function(){this.g=!1};function qP(t,e,n,r,o,s){t.info(function(){if(t.g)if(s)for(var i="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");i=2<=d.length&&d[1]=="type"?i+(u+"="+c+"&"):i+(u+"=redacted&")}}else i=null;else i=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+`
`+n+`
`+i})}function YP(t,e,n,r,o,s,i){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+`
`+n+`
`+s+" "+i})}function Tr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+GP(t,n)+(r?" "+r:"")})}function KP(t,e){t.info(function(){return"TIMEOUT: "+e})}Yi.prototype.info=function(){};function GP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var i=1;i<o.length;i++)o[i]=""}}}}return Pc(n)}catch{return e}}var dr={},$d=null;function Ki(){return $d=$d||new st}dr.Ta="serverreachability";function zf(t){gt.call(this,dr.Ta,t)}it(zf,gt);function Wo(t){const e=Ki();ut(e,new zf(e))}dr.STAT_EVENT="statevent";function Wf(t,e){gt.call(this,dr.STAT_EVENT,t),this.stat=e}it(Wf,gt);function wt(t){const e=Ki();ut(e,new Wf(e,t))}dr.Ua="timingevent";function Hf(t,e){gt.call(this,dr.Ua,t),this.size=e}it(Hf,gt);function ps(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return _e.setTimeout(function(){t()},e)}var Gi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qf={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ac(){}Ac.prototype.h=null;function Ld(t){return t.h||(t.h=t.i())}function Yf(){}var fs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mc(){gt.call(this,"d")}it(Mc,gt);function kc(){gt.call(this,"c")}it(kc,gt);var gl;function Qi(){}it(Qi,Ac);Qi.prototype.g=function(){return new XMLHttpRequest};Qi.prototype.i=function(){return{}};gl=new Qi;function ms(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new zo(this),this.P=QP,t=dl?125:void 0,this.V=new qi(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Kf}function Kf(){this.i=null,this.g="",this.h=!1}var QP=45e3,Gf={},yl={};ie=ms.prototype;ie.setTimeout=function(t){this.P=t};function vl(t,e,n){t.L=1,t.A=Ji(_n(e)),t.u=n,t.S=!0,Qf(t,null)}function Qf(t,e){t.G=Date.now(),gs(t),t.B=_n(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),om(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Kf,t.g=xm(t.l,n?e:null,!t.u),0<t.O&&(t.M=new HP(mt(t.Pa,t,t.g),t.O)),jf(t.U,t.g,"readystatechange",t.nb),e=t.I?Mf(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Wo(),qP(t.j,t.v,t.B,t.m,t.W,t.u)}ie.nb=function(t){t=t.target;const e=this.M;e&&tn(t)==3?e.l():this.Pa(t)};ie.Pa=function(t){try{if(t==this.g)e:{const u=tn(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||dl||this.g&&(this.h.h||this.g.ja()||jd(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Wo(3):Wo(2)),Xi(this);var n=this.g.da();this.ca=n;t:if(Xf(this)){var r=jd(this.g);t="";var o=r.length,s=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),Po(this);var i="";break t}this.h.i=new _e.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==o-1});r.length=0,this.h.g+=t,this.o=0,i=this.h.g}else i=this.g.ja();if(this.i=n==200,YP(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fo(a)){var c=a;break t}}c=null}if(n=c)Tr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_l(this,n);else{this.i=!1,this.s=3,wt(12),Kn(this),Po(this);break e}}this.S?(Jf(this,u,i),dl&&this.i&&u==3&&(jf(this.U,this.V,"tick",this.mb),this.V.start())):(Tr(this.j,this.m,i,null),_l(this,i)),u==4&&Kn(this),this.i&&!this.J&&(u==4?wm(this.l,this):(this.i=!1,gs(this)))}else y1(this.g),n==400&&0<i.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Kn(this),Po(this)}}}catch{}finally{}};function Xf(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Jf(t,e,n){let r=!0,o;for(;!t.J&&t.o<n.length;)if(o=XP(t,n),o==yl){e==4&&(t.s=4,wt(14),r=!1),Tr(t.j,t.m,null,"[Incomplete Response]");break}else if(o==Gf){t.s=4,wt(15),Tr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Tr(t.j,t.m,o,null),_l(t,o);Xf(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,wt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fc(e),e.M=!0,wt(11))):(Tr(t.j,t.m,n,"[Invalid Chunked Response]"),Kn(t),Po(t))}ie.mb=function(){if(this.g){var t=tn(this.g),e=this.g.ja();this.o<e.length&&(Xi(this),Jf(this,t,e),this.i&&t!=4&&gs(this))}};function XP(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?yl:(n=Number(e.substring(n,r)),isNaN(n)?Gf:(r+=1,r+n>e.length?yl:(e=e.slice(r,r+n),t.o=r+n,e)))}ie.cancel=function(){this.J=!0,Kn(this)};function gs(t){t.Y=Date.now()+t.P,Zf(t,t.P)}function Zf(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ps(mt(t.lb,t),e)}function Xi(t){t.C&&(_e.clearTimeout(t.C),t.C=null)}ie.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(KP(this.j,this.B),this.L!=2&&(Wo(),wt(17)),Kn(this),this.s=2,Po(this)):Zf(this,this.Y-t)};function Po(t){t.l.H==0||t.J||wm(t.l,t)}function Kn(t){Xi(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Dc(t.V),Uf(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function _l(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||bl(n.i,t))){if(!t.K&&bl(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)li(n),ta(n);else break e;Nc(n),wt(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=ps(mt(n.ib,n),6e3));if(1>=am(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gn(n,11)}else if((t.K||n.g==t)&&li(n),!Fo(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let c=o[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const f=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var s=r.i;s.g||f.indexOf("spdy")==-1&&f.indexOf("quic")==-1&&f.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Vc(s,s.h),s.h=null))}if(r.F){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,He(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var i=t;if(r.wa=Im(r,r.J?r.pa:null,r.Y),i.K){lm(r.i,i);var a=i,l=r.L;l&&a.setTimeout(l),a.C&&(Xi(a),gs(a)),r.g=i}else _m(r);0<n.j.length&&na(n)}else c[0]!="stop"&&c[0]!="close"||Gn(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Gn(n,7):Lc(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Wo(4)}catch{}}function JP(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Bi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function ZP(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Bi(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function em(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Bi(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ZP(t),r=JP(t),o=r.length,s=0;s<o;s++)e.call(void 0,r[s],n&&n[s],t)}var tm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e1(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var s=t[n].substring(0,r);o=t[n].substring(r+1)}else s=t[n];e(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Jn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Jn){this.h=t.h,ii(this,t.j),this.s=t.s,this.g=t.g,ai(this,t.m),this.l=t.l;var e=t.i,n=new Ho;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Nd(this,n),this.o=t.o}else t&&(e=String(t).match(tm))?(this.h=!1,ii(this,e[1]||"",!0),this.s=_o(e[2]||""),this.g=_o(e[3]||"",!0),ai(this,e[4]),this.l=_o(e[5]||"",!0),Nd(this,e[6]||"",!0),this.o=_o(e[7]||"")):(this.h=!1,this.i=new Ho(null,this.h))}Jn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(bo(e,Fd,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(bo(e,Fd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(bo(n,n.charAt(0)=="/"?r1:n1,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",bo(n,s1)),t.join("")};function _n(t){return new Jn(t)}function ii(t,e,n){t.j=n?_o(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ai(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Nd(t,e,n){e instanceof Ho?(t.i=e,i1(t.i,t.h)):(n||(e=bo(e,o1)),t.i=new Ho(e,t.h))}function He(t,e,n){t.i.set(e,n)}function Ji(t){return He(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _o(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function bo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,t1),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function t1(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Fd=/[#\/\?@]/g,n1=/[#\?:]/g,r1=/[#\?]/g,o1=/[#\?@]/g,s1=/#/g;function Ho(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function jn(t){t.g||(t.g=new Map,t.h=0,t.i&&e1(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ie=Ho.prototype;ie.add=function(t,e){jn(this),this.i=null,t=Yr(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function nm(t,e){jn(t),e=Yr(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rm(t,e){return jn(t),e=Yr(t,e),t.g.has(e)}ie.forEach=function(t,e){jn(this),this.g.forEach(function(n,r){n.forEach(function(o){t.call(e,o,r,this)},this)},this)};ie.ta=function(){jn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const o=t[r];for(let s=0;s<o.length;s++)n.push(e[r])}return n};ie.Z=function(t){jn(this);let e=[];if(typeof t=="string")rm(this,t)&&(e=e.concat(this.g.get(Yr(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ie.set=function(t,e){return jn(this),this.i=null,t=Yr(this,t),rm(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ie.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function om(t,e,n){nm(t,e),0<n.length&&(t.i=null,t.g.set(Yr(t,e),wc(n)),t.h+=n.length)}ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),i=this.Z(r);for(r=0;r<i.length;r++){var o=s;i[r]!==""&&(o+="="+encodeURIComponent(String(i[r]))),t.push(o)}}return this.i=t.join("&")};function Yr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function i1(t,e){e&&!t.j&&(jn(t),t.i=null,t.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(nm(this,r),om(this,o,n))},t)),t.j=e}var a1=class{constructor(t,e){this.g=t,this.map=e}};function sm(t){this.l=t||l1,_e.PerformanceNavigationTiming?(t=_e.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(_e.g&&_e.g.Ka&&_e.g.Ka()&&_e.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var l1=10;function im(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function am(t){return t.h?1:t.g?t.g.size:0}function bl(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Vc(t,e){t.g?t.g.add(e):t.h=e}function lm(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}sm.prototype.cancel=function(){if(this.i=cm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function cm(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return wc(t.i)}var c1=class{stringify(t){return _e.JSON.stringify(t,void 0)}parse(t){return _e.JSON.parse(t,void 0)}};function u1(){this.g=new c1}function d1(t,e,n){const r=n||"";try{em(t,function(o,s){let i=o;ji(o)&&(i=Pc(o)),e.push(r+s+"="+encodeURIComponent(i))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function h1(t,e){const n=new Yi;if(_e.Image){const r=new Image;r.onload=Os(Ls,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Os(Ls,n,r,"TestLoadImage: error",!1,e),r.onabort=Os(Ls,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Os(Ls,n,r,"TestLoadImage: timeout",!1,e),_e.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ls(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function ys(t){this.l=t.ec||null,this.j=t.ob||!1}it(ys,Ac);ys.prototype.g=function(){return new Zi(this.l,this.j)};ys.prototype.i=function(t){return function(){return t}}({});function Zi(t,e){st.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Oc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(Zi,st);var Oc=0;ie=Zi.prototype;ie.open=function(t,e){if(this.readyState!=Oc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,qo(this)};ie.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||_e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=Oc};ie.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,qo(this)),this.g&&(this.readyState=3,qo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof _e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;um(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function um(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ie.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?vs(this):qo(this),this.readyState==3&&um(this)}};ie.Za=function(t){this.g&&(this.response=this.responseText=t,vs(this))};ie.Ya=function(t){this.g&&(this.response=t,vs(this))};ie.ka=function(){this.g&&vs(this)};function vs(t){t.readyState=4,t.l=null,t.j=null,t.A=null,qo(t)}ie.setRequestHeader=function(t,e){this.v.append(t,e)};ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function qo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var p1=_e.JSON.parse;function Qe(t){st.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dm,this.L=this.M=!1}it(Qe,st);var dm="",f1=/^https?$/i,m1=["POST","PUT"];ie=Qe.prototype;ie.Oa=function(t){this.M=t};ie.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gl.g(),this.C=this.u?Ld(this.u):Ld(gl),this.g.onreadystatechange=mt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Bd(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),o=_e.FormData&&t instanceof _e.FormData,!(0<=Sf(m1,e))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,i]of n)this.g.setRequestHeader(s,i);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fm(this),0<this.B&&((this.L=g1(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mt(this.ua,this)):this.A=Rc(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Bd(this,s)}};function g1(t){return Or&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ie.ua=function(){typeof bc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function Bd(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hm(t),ea(t)}function hm(t){t.F||(t.F=!0,ut(t,"complete"),ut(t,"error"))}ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ut(this,"complete"),ut(this,"abort"),ea(this))};ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ea(this,!0)),Qe.$.N.call(this)};ie.La=function(){this.s||(this.G||this.v||this.l?pm(this):this.kb())};ie.kb=function(){pm(this)};function pm(t){if(t.h&&typeof bc<"u"&&(!t.C[1]||tn(t)!=4||t.da()!=2)){if(t.v&&tn(t)==4)Rc(t.La,0,t);else if(ut(t,"readystatechange"),tn(t)==4){t.h=!1;try{const i=t.da();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=i===0){var o=String(t.I).match(tm)[1]||null;!o&&_e.self&&_e.self.location&&(o=_e.self.location.protocol.slice(0,-1)),r=!f1.test(o?o.toLowerCase():"")}n=r}if(n)ut(t,"complete"),ut(t,"success");else{t.m=6;try{var s=2<tn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",hm(t)}}finally{ea(t)}}}}function ea(t,e){if(t.g){fm(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ut(t,"ready");try{n.onreadystatechange=r}catch{}}}function fm(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(_e.clearTimeout(t.A),t.A=null)}ie.isActive=function(){return!!this.g};function tn(t){return t.g?t.g.readyState:0}ie.da=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}};ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ie.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),p1(e)}};function jd(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dm:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function y1(t){const e={};t=(t.g&&2<=tn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Fo(t[r]))continue;var n=UP(t[r]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[o]||[];e[o]=s,s.push(n)}VP(e,function(r){return r.join(", ")})}ie.Ia=function(){return this.m};ie.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mm(t){let e="";return Ec(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function $c(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mm(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):He(t,e,n))}function fo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gm(t){this.Ga=0,this.j=[],this.l=new Yi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fo("baseRetryDelayMs",5e3,t),this.hb=fo("retryDelaySeedMs",1e4,t),this.eb=fo("forwardChannelMaxRetries",2,t),this.xa=fo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new sm(t&&t.concurrentRequestLimit),this.Ja=new u1,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ie=gm.prototype;ie.ra=8;ie.H=1;function Lc(t){if(ym(t),t.H==3){var e=t.W++,n=_n(t.I);if(He(n,"SID",t.K),He(n,"RID",e),He(n,"TYPE","terminate"),_s(t,n),e=new ms(t,t.l,e),e.L=2,e.A=Ji(_n(n)),n=!1,_e.navigator&&_e.navigator.sendBeacon)try{n=_e.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&_e.Image&&(new Image().src=e.A,n=!0),n||(e.g=xm(e.l,null),e.g.ha(e.A)),e.G=Date.now(),gs(e)}Em(t)}function ta(t){t.g&&(Fc(t),t.g.cancel(),t.g=null)}function ym(t){ta(t),t.u&&(_e.clearTimeout(t.u),t.u=null),li(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&_e.clearTimeout(t.m),t.m=null)}function na(t){if(!im(t.i)&&!t.m){t.m=!0;var e=t.Na;jo||Ff(),Uo||(jo(),Uo=!0),Sc.add(e,t),t.C=0}}function v1(t,e){return am(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ps(mt(t.Na,t,e),Tm(t,t.C)),t.C++,!0)}ie.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new ms(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Mf(s),kf(s,this.U)):s=this.U),this.o!==null||this.O||(o.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vm(this,o,e),n=_n(this.I),He(n,"RID",t),He(n,"CVER",22),this.F&&He(n,"X-HTTP-Session-Id",this.F),_s(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(mm(s)))+"&"+e:this.o&&$c(n,this.o,s)),Vc(this.i,o),this.bb&&He(n,"TYPE","init"),this.P?(He(n,"$req",e),He(n,"SID","null"),o.aa=!0,vl(o,n,null)):vl(o,n,e),this.H=2}}else this.H==3&&(t?Ud(this,t):this.j.length==0||im(this.i)||Ud(this))};function Ud(t,e){var n;e?n=e.m:n=t.W++;const r=_n(t.I);He(r,"SID",t.K),He(r,"RID",n),He(r,"AID",t.V),_s(t,r),t.o&&t.s&&$c(r,t.o,t.s),n=new ms(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vm(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Vc(t.i,n),vl(n,r,e)}function _s(t,e){t.na&&Ec(t.na,function(n,r){He(e,r,n)}),t.h&&em({},function(n,r){He(e,r,n)})}function vm(t,e,n){n=Math.min(t.j.length,n);var r=t.h?mt(t.h.Va,t.h,t):null;e:{var o=t.j;let s=-1;for(;;){const i=["count="+n];s==-1?0<n?(s=o[0].g,i.push("ofs="+s)):s=0:i.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=o[l].g;const u=o[l].map;if(c-=s,0>c)s=Math.max(0,o[l].g-100),a=!1;else try{d1(u,i,"req"+c+"_")}catch{r&&r(u)}}if(a){r=i.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function _m(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;jo||Ff(),Uo||(jo(),Uo=!0),Sc.add(e,t),t.A=0}}function Nc(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ps(mt(t.Ma,t),Tm(t,t.A)),t.A++,!0)}ie.Ma=function(){if(this.u=null,bm(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ps(mt(this.jb,this),t)}};ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wt(10),ta(this),bm(this))};function Fc(t){t.B!=null&&(_e.clearTimeout(t.B),t.B=null)}function bm(t){t.g=new ms(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=_n(t.wa);He(e,"RID","rpc"),He(e,"SID",t.K),He(e,"AID",t.V),He(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&He(e,"TO",t.qa),He(e,"TYPE","xmlhttp"),_s(t,e),t.o&&t.s&&$c(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ji(_n(e)),n.u=null,n.S=!0,Qf(n,t)}ie.ib=function(){this.v!=null&&(this.v=null,ta(this),Nc(this),wt(19))};function li(t){t.v!=null&&(_e.clearTimeout(t.v),t.v=null)}function wm(t,e){var n=null;if(t.g==e){li(t),Fc(t),t.g=null;var r=2}else if(bl(t.i,e))n=e.F,lm(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var o=t.C;r=Ki(),ut(r,new Hf(r,n)),na(t)}else _m(t);else if(o=e.s,o==3||o==0&&0<e.ca||!(r==1&&v1(t,e)||r==2&&Nc(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Gn(t,5);break;case 4:Gn(t,10);break;case 3:Gn(t,6);break;default:Gn(t,2)}}}function Tm(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Gn(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=mt(t.pb,t);n||(n=new Jn("//www.google.com/images/cleardot.gif"),_e.location&&_e.location.protocol=="http"||ii(n,"https"),Ji(n)),h1(n.toString(),r)}else wt(2);t.H=0,t.h&&t.h.za(e),Em(t),ym(t)}ie.pb=function(t){t?(this.l.info("Successfully pinged google.com"),wt(2)):(this.l.info("Failed to ping google.com"),wt(1))};function Em(t){if(t.H=0,t.ma=[],t.h){const e=cm(t.i);(e.length!=0||t.j.length!=0)&&(Md(t.ma,e),Md(t.ma,t.j),t.i.i.length=0,wc(t.j),t.j.length=0),t.h.ya()}}function Im(t,e,n){var r=n instanceof Jn?_n(n):new Jn(n);if(r.g!="")e&&(r.g=e+"."+r.g),ai(r,r.m);else{var o=_e.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var s=new Jn(null);r&&ii(s,r),e&&(s.g=e),o&&ai(s,o),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&He(r,n,e),He(r,"VER",t.ra),_s(t,r),r}function xm(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Qe(new ys({ob:n})):new Qe(t.va),e.Oa(t.J),e}ie.isActive=function(){return!!this.h&&this.h.isActive(this)};function Cm(){}ie=Cm.prototype;ie.Ba=function(){};ie.Aa=function(){};ie.za=function(){};ie.ya=function(){};ie.isActive=function(){return!0};ie.Va=function(){};function ci(){if(Or&&!(10<=Number(RP)))throw Error("Environmental error: no available transport.")}ci.prototype.g=function(t,e){return new At(t,e)};function At(t,e){st.call(this),this.g=new gm(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Fo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Kr(this)}it(At,st);At.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;wt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Im(t,null,t.Y),na(t)};At.prototype.close=function(){Lc(this.g)};At.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Pc(t),t=n);e.j.push(new a1(e.fb++,t)),e.H==3&&na(e)};At.prototype.N=function(){this.g.h=null,delete this.j,Lc(this.g),delete this.g,At.$.N.call(this)};function Pm(t){Mc.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}it(Pm,Mc);function Sm(){kc.call(this),this.status=1}it(Sm,kc);function Kr(t){this.g=t}it(Kr,Cm);Kr.prototype.Ba=function(){ut(this.g,"a")};Kr.prototype.Aa=function(t){ut(this.g,new Pm(t))};Kr.prototype.za=function(t){ut(this.g,new Sm)};Kr.prototype.ya=function(){ut(this.g,"b")};function _1(){this.blockSize=-1}function Qt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}it(Qt,_1);Qt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ua(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var o=0;16>o;++o)r[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],o=t.g[2];var s=t.g[3],i=e+(s^n&(o^s))+r[0]+3614090360&4294967295;e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[1]+3905402710&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[2]+606105819&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[3]+3250441966&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(s^n&(o^s))+r[4]+4118548399&4294967295,e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[5]+1200080426&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[6]+2821735955&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[7]+4249261313&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(s^n&(o^s))+r[8]+1770035416&4294967295,e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[9]+2336552879&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[10]+4294925233&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[11]+2304563134&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(s^n&(o^s))+r[12]+1804603682&4294967295,e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[13]+4254626195&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[14]+2792965006&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[15]+1236535329&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(o^s&(n^o))+r[1]+4129170786&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[6]+3225465664&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[11]+643717713&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[0]+3921069994&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(o^s&(n^o))+r[5]+3593408605&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[10]+38016083&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[15]+3634488961&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[4]+3889429448&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(o^s&(n^o))+r[9]+568446438&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[14]+3275163606&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[3]+4107603335&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[8]+1163531501&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(o^s&(n^o))+r[13]+2850285829&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[2]+4243563512&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[7]+1735328473&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[12]+2368359562&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(n^o^s)+r[5]+4294588738&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[8]+2272392833&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[11]+1839030562&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[14]+4259657740&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(n^o^s)+r[1]+2763975236&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[4]+1272893353&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[7]+4139469664&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[10]+3200236656&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(n^o^s)+r[13]+681279174&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[0]+3936430074&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[3]+3572445317&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[6]+76029189&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(n^o^s)+r[9]+3654602809&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[12]+3873151461&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[15]+530742520&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[2]+3299628645&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(o^(n|~s))+r[0]+4096336452&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[7]+1126891415&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[14]+2878612391&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[5]+4237533241&4294967295,n=o+(i<<21&4294967295|i>>>11),i=e+(o^(n|~s))+r[12]+1700485571&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[3]+2399980690&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[10]+4293915773&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[1]+2240044497&4294967295,n=o+(i<<21&4294967295|i>>>11),i=e+(o^(n|~s))+r[8]+1873313359&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[15]+4264355552&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[6]+2734768916&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[13]+1309151649&4294967295,n=o+(i<<21&4294967295|i>>>11),i=e+(o^(n|~s))+r[4]+4149444226&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[11]+3174756917&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[2]+718787259&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(i<<21&4294967295|i>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+s&4294967295}Qt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,o=this.h,s=0;s<e;){if(o==0)for(;s<=n;)Ua(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[o++]=t.charCodeAt(s++),o==this.blockSize){Ua(this,r),o=0;break}}else for(;s<e;)if(r[o++]=t[s++],o==this.blockSize){Ua(this,r),o=0;break}}this.h=o,this.i+=e};Qt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ne(t,e){this.h=e;for(var n=[],r=!0,o=t.length-1;0<=o;o--){var s=t[o]|0;r&&s==e||(n[o]=s,r=!1)}this.g=n}var b1={};function Bc(t){return-128<=t&&128>t?PP(t,function(e){return new Ne([e|0],0>e?-1:0)}):new Ne([t|0],0>t?-1:0)}function nn(t){if(isNaN(t)||!isFinite(t))return Pr;if(0>t)return lt(nn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=wl;return new Ne(e,0)}function Dm(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return lt(Dm(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=nn(Math.pow(e,8)),r=Pr,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),i=parseInt(t.substring(o,o+s),e);8>s?(s=nn(Math.pow(e,s)),r=r.R(s).add(nn(i))):(r=r.R(n),r=r.add(nn(i)))}return r}var wl=4294967296,Pr=Bc(0),Tl=Bc(1),zd=Bc(16777216);ie=Ne.prototype;ie.ea=function(){if(Lt(this))return-lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:wl+r)*e,e*=wl}return t};ie.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(gn(this))return"0";if(Lt(this))return"-"+lt(this).toString(t);for(var e=nn(Math.pow(t,6)),n=this,r="";;){var o=di(n,e).g;n=ui(n,o.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=o,gn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ie.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function gn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Lt(t){return t.h==-1}ie.X=function(t){return t=ui(this,t),Lt(t)?-1:gn(t)?0:1};function lt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ne(n,~t.h).add(Tl)}ie.abs=function(){return Lt(this)?lt(this):this};ie.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,o=0;o<=e;o++){var s=r+(this.D(o)&65535)+(t.D(o)&65535),i=(s>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);r=i>>>16,s&=65535,i&=65535,n[o]=i<<16|s}return new Ne(n,n[n.length-1]&-2147483648?-1:0)};function ui(t,e){return t.add(lt(e))}ie.R=function(t){if(gn(this)||gn(t))return Pr;if(Lt(this))return Lt(t)?lt(this).R(lt(t)):lt(lt(this).R(t));if(Lt(t))return lt(this.R(lt(t)));if(0>this.X(zd)&&0>t.X(zd))return nn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<t.g.length;o++){var s=this.D(r)>>>16,i=this.D(r)&65535,a=t.D(o)>>>16,l=t.D(o)&65535;n[2*r+2*o]+=i*l,Ns(n,2*r+2*o),n[2*r+2*o+1]+=s*l,Ns(n,2*r+2*o+1),n[2*r+2*o+1]+=i*a,Ns(n,2*r+2*o+1),n[2*r+2*o+2]+=s*a,Ns(n,2*r+2*o+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ne(n,0)};function Ns(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function mo(t,e){this.g=t,this.h=e}function di(t,e){if(gn(e))throw Error("division by zero");if(gn(t))return new mo(Pr,Pr);if(Lt(t))return e=di(lt(t),e),new mo(lt(e.g),lt(e.h));if(Lt(e))return e=di(t,lt(e)),new mo(lt(e.g),e.h);if(30<t.g.length){if(Lt(t)||Lt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Tl,r=e;0>=r.X(t);)n=Wd(n),r=Wd(r);var o=mr(n,1),s=mr(r,1);for(r=mr(r,2),n=mr(n,2);!gn(r);){var i=s.add(r);0>=i.X(t)&&(o=o.add(n),s=i),r=mr(r,1),n=mr(n,1)}return e=ui(t,o.R(e)),new mo(o,e)}for(o=Pr;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=nn(n),i=s.R(e);Lt(i)||0<i.X(t);)n-=r,s=nn(n),i=s.R(e);gn(s)&&(s=Tl),o=o.add(s),t=ui(t,i)}return new mo(o,t)}ie.gb=function(t){return di(this,t).h};ie.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ne(n,this.h&t.h)};ie.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ne(n,this.h|t.h)};ie.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ne(n,this.h^t.h)};function Wd(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ne(n,t.h)}function mr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,o=[],s=0;s<r;s++)o[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ne(o,t.h)}ci.prototype.createWebChannel=ci.prototype.g;At.prototype.send=At.prototype.u;At.prototype.open=At.prototype.m;At.prototype.close=At.prototype.close;Gi.NO_ERROR=0;Gi.TIMEOUT=8;Gi.HTTP_ERROR=6;qf.COMPLETE="complete";Yf.EventType=fs;fs.OPEN="a";fs.CLOSE="b";fs.ERROR="c";fs.MESSAGE="d";st.prototype.listen=st.prototype.O;Qe.prototype.listenOnce=Qe.prototype.P;Qe.prototype.getLastError=Qe.prototype.Sa;Qe.prototype.getLastErrorCode=Qe.prototype.Ia;Qe.prototype.getStatus=Qe.prototype.da;Qe.prototype.getResponseJson=Qe.prototype.Wa;Qe.prototype.getResponseText=Qe.prototype.ja;Qe.prototype.send=Qe.prototype.ha;Qe.prototype.setWithCredentials=Qe.prototype.Oa;Qt.prototype.digest=Qt.prototype.l;Qt.prototype.reset=Qt.prototype.reset;Qt.prototype.update=Qt.prototype.j;Ne.prototype.add=Ne.prototype.add;Ne.prototype.multiply=Ne.prototype.R;Ne.prototype.modulo=Ne.prototype.gb;Ne.prototype.compare=Ne.prototype.X;Ne.prototype.toNumber=Ne.prototype.ea;Ne.prototype.toString=Ne.prototype.toString;Ne.prototype.getBits=Ne.prototype.D;Ne.fromNumber=nn;Ne.fromString=Dm;var w1=function(){return new ci},T1=function(){return Ki()},za=Gi,E1=qf,I1=dr,Hd={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},x1=ys,Fs=Yf,C1=Qe,P1=Qt,Sr=Ne;const qd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gr="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Tf("@firebase/firestore");function go(){return rr.logLevel}function ce(t,...e){if(rr.logLevel<=Re.DEBUG){const n=e.map(jc);rr.debug(`Firestore (${Gr}): ${t}`,...n)}}function bn(t,...e){if(rr.logLevel<=Re.ERROR){const n=e.map(jc);rr.error(`Firestore (${Gr}): ${t}`,...n)}}function $r(t,...e){if(rr.logLevel<=Re.WARN){const n=e.map(jc);rr.warn(`Firestore (${Gr}): ${t}`,...n)}}function jc(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${Gr}) INTERNAL ASSERTION FAILED: `+t;throw bn(e),new Error(e)}function ze(t,e){t||ve()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class D1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R1{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const o=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Mn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mn,e.enqueueRetryable(()=>o(this.currentUser))};const i=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},a=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mn)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new Rm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new pt(e)}}class A1{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class M1{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new A1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.R;return this.R=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const o=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?o(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new k1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=O1(40);for(let s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=e.charAt(o[s]%e.length))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function Lr(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new nt(0,0))}static max(){return new be(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const s=e.get(o),i=n.get(o);if(s<i)return-1;if(s>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends Yo{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const $1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends Yo{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return $1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const s=()=>{if(r.length===0)throw new fe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;o<e.length;){const a=e[o];if(a==="\\"){if(o+1===e.length)throw new fe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,o+=2}else a==="`"?(i=!i,o++):a!=="."||i?(r+=a,o++):(s(),o++)}if(s(),i)throw new fe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Ye.fromString(e))}static fromName(e){return new me(Ye.fromString(e).popFirst(5))}static empty(){return new me(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Ye(e.slice()))}}function L1(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new On(o,me.empty(),e)}function N1(t){return new On(t.readTime,t.key,-1)}class On{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new On(be.min(),me.empty(),-1)}static max(){return new On(be.max(),me.empty(),-1)}}function F1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==B1)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,o)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,o)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let o=0,s=0,i=!1;e.forEach(a=>{++o,a.next(()=>{++s,i&&s===o&&n()},l=>r(l))}),i=!0,s===o&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(o=>o?G.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,s)=>{r.push(n.call(this,o,s))}),this.waitFor(r)}static mapArray(e,n){return new G((r,o)=>{const s=e.length,i=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{i[c]=u,++a,a===s&&r(i)},u=>o(u))}})}static doWhile(e,n){return new G((r,o)=>{const s=()=>{e()===!0?n().next(()=>{s()},o):r()};s()})}}function U1(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ws(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Uc.oe=-1;function ra(t){return t==null}function hi(t){return t===0&&1/t==-1/0}function z1(t){return typeof t=="number"&&Number.isInteger(t)&&!hi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Mm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bs(this.root,e,this.comparator,!0)}}class Bs{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&o&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,o,s){this.key=e,this.value=n,this.color=r??at.RED,this.left=o??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,s){return new at(e??this.key,n??this.value,r??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return at.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,o,s){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kd(this.data.getIterator())}getIteratorFrom(e){return new Kd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class Kd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new Pt([])}unionWith(e){let n=new dt(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new km("Invalid base64 string: "+s):s}}(e);return new yt(n)}static fromUint8Array(e){const n=function(o){let s="";for(let i=0;i<o.length;++i)s+=String.fromCharCode(o[i]);return s}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const W1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $n(t){if(ze(!!t),typeof t=="string"){let e=0;const n=W1.exec(t);if(ze(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function or(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wc(t){const e=t.mapValue.fields.__previous_value__;return zc(e)?Wc(e):e}function Ko(t){const e=$n(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,r,o,s,i,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Go{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function sr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zc(t)?4:q1(t)?9007199254740991:10:ve()}function un(t,e){if(t===e)return!0;const n=sr(t);if(n!==sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ko(t).isEqual(Ko(e));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const i=$n(o.timestampValue),a=$n(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,s){return or(o.bytesValue).isEqual(or(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,s){return et(o.geoPointValue.latitude)===et(s.geoPointValue.latitude)&&et(o.geoPointValue.longitude)===et(s.geoPointValue.longitude)}(t,e);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return et(o.integerValue)===et(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const i=et(o.doubleValue),a=et(s.doubleValue);return i===a?hi(i)===hi(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return Lr(t.arrayValue.values||[],e.arrayValue.values||[],un);case 10:return function(o,s){const i=o.mapValue.fields||{},a=s.mapValue.fields||{};if(Yd(i)!==Yd(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!un(i[l],a[l])))return!1;return!0}(t,e);default:return ve()}}function Qo(t,e){return(t.values||[]).find(n=>un(n,e))!==void 0}function Nr(t,e){if(t===e)return 0;const n=sr(t),r=sr(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(s,i){const a=et(s.integerValue||s.doubleValue),l=et(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Gd(t.timestampValue,e.timestampValue);case 4:return Gd(Ko(t),Ko(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(s,i){const a=or(s),l=or(i);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const a=s.split("/"),l=i.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Ve(a[c],l[c]);if(u!==0)return u}return Ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const a=Ve(et(s.latitude),et(i.latitude));return a!==0?a:Ve(et(s.longitude),et(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const a=s.values||[],l=i.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Nr(a[c],l[c]);if(u)return u}return Ve(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===js.mapValue&&i===js.mapValue)return 0;if(s===js.mapValue)return 1;if(i===js.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=i.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Ve(l[d],u[d]);if(h!==0)return h;const p=Nr(a[l[d]],c[u[d]]);if(p!==0)return p}return Ve(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ve()}}function Gd(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=$n(t),r=$n(e),o=Ve(n.seconds,r.seconds);return o!==0?o:Ve(n.nanos,r.nanos)}function Fr(t){return El(t)}function El(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$n(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return or(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const s of n.values||[])o?o=!1:r+=",",r+=El(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",s=!0;for(const i of r)s?s=!1:o+=",",o+=`${i}:${El(n.fields[i])}`;return o+"}"}(t.mapValue):ve()}function Il(t){return!!t&&"integerValue"in t}function Hc(t){return!!t&&"arrayValue"in t}function Qd(t){return!!t&&"nullValue"in t}function Xd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ks(t){return!!t&&"mapValue"in t}function So(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=So(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=So(t.arrayValue.values[n]);return e}return Object.assign({},t)}function q1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.value=e}static empty(){return new Et({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ks(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=So(n)}setAll(e){let n=ct.emptyPath(),r={},o=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,o),r={},o=[],n=a.popLast()}i?r[a.lastSegment()]=So(i):o.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,o)}delete(e){const n=this.field(e.popLast());Ks(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Ks(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){hr(n,(o,s)=>e[o]=s);for(const o of r)delete e[o]}clone(){return new Et(So(this.value))}}function Vm(t){const e=[];return hr(t.fields,(n,r)=>{const o=new ct([n]);if(Ks(r)){const s=Vm(r.mapValue).fields;if(s.length===0)e.push(o);else for(const i of s)e.push(o.child(i))}else e.push(o)}),new Pt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,o,s,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,be.min(),be.min(),be.min(),Et.empty(),0)}static newFoundDocument(e,n,r,o){return new ft(e,1,n,be.min(),r,o,0)}static newNoDocument(e,n){return new ft(e,2,n,be.min(),be.min(),Et.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,be.min(),be.min(),Et.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Et.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Et.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){this.position=e,this.inclusive=n}}function Jd(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const s=e[o],i=t.position[o];if(s.field.isKeyField()?r=me.comparator(me.fromName(i.referenceValue),n.key):r=Nr(i,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zd(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!un(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{}class tt extends Om{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new G1(e,n,r):n==="array-contains"?new J1(e,r):n==="in"?new Z1(e,r):n==="not-in"?new eS(e,r):n==="array-contains-any"?new tS(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q1(e,r):new X1(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Nr(n,this.value)):n!==null&&sr(this.value)===sr(n)&&this.matchesComparison(Nr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dn extends Om{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new dn(e,n)}matches(e){return $m(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $m(t){return t.op==="and"}function Lm(t){return K1(t)&&$m(t)}function K1(t){for(const e of t.filters)if(e instanceof dn)return!1;return!0}function xl(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+Fr(t.value);if(Lm(t))return t.filters.map(e=>xl(e)).join(",");{const e=t.filters.map(n=>xl(n)).join(",");return`${t.op}(${e})`}}function Nm(t,e){return t instanceof tt?function(r,o){return o instanceof tt&&r.op===o.op&&r.field.isEqual(o.field)&&un(r.value,o.value)}(t,e):t instanceof dn?function(r,o){return o instanceof dn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((s,i,a)=>s&&Nm(i,o.filters[a]),!0):!1}(t,e):void ve()}function Fm(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fr(n.value)}`}(t):t instanceof dn?function(n){return n.op.toString()+" {"+n.getFilters().map(Fm).join(" ,")+"}"}(t):"Filter"}class G1 extends tt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q1 extends tt{constructor(e,n){super(e,"in",n),this.keys=Bm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class X1 extends tt{constructor(e,n){super(e,"not-in",n),this.keys=Bm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Bm(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class J1 extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hc(n)&&Qo(n.arrayValue,this.value)}}class Z1 extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qo(this.value.arrayValue,n)}}class eS extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qo(this.value.arrayValue,n)}}class tS extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n=null,r=[],o=[],s=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=s,this.startAt=i,this.endAt=a,this.ue=null}}function eh(t,e=null,n=[],r=[],o=null,s=null,i=null){return new nS(t,e,n,r,o,s,i)}function qc(t){const e=Te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xl(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ra(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fr(r)).join(",")),e.ue=n}return e.ue}function Yc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Nm(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zd(t.startAt,e.startAt)&&Zd(t.endAt,e.endAt)}function Cl(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n=null,r=[],o=[],s=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rS(t,e,n,r,o,s,i,a){return new oa(t,e,n,r,o,s,i,a)}function jm(t){return new oa(t)}function th(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oS(t){return t.collectionGroup!==null}function Do(t){const e=Te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new dt(ct.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new fi(s,r))}),n.has(ct.keyField().canonicalString())||e.ce.push(new fi(ct.keyField(),r))}return e.ce}function on(t){const e=Te(t);return e.le||(e.le=sS(e,Do(t))),e.le}function sS(t,e){if(t.limitType==="F")return eh(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const s=o.dir==="desc"?"asc":"desc";return new fi(o.field,s)});const n=t.endAt?new pi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pi(t.startAt.position,t.startAt.inclusive):null;return eh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pl(t,e,n){return new oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sa(t,e){return Yc(on(t),on(e))&&t.limitType===e.limitType}function Um(t){return`${qc(on(t))}|lt:${t.limitType}`}function vr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>Fm(o)).join(", ")}]`),ra(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>Fr(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>Fr(o)).join(",")),`Target(${r})`}(on(t))}; limitType=${t.limitType})`}function ia(t,e){return e.isFoundDocument()&&function(r,o){const s=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,o){for(const s of Do(r))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const s of r.filters)if(!s.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(i,a,l){const c=Jd(i,a,l);return i.inclusive?c<=0:c<0}(r.startAt,Do(r),o)||r.endAt&&!function(i,a,l){const c=Jd(i,a,l);return i.inclusive?c>=0:c>0}(r.endAt,Do(r),o))}(t,e)}function iS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zm(t){return(e,n)=>{let r=!1;for(const o of Do(t)){const s=aS(o,e,n);if(s!==0)return s;r=r||o.field.isKeyField()}return 0}}function aS(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(s,i,a){const l=i.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Nr(l,c):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,s]of r)if(this.equalsFn(o,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return void(o[s]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){hr(this.inner,(n,r)=>{for(const[o,s]of r)e(o,s)})}isEmpty(){return Mm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=new Ge(me.comparator);function wn(){return lS}const Wm=new Ge(me.comparator);function wo(...t){let e=Wm;for(const n of t)e=e.insert(n.key,n);return e}function Hm(t){let e=Wm;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qn(){return Ro()}function qm(){return Ro()}function Ro(){return new Qr(t=>t.toString(),(t,e)=>t.isEqual(e))}const cS=new Ge(me.comparator),uS=new dt(me.comparator);function Ce(...t){let e=uS;for(const n of t)e=e.add(n);return e}const dS=new dt(Ve);function hS(){return dS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hi(e)?"-0":e}}function Km(t){return{integerValue:""+t}}function pS(t,e){return z1(e)?Km(e):Ym(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this._=void 0}}function fS(t,e,n){return t instanceof mi?function(o,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&zc(s)&&(s=Wc(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof Xo?Qm(t,e):t instanceof Jo?Xm(t,e):function(o,s){const i=Gm(o,s),a=nh(i)+nh(o.Pe);return Il(i)&&Il(o.Pe)?Km(a):Ym(o.serializer,a)}(t,e)}function mS(t,e,n){return t instanceof Xo?Qm(t,e):t instanceof Jo?Xm(t,e):n}function Gm(t,e){return t instanceof gi?function(r){return Il(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class mi extends aa{}class Xo extends aa{constructor(e){super(),this.elements=e}}function Qm(t,e){const n=Jm(e);for(const r of t.elements)n.some(o=>un(o,r))||n.push(r);return{arrayValue:{values:n}}}class Jo extends aa{constructor(e){super(),this.elements=e}}function Xm(t,e){let n=Jm(e);for(const r of t.elements)n=n.filter(o=>!un(o,r));return{arrayValue:{values:n}}}class gi extends aa{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function nh(t){return et(t.integerValue||t.doubleValue)}function Jm(t){return Hc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gS(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof Xo&&o instanceof Xo||r instanceof Jo&&o instanceof Jo?Lr(r.elements,o.elements,un):r instanceof gi&&o instanceof gi?un(r.Pe,o.Pe):r instanceof mi&&o instanceof mi}(t.transform,e.transform)}class yS{constructor(e,n){this.version=e,this.transformResults=n}}class Kt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kt}static exists(e){return new Kt(void 0,e)}static updateTime(e){return new Kt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gs(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class la{}function Zm(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kc(t.key,Kt.none()):new Ts(t.key,t.data,Kt.none());{const n=t.data,r=Et.empty();let o=new dt(ct.comparator);for(let s of e.fields)if(!o.has(s)){let i=n.field(s);i===null&&s.length>1&&(s=s.popLast(),i=n.field(s)),i===null?r.delete(s):r.set(s,i),o=o.add(s)}return new Un(t.key,r,new Pt(o.toArray()),Kt.none())}}function vS(t,e,n){t instanceof Ts?function(o,s,i){const a=o.value.clone(),l=oh(o.fieldTransforms,s,i.transformResults);a.setAll(l),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Un?function(o,s,i){if(!Gs(o.precondition,s))return void s.convertToUnknownDocument(i.version);const a=oh(o.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(eg(o)),l.setAll(a),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):function(o,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ao(t,e,n,r){return t instanceof Ts?function(s,i,a,l){if(!Gs(s.precondition,i))return a;const c=s.value.clone(),u=sh(s.fieldTransforms,l,i);return c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Un?function(s,i,a,l){if(!Gs(s.precondition,i))return a;const c=sh(s.fieldTransforms,l,i),u=i.data;return u.setAll(eg(s)),u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,i,a){return Gs(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,e,n)}function _S(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),s=Gm(r.transform,o||null);s!=null&&(n===null&&(n=Et.empty()),n.set(r.field,s))}return n||null}function rh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Lr(r,o,(s,i)=>gS(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ts extends la{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Un extends la{constructor(e,n,r,o,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eg(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function oh(t,e,n){const r=new Map;ze(t.length===n.length);for(let o=0;o<n.length;o++){const s=t[o],i=s.transform,a=e.data.field(s.field);r.set(s.field,mS(i,a,n[o]))}return r}function sh(t,e,n){const r=new Map;for(const o of t){const s=o.transform,i=n.data.field(o.field);r.set(o.field,fS(s,i,e))}return r}class Kc extends la{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bS extends la{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(e.key)&&vS(s,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ao(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ao(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qm();return this.mutations.forEach(o=>{const s=e.get(o.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=n.has(o.key)?null:a;const l=Zm(i,a);l!==null&&r.set(o.key,l),i.isValidDocument()||i.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Lr(this.mutations,e.mutations,(n,r)=>rh(n,r))&&Lr(this.baseMutations,e.baseMutations,(n,r)=>rh(n,r))}}class Gc{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){ze(e.mutations.length===r.length);let o=function(){return cS}();const s=e.mutations;for(let i=0;i<s.length;i++)o=o.insert(s[i].key,r[i].version);return new Gc(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,Se;function IS(t){switch(t){default:return ve();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function tg(t){if(t===void 0)return bn("GRPC error has no .code"),K.UNKNOWN;switch(t){case Je.OK:return K.OK;case Je.CANCELLED:return K.CANCELLED;case Je.UNKNOWN:return K.UNKNOWN;case Je.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Je.INTERNAL:return K.INTERNAL;case Je.UNAVAILABLE:return K.UNAVAILABLE;case Je.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Je.NOT_FOUND:return K.NOT_FOUND;case Je.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Je.ABORTED:return K.ABORTED;case Je.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Je.DATA_LOSS:return K.DATA_LOSS;default:return ve()}}(Se=Je||(Je={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=new Sr([4294967295,4294967295],0);function ih(t){const e=xS().encode(t),n=new P1;return n.update(e),new Uint8Array(n.digest())}function ah(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Sr([n,r],0),new Sr([o,s],0)]}class Qc{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new To(`Invalid padding: ${n}`);if(r<0)throw new To(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new To(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Sr.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(Sr.fromNumber(r)));return o.compare(CS)===1&&(o=new Sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=ih(e),[r,o]=ah(n);for(let s=0;s<this.hashCount;s++){const i=this.Ee(r,o,s);if(!this.de(i))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new Qc(s,o,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.Ie===0)return;const n=ih(e),[r,o]=ah(n);for(let s=0;s<this.hashCount;s++){const i=this.Ee(r,o,s);this.Ae(i)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n,r,o,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Es.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ca(be.min(),o,new Ge(Ve),wn(),Ce())}}class Es{constructor(e,n,r,o,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Es(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class ng{constructor(e,n){this.targetId=e,this.me=n}}class rg{constructor(e,n,r=yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class lh{constructor(){this.fe=0,this.ge=uh(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ce(),n=Ce(),r=Ce();return this.ge.forEach((o,s)=>{switch(s){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ve()}}),new Es(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=uh()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class PS{constructor(e){this.Le=e,this.Be=new Map,this.ke=wn(),this.qe=ch(),this.Qe=new Ge(Ve)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const s=o.target;if(Cl(s))if(r===0){const i=new me(s.path);this.Ue(n,i,ft.newNoDocument(i,be.min()))}else ze(r===1);else{const i=this.Ye(n);if(i!==r){const a=this.Ze(e),l=a?this.Xe(a,e,i):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:s=0}=n;let i,a;try{i=or(r).toUint8Array()}catch(l){if(l instanceof km)return $r("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Qc(i,o,s)}catch(l){return $r(l instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach(s=>{const i=this.Le.tt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((s,i)=>{const a=this.Je(i);if(a){if(s.current&&Cl(a.target)){const l=new me(a.target.path);this.ke.get(l)!==null||this.it(i,l)||this.Ue(i,l,ft.newNoDocument(l,e))}s.be&&(n.set(i,s.Ce()),s.ve())}});let r=Ce();this.qe.forEach((s,i)=>{let a=!0;i.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,i)=>i.setReadTime(e));const o=new ca(e,n,this.Qe,this.ke,r);return this.ke=wn(),this.qe=ch(),this.Qe=new Ge(Ve),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new lh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(Ve),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ch(){return new Ge(me.comparator)}function uh(){return new Ge(me.comparator)}const SS={asc:"ASCENDING",desc:"DESCENDING"},DS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RS={and:"AND",or:"OR"};class AS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sl(t,e){return t.useProto3Json||ra(e)?e:{value:e}}function yi(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function og(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MS(t,e){return yi(t,e.toTimestamp())}function sn(t){return ze(!!t),be.fromTimestamp(function(n){const r=$n(n);return new nt(r.seconds,r.nanos)}(t))}function Xc(t,e){return Dl(t,e).canonicalString()}function Dl(t,e){const n=function(o){return new Ye(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sg(t){const e=Ye.fromString(t);return ze(ug(e)),e}function Rl(t,e){return Xc(t.databaseId,e.path)}function Wa(t,e){const n=sg(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(ag(n))}function ig(t,e){return Xc(t.databaseId,e)}function kS(t){const e=sg(t);return e.length===4?Ye.emptyPath():ag(e)}function Al(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ag(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dh(t,e,n){return{name:Rl(t,e),fields:n.value.mapValue.fields}}function VS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ze(u===void 0||typeof u=="string"),yt.fromBase64String(u||"")):(ze(u===void 0||u instanceof Buffer||u instanceof Uint8Array),yt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(c){const u=c.code===void 0?K.UNKNOWN:tg(c.code);return new fe(u,c.message||"")}(i);n=new rg(r,o,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Wa(t,r.document.name),s=sn(r.document.updateTime),i=r.document.createTime?sn(r.document.createTime):be.min(),a=new Et({mapValue:{fields:r.document.fields}}),l=ft.newFoundDocument(o,s,i,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Qs(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Wa(t,r.document),s=r.readTime?sn(r.readTime):be.min(),i=ft.newNoDocument(o,s),a=r.removedTargetIds||[];n=new Qs([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Wa(t,r.document),s=r.removedTargetIds||[];n=new Qs([],s,o,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:s}=r,i=new ES(o,s),a=r.targetId;n=new ng(a,i)}}return n}function OS(t,e){let n;if(e instanceof Ts)n={update:dh(t,e.key,e.value)};else if(e instanceof Kc)n={delete:Rl(t,e.key)};else if(e instanceof Un)n={update:dh(t,e.key,e.data),updateMask:WS(e.fieldMask)};else{if(!(e instanceof bS))return ve();n={verify:Rl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const a=i.transform;if(a instanceof mi)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xo)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jo)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gi)return{fieldPath:i.field.canonicalString(),increment:a.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:MS(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),n}function $S(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(o,s){let i=o.updateTime?sn(o.updateTime):sn(s);return i.isEqual(be.min())&&(i=sn(s)),new yS(i,o.transformResults||[])}(n,e))):[]}function LS(t,e){return{documents:[ig(t,e.path)]}}function NS(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ig(t,o);const s=function(c){if(c.length!==0)return cg(dn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:_r(h.field),direction:jS(h.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const a=Sl(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:o}}function FS(t){let e=kS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ze(r===1);const u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=lg(d);return h instanceof dn&&Lm(h)?h.getFilters():[h]}(n.where));let i=[];n.orderBy&&(i=function(d){return d.map(h=>function(f){return new fi(br(f.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,ra(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new pi(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new pi(p,h)}(n.endAt)),rS(e,o,i,s,a,"F",l,c)}function BS(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lg(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=br(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=br(n.unaryFilter.field);return tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=br(n.unaryFilter.field);return tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=br(n.unaryFilter.field);return tt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return tt.create(br(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dn.create(n.compositeFilter.filters.map(r=>lg(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function jS(t){return SS[t]}function US(t){return DS[t]}function zS(t){return RS[t]}function _r(t){return{fieldPath:t.canonicalString()}}function br(t){return ct.fromServerFormat(t.fieldPath)}function cg(t){return t instanceof tt?function(n){if(n.op==="=="){if(Xd(n.value))return{unaryFilter:{field:_r(n.field),op:"IS_NAN"}};if(Qd(n.value))return{unaryFilter:{field:_r(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xd(n.value))return{unaryFilter:{field:_r(n.field),op:"IS_NOT_NAN"}};if(Qd(n.value))return{unaryFilter:{field:_r(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_r(n.field),op:US(n.op),value:n.value}}}(t):t instanceof dn?function(n){const r=n.getFilters().map(o=>cg(o));return r.length===1?r[0]:{compositeFilter:{op:zS(n.op),filters:r}}}(t):ve()}function WS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ug(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r,o,s=be.min(),i=be.min(),a=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Dn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.ut=e}}function qS(t){const e=FS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.on=new KS}addToCollectionParentIndex(e,n){return this.on.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(On.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(On.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class KS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new dt(Ye.comparator),s=!o.has(r);return this.index[n]=o.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new dt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Br(0)}static Nn(){return new Br(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.changes=new Qr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&Ao(r.mutation,o,Pt.empty(),nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const o=Qn();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(s=>{let i=wo();return s.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=Qn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const o=[];return r.forEach(s=>{n.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(e,o).next(s=>{s.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,o){let s=wn();const i=Ro(),a=function(){return Ro()}();return n.forEach((l,c)=>{const u=r.get(c.key);o.has(c.key)&&(u===void 0||u.mutation instanceof Un)?s=s.insert(c.key,c):u!==void 0?(i.set(c.key,u.mutation.getFieldMask()),Ao(u.mutation,c,u.mutation.getFieldMask(),nt.now())):i.set(c.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>i.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new QS(u,(d=i.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ro();let o=new Ge((i,a)=>i-a),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Pt.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(o.get(a.batchId)||Ce()).add(l);o=o.insert(a.batchId,d)})}).next(()=>{const i=[],a=o.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=qm();u.forEach(h=>{if(!s.has(h)){const p=Zm(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),i.push(this.documentOverlayCache.saveOverlays(e,c,d))}return G.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(s=>{const i=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-s.size):G.resolve(Qn());let a=-1,l=s;return i.next(c=>G.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?G.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ce())).next(u=>({batchId:a,changes:Hm(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let o=wo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const s=n.collectionGroup;let i=wo();return this.indexManager.getCollectionParents(e,s).next(a=>G.forEach(a,l=>{const c=function(d,h){return new oa(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,o).next(u=>{u.forEach((d,h)=>{i=i.insert(d,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,o){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,o))).next(i=>{s.forEach((l,c)=>{const u=c.getKey();i.get(u)===null&&(i=i.insert(u,ft.newInvalidDocument(u)))});let a=wo();return i.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Ao(u.mutation,c,Pt.empty(),nt.now()),ia(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return G.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(o){return{id:o.id,version:o.version,createTime:sn(o.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(o){return{name:o.name,query:qS(o.bundledQuery),readTime:sn(o.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.overlays=new Ge(me.comparator),this.lr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qn();return G.forEach(n,o=>this.getOverlay(e,o).next(s=>{s!==null&&r.set(o,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,s)=>{this.lt(e,n,s)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.lr.get(r);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const o=Qn(),s=n.length+1,i=new me(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&o.set(l.getKey(),l)}return G.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let s=new Ge((c,u)=>c-u);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Qn(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Qn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=o)););return G.resolve(a)}lt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const i=this.lr.get(o.largestBatchId).delete(r.key);this.lr.set(o.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new TS(n,r));let s=this.lr.get(n);s===void 0&&(s=Ce(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this.hr=new dt(ot.Pr),this.Ir=new dt(ot.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ot(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new me(new Ye([])),r=new ot(n,e),o=new ot(n,e+1),s=[];return this.Ir.forEachInRange([r,o],i=>{this.dr(i),s.push(i.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new me(new Ye([])),r=new ot(n,e),o=new ot(n,e+1);let s=Ce();return this.Ir.forEachInRange([r,o],i=>{s=s.add(i.key)}),s}containsKey(e){const n=new ot(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return me.comparator(e.key,n.key)||Ve(e.gr,n.gr)}static Tr(e,n){return Ve(e.gr,n.gr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new dt(ot.Pr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new wS(s,n,r,o);this.mutationQueue.push(i);for(const a of o)this.yr=this.yr.add(new ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(i)}lookupMutationBatch(e,n){return G.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Sr(r),s=o<0?0:o;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),o=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,o],i=>{const a=this.wr(i.gr);s.push(a)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(Ve);return n.forEach(o=>{const s=new ot(o,0),i=new ot(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,i],a=>{r=r.add(a.gr)})}),G.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let s=r;me.isDocumentKey(s)||(s=s.child(""));const i=new ot(new me(s),0);let a=new dt(Ve);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===o&&(a=a.add(l.gr)),!0)},i),G.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const o=this.wr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ze(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return G.forEach(n.mutations,o=>{const s=new ot(o.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new ot(n,0),o=this.yr.firstAfterOrEqual(r);return G.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.Cr=e,this.docs=function(){return new Ge(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),s=o?o.size:0,i=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=wn();return n.forEach(o=>{const s=this.docs.get(o);r=r.insert(o,s?s.document.mutableCopy():ft.newInvalidDocument(o))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let s=wn();const i=n.path,a=new me(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||F1(N1(u),r)<=0||(o.has(u.key)||ia(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,n,r,o){ve()}vr(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nD(this)}getSize(e){return G.resolve(this.size)}}class nD extends GS{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this._r.addEntry(e,o)):this._r.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.persistence=e,this.Fr=new Qr(n=>qc(n),Yc),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Jc,this.targetCount=0,this.Nr=Br.On()}forEachTarget(e,n){return this.Fr.forEach((r,o)=>n(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),G.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Br(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.kn(n),G.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let o=0;const s=[];return this.Fr.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),G.waitFor(s).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(i=>{s.push(o.markPotentiallyOrphaned(e,i))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.Lr={},this.overlays={},this.Br=new Uc(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new rD(this),this.indexManager=new YS,this.remoteDocumentCache=function(o){return new tD(o)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new HS(n),this.Kr=new JS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new eD(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const o=new sD(this.Br.next());return this.referenceDelegate.$r(),r(o).next(s=>this.referenceDelegate.Ur(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Wr(e,n){return G.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class sD extends j1{constructor(e){super(),this.currentSequenceNumber=e}}class Zc{constructor(e){this.persistence=e,this.Gr=new Jc,this.zr=null}static jr(e){return new Zc(e)}get Hr(){if(this.zr)return this.zr;throw ve()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),G.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(o=>this.Hr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Hr,r=>{const o=me.fromPath(r);return this.Jr(e,o).next(s=>{s||n.removeEntry(o,be.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return G.or([()=>G.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=o}static Qi(e,n){let r=Ce(),o=Ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new eu(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return iC()?8:U1(oC())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,o){const s={result:null};return this.zi(e,n).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.ji(e,n,o,r).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new iD;return this.Hi(e,n,i).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,i,a.size)})}).next(()=>s.result)}Ji(e,n,r,o){return r.documentReadCount<this.Ui?(go()<=Re.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",vr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),G.resolve()):(go()<=Re.DEBUG&&ce("QueryEngine","Query:",vr(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Wi*o?(go()<=Re.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",vr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,on(n))):G.resolve())}zi(e,n){if(th(n))return G.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Pl(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const i=Ce(...s);return this.Gi.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,i,l.readTime)?this.zi(e,Pl(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,o){return th(n)||o.isEqual(be.min())?G.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const i=this.Yi(n,s);return this.Zi(n,i,r,o)?G.resolve(null):(go()<=Re.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vr(n)),this.Xi(e,i,n,L1(o,-1)).next(a=>a))})}Yi(e,n){let r=new dt(zm(e));return n.forEach((o,s)=>{ia(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Hi(e,n,r){return go()<=Re.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",vr(n)),this.Gi.getDocumentsMatchingQuery(e,n,On.min(),r)}Xi(e,n,r,o){return this.Gi.getDocumentsMatchingQuery(e,r,o).next(s=>(n.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r,o){this.persistence=e,this.es=n,this.serializer=o,this.ts=new Ge(Ve),this.ns=new Qr(s=>qc(s),Yc),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XS(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function cD(t,e,n,r){return new lD(t,e,n,r)}async function dg(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(s=>(o=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const i=[],a=[];let l=Ce();for(const c of o){i.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:i,addedBatchIds:a}))})})}function uD(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=G.resolve();return h.forEach(f=>{p=p.next(()=>u.getEntry(l,f)).next(m=>{const g=c.docVersions.get(f);ze(g!==null),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function hg(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function dD(t,e){const n=Te(t),r=e.snapshotVersion;let o=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=n.ss.newChangeBuffer({trackRemovals:!0});o=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const h=o.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(yt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),o=o.insert(d,p),function(m,g,w){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,u)&&a.push(n.qr.updateTargetData(s,p))});let l=wn(),c=Ce();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(hD(s,i,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(be.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return G.waitFor(a).next(()=>i.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=o,s))}function hD(t,e,n){let r=Ce(),o=Ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let i=wn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(o=o.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:i,cs:o}})}function pD(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fD(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.qr.getTargetData(r,e).next(s=>s?(o=s,G.resolve(o)):n.qr.allocateTargetId(r).next(i=>(o=new Dn(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Ml(t,e,n){const r=Te(t),o=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,i=>r.persistence.referenceDelegate.removeTarget(i,o))}catch(i){if(!ws(i))throw i;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.ts=r.ts.remove(e),r.ns.delete(o.target)}function hh(t,e,n){const r=Te(t);let o=be.min(),s=Ce();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,c,u){const d=Te(l),h=d.ns.get(u);return h!==void 0?G.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(r,i,on(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(i,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(i,e,n?o:be.min(),n?s:Ce())).next(a=>(mD(r,iS(e),a),{documents:a,ls:s})))}function mD(t,e,n){let r=t.rs.get(e)||be.min();n.forEach((o,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class ph{constructor(){this.activeTargetIds=hS()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gD{constructor(){this.eo=new ph,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ph,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us=null;function Ha(){return Us===null?Us=function(){return 268435456+Math.round(2147483648*Math.random())}():Us++,"0x"+Us.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht="WebChannelConnection";class bD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${o}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${s}`}get bo(){return!1}Do(n,r,o,s,i){const a=Ha(),l=this.Co(n,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${a}:`,l,o);const c={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(c,s,i),this.Fo(n,l,c,o).then(u=>(ce("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw $r("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",o),u})}Mo(n,r,o,s,i,a){return this.Do(n,r,o,s,i)}vo(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,i)=>n[i]=s),o&&o.headers.forEach((s,i)=>n[i]=s)}Co(n,r){const o=vD[n];return`${this.yo}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,o){const s=Ha();return new Promise((i,a)=>{const l=new C1;l.setWithCredentials(!0),l.listenOnce(E1.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case za.NO_ERROR:const u=l.getResponseJson();ce(ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),i(u);break;case za.TIMEOUT:ce(ht,`RPC '${e}' ${s} timed out`),a(new fe(K.DEADLINE_EXCEEDED,"Request time out"));break;case za.HTTP_ERROR:const d=l.getStatus();if(ce(ht,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const f=function(g){const w=g.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(w)>=0?w:K.UNKNOWN}(p.status);a(new fe(f,p.message))}else a(new fe(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new fe(K.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ce(ht,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(o);ce(ht,`RPC '${e}' ${s} sending request:`,o),l.send(n,"POST",c,r,15)})}xo(e,n,r){const o=Ha(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=w1(),a=T1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new x1({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ce(ht,`Creating RPC '${e}' stream ${o}: ${u}`,l);const d=i.createWebChannel(u,l);let h=!1,p=!1;const f=new _D({co:g=>{p?ce(ht,`Not sending because RPC '${e}' stream ${o} is closed:`,g):(h||(ce(ht,`Opening RPC '${e}' stream ${o} transport.`),d.open(),h=!0),ce(ht,`RPC '${e}' stream ${o} sending:`,g),d.send(g))},lo:()=>d.close()}),m=(g,w,b)=>{g.listen(w,T=>{try{b(T)}catch(E){setTimeout(()=>{throw E},0)}})};return m(d,Fs.EventType.OPEN,()=>{p||(ce(ht,`RPC '${e}' stream ${o} transport opened.`),f.Vo())}),m(d,Fs.EventType.CLOSE,()=>{p||(p=!0,ce(ht,`RPC '${e}' stream ${o} transport closed`),f.fo())}),m(d,Fs.EventType.ERROR,g=>{p||(p=!0,$r(ht,`RPC '${e}' stream ${o} transport errored:`,g),f.fo(new fe(K.UNAVAILABLE,"The operation could not be completed")))}),m(d,Fs.EventType.MESSAGE,g=>{var w;if(!p){const b=g.data[0];ze(!!b);const T=b,E=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if(E){ce(ht,`RPC '${e}' stream ${o} received error:`,E);const I=E.status;let D=function(O){const $=Je[O];if($!==void 0)return tg($)}(I),C=E.message;D===void 0&&(D=K.INTERNAL,C="Unknown error status: "+I+" with message "+E.message),p=!0,f.fo(new fe(D,C)),d.close()}else ce(ht,`RPC '${e}' stream ${o} received:`,b),f.po(b)}}),m(a,I1.STAT_EVENT,g=>{g.stat===Hd.PROXY?ce(ht,`RPC '${e}' stream ${o} detected buffering proxy`):g.stat===Hd.NOPROXY&&ce(ht,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{f.mo()},0),f}}function qa(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){return new AS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,r=1e3,o=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=o,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),o=Math.max(0,n-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,r,o,s,i,a,l){this.si=e,this.Wo=r,this.Go=o,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new pg(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(bn(n.toString()),bn("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.zo===n&&this.a_(r,o)},r=>{e(()=>{const o=new fe(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(o)})})}a_(e,n){const r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(o=>{r(()=>this.u_(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wD extends fg{constructor(e,n,r,o,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();const n=VS(this.serializer,e),r=function(s){if(!("targetChange"in s))return be.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?be.min():i.readTime?sn(i.readTime):be.min()}(e);return this.listener.l_(n,r)}h_(e){const n={};n.database=Al(this.serializer),n.addTarget=function(s,i){let a;const l=i.target;if(a=Cl(l)?{documents:LS(s,l)}:{query:NS(s,l)._t},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=og(s,i.resumeToken);const c=Sl(s,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(be.min())>0){a.readTime=yi(s,i.snapshotVersion.toTimestamp());const c=Sl(s,i.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=BS(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){const n={};n.database=Al(this.serializer),n.removeTarget=e,this.r_(n)}}class TD extends fg{constructor(e,n,r,o,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const n=$S(e.writeResults,e.commitTime),r=sn(e.commitTime);return this.listener.d_(r,n)}return ze(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Al(this.serializer),this.r_(e)}E_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>OS(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.V_=!1}m_(){if(this.V_)throw new fe(K.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Do(e,Dl(n,r),o,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(K.UNKNOWN,s.toString())})}Mo(e,n,r,o,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,Dl(n,r),o,i,a,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(K.UNKNOWN,i.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class ID{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(bn(n),this.y_=!1):ce("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n,r,o,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(i=>{r.enqueueAndForget(async()=>{pr(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Te(l);c.M_.add(4),await Is(c),c.N_.set("Unknown"),c.M_.delete(4),await da(c)}(this))})}),this.N_=new ID(r,o)}}async function da(t){if(pr(t))for(const e of t.x_)await e(!0)}async function Is(t){for(const e of t.x_)await e(!1)}function mg(t,e){const n=Te(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),ou(n)?ru(n):Xr(n).Zo()&&nu(n,e))}function tu(t,e){const n=Te(t),r=Xr(n);n.F_.delete(e),r.Zo()&&gg(n,e),n.F_.size===0&&(r.Zo()?r.t_():pr(n)&&n.N_.set("Unknown"))}function nu(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xr(t).h_(e)}function gg(t,e){t.L_.xe(e),Xr(t).P_(e)}function ru(t){t.L_=new PS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Xr(t).start(),t.N_.w_()}function ou(t){return pr(t)&&!Xr(t).Yo()&&t.F_.size>0}function pr(t){return Te(t).M_.size===0}function yg(t){t.L_=void 0}async function CD(t){t.N_.set("Online")}async function PD(t){t.F_.forEach((e,n)=>{nu(t,e)})}async function SD(t,e){yg(t),ou(t)?(t.N_.D_(e),ru(t)):t.N_.set("Unknown")}async function DD(t,e,n){if(t.N_.set("Online"),e instanceof rg&&e.state===2&&e.cause)try{await async function(o,s){const i=s.cause;for(const a of s.targetIds)o.F_.has(a)&&(await o.remoteSyncer.rejectListen(a,i),o.F_.delete(a),o.L_.removeTarget(a))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vi(t,r)}else if(e instanceof Qs?t.L_.Ke(e):e instanceof ng?t.L_.He(e):t.L_.We(e),!n.isEqual(be.min()))try{const r=await hg(t.localStore);n.compareTo(r)>=0&&await function(s,i){const a=s.L_.rt(i);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.F_.get(c);u&&s.F_.set(c,u.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,c)=>{const u=s.F_.get(l);if(!u)return;s.F_.set(l,u.withResumeToken(yt.EMPTY_BYTE_STRING,u.snapshotVersion)),gg(s,l);const d=new Dn(u.target,l,c,u.sequenceNumber);nu(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await vi(t,r)}}async function vi(t,e,n){if(!ws(e))throw e;t.M_.add(1),await Is(t),t.N_.set("Offline"),n||(n=()=>hg(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await da(t)})}function vg(t,e){return e().catch(n=>vi(t,n,e))}async function ha(t){const e=Te(t),n=Ln(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;RD(e);)try{const o=await pD(e.localStore,r);if(o===null){e.v_.length===0&&n.t_();break}r=o.batchId,AD(e,o)}catch(o){await vi(e,o)}_g(e)&&bg(e)}function RD(t){return pr(t)&&t.v_.length<10}function AD(t,e){t.v_.push(e);const n=Ln(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function _g(t){return pr(t)&&!Ln(t).Yo()&&t.v_.length>0}function bg(t){Ln(t).start()}async function MD(t){Ln(t).R_()}async function kD(t){const e=Ln(t);for(const n of t.v_)e.E_(n.mutations)}async function VD(t,e,n){const r=t.v_.shift(),o=Gc.from(r,e,n);await vg(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await ha(t)}async function OD(t,e){e&&Ln(t).T_&&await async function(r,o){if(function(i){return IS(i)&&i!==K.ABORTED}(o.code)){const s=r.v_.shift();Ln(r).e_(),await vg(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),await ha(r)}}(t,e),_g(t)&&bg(t)}async function mh(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=pr(n);n.M_.add(3),await Is(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await da(n)}async function $D(t,e){const n=Te(t);e?(n.M_.delete(2),await da(n)):e||(n.M_.add(2),await Is(n),n.N_.set("Unknown"))}function Xr(t){return t.B_||(t.B_=function(n,r,o){const s=Te(n);return s.m_(),new wD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(t.datastore,t.asyncQueue,{ho:CD.bind(null,t),Io:PD.bind(null,t),Eo:SD.bind(null,t),l_:DD.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.e_(),ou(t)?ru(t):t.N_.set("Unknown")):(await t.B_.stop(),yg(t))})),t.B_}function Ln(t){return t.k_||(t.k_=function(n,r,o){const s=Te(n);return s.m_(),new TD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:MD.bind(null,t),Eo:OD.bind(null,t),A_:kD.bind(null,t),d_:VD.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.e_(),await ha(t)):(await t.k_.stop(),t.v_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,r,o,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new Mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,s){const i=Date.now()+r,a=new su(e,n,i,o,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iu(t,e){if(bn("AsyncQueue",`${e}: ${t}`),ws(t))return new fe(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=wo(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new Dr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Dr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this.q_=new Ge(me.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ve():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class jr{constructor(e,n,r,o,s,i,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,o,s){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new jr(e,n,Dr.emptySet(n),i,r,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class ND{constructor(){this.queries=new Qr(e=>Um(e),sa),this.onlineState="Unknown",this.z_=new Set}}async function FD(t,e){const n=Te(t);let r=3;const o=e.query;let s=n.queries.get(o);s?!s.W_()&&e.G_()&&(r=2):(s=new LD,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(o,!0);break;case 1:s.K_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(i){const a=iu(i,`Initialization of query '${vr(e.query)}' failed`);return void e.onError(a)}n.queries.set(o,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&au(n)}async function BD(t,e){const n=Te(t),r=e.query;let o=3;const s=n.queries.get(r);if(s){const i=s.U_.indexOf(e);i>=0&&(s.U_.splice(i,1),s.U_.length===0?o=e.G_()?0:1:!s.W_()&&e.G_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jD(t,e){const n=Te(t);let r=!1;for(const o of e){const s=o.query,i=n.queries.get(s);if(i){for(const a of i.U_)a.H_(o)&&(r=!0);i.K_=o}}r&&au(n)}function UD(t,e,n){const r=Te(t),o=r.queries.get(e);if(o)for(const s of o.U_)s.onError(n);r.queries.delete(e)}function au(t){t.z_.forEach(e=>{e.next()})}var kl,yh;(yh=kl||(kl={})).J_="default",yh.Cache="cache";class zD{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new jr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=jr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==kl.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this.key=e}}class Tg{constructor(e){this.key=e}}class WD{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ce(),this.mutatedKeys=Ce(),this.Ia=zm(e),this.Ta=new Dr(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new gh,o=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,i=o,a=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,c=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((u,d)=>{const h=o.get(u),p=ia(this.query,d)?d:null,f=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let g=!1;h&&p?h.data.isEqual(p.data)?f!==m&&(r.track({type:3,doc:p}),g=!0):this.Ra(h,p)||(r.track({type:2,doc:p}),g=!0,(l&&this.Ia(p,l)>0||c&&this.Ia(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),g=!0):h&&!p&&(r.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(p?(i=i.add(p),s=m?s.add(u):s.delete(u)):(i=i.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const u=this.query.limitType==="F"?i.last():i.first();i=i.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ta:i,Aa:r,Zi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const i=e.Aa.Q_();i.sort((u,d)=>function(p,f){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return m(p)-m(f)}(u.type,d.type)||this.Ia(u.doc,d.doc)),this.Va(r),o=o!=null&&o;const a=n&&!o?this.ma():[],l=this.Pa.size===0&&this.current&&!o?1:0,c=l!==this.ha;return this.ha=l,i.length!==0||c?{snapshot:new jr(this.query,e.Ta,s,i,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new gh,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Ce(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Tg(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new wg(r))}),n}pa(e){this.la=e.ls,this.Pa=Ce();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return jr.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class HD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qD{constructor(e){this.key=e,this.wa=!1}}class YD{constructor(e,n,r,o,s,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Sa={},this.ba=new Qr(a=>Um(a),sa),this.Da=new Map,this.Ca=new Set,this.va=new Ge(me.comparator),this.Fa=new Map,this.Ma=new Jc,this.xa={},this.Oa=new Map,this.Na=Br.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function KD(t,e,n=!0){const r=Sg(t);let o;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),o=s.view.ya()):o=await Eg(r,e,n,!0),o}async function GD(t,e){const n=Sg(t);await Eg(n,e,!0,!1)}async function Eg(t,e,n,r){const o=await fD(t.localStore,on(e)),s=o.targetId,i=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await QD(t,e,s,i==="current",o.resumeToken)),t.isPrimaryClient&&n&&mg(t.remoteStore,o),a}async function QD(t,e,n,r,o){t.Ba=(d,h,p)=>async function(m,g,w,b){let T=g.view.da(w);T.Zi&&(T=await hh(m.localStore,g.query,!1).then(({documents:C})=>g.view.da(C,T)));const E=b&&b.targetChanges.get(g.targetId),I=b&&b.targetMismatches.get(g.targetId)!=null,D=g.view.applyChanges(T,m.isPrimaryClient,E,I);return _h(m,g.targetId,D.fa),D.snapshot}(t,d,h,p);const s=await hh(t.localStore,e,!0),i=new WD(e,s.ls),a=i.da(s.documents),l=Es.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),c=i.applyChanges(a,t.isPrimaryClient,l);_h(t,n,c.fa);const u=new HD(e,n,i);return t.ba.set(e,u),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function XD(t,e,n){const r=Te(t),o=r.ba.get(e),s=r.Da.get(o.targetId);if(s.length>1)return r.Da.set(o.targetId,s.filter(i=>!sa(i,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ml(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&tu(r.remoteStore,o.targetId),Vl(r,o.targetId)}).catch(bs)):(Vl(r,o.targetId),await Ml(r.localStore,o.targetId,!0))}async function JD(t,e){const n=Te(t),r=n.ba.get(e),o=n.Da.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tu(n.remoteStore,r.targetId))}async function ZD(t,e,n){const r=iR(t);try{const o=await function(i,a){const l=Te(i),c=nt.now(),u=a.reduce((p,f)=>p.add(f.key),Ce());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let f=wn(),m=Ce();return l.ss.getEntries(p,u).next(g=>{f=g,f.forEach((w,b)=>{b.isValidDocument()||(m=m.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,f)).next(g=>{d=g;const w=[];for(const b of a){const T=_S(b,d.get(b.key).overlayedDocument);T!=null&&w.push(new Un(b.key,T,Vm(T.value.mapValue),Kt.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,w,a)}).next(g=>{h=g;const w=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(p,g.batchId,w)})}).then(()=>({batchId:h.batchId,changes:Hm(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(i,a,l){let c=i.xa[i.currentUser.toKey()];c||(c=new Ge(Ve)),c=c.insert(a,l),i.xa[i.currentUser.toKey()]=c}(r,o.batchId,n),await xs(r,o.changes),await ha(r.remoteStore)}catch(o){const s=iu(o,"Failed to persist write");n.reject(s)}}async function Ig(t,e){const n=Te(t);try{const r=await dD(n.localStore,e);e.targetChanges.forEach((o,s)=>{const i=n.Fa.get(s);i&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?i.wa=!0:o.modifiedDocuments.size>0?ze(i.wa):o.removedDocuments.size>0&&(ze(i.wa),i.wa=!1))}),await xs(n,r,e)}catch(r){await bs(r)}}function vh(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.ba.forEach((s,i)=>{const a=i.view.j_(e);a.snapshot&&o.push(a.snapshot)}),function(i,a){const l=Te(i);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.U_)h.j_(a)&&(c=!0)}),c&&au(l)}(r.eventManager,e),o.length&&r.Sa.l_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eR(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Fa.get(e),s=o&&o.key;if(s){let i=new Ge(me.comparator);i=i.insert(s,ft.newNoDocument(s,be.min()));const a=Ce().add(s),l=new ca(be.min(),new Map,new Ge(Ve),i,a);await Ig(r,l),r.va=r.va.remove(s),r.Fa.delete(e),lu(r)}else await Ml(r.localStore,e,!1).then(()=>Vl(r,e,n)).catch(bs)}async function tR(t,e){const n=Te(t),r=e.batch.batchId;try{const o=await uD(n.localStore,e);Cg(n,r,null),xg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xs(n,o)}catch(o){await bs(o)}}async function nR(t,e,n){const r=Te(t);try{const o=await function(i,a){const l=Te(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ze(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);Cg(r,e,n),xg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xs(r,o)}catch(o){await bs(o)}}function xg(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Cg(t,e,n){const r=Te(t);let o=r.xa[r.currentUser.toKey()];if(o){const s=o.get(e);s&&(n?s.reject(n):s.resolve(),o=o.remove(e)),r.xa[r.currentUser.toKey()]=o}}function Vl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||Pg(t,r)})}function Pg(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(tu(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),lu(t))}function _h(t,e,n){for(const r of n)r instanceof wg?(t.Ma.addReference(r.key,e),rR(t,r)):r instanceof Tg?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||Pg(t,r.key)):ve()}function rR(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.Ca.add(r),lu(t))}function lu(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new me(Ye.fromString(e)),r=t.Na.next();t.Fa.set(r,new qD(n)),t.va=t.va.insert(n,r),mg(t.remoteStore,new Dn(on(jm(n.path)),r,"TargetPurposeLimboResolution",Uc.oe))}}async function xs(t,e,n){const r=Te(t),o=[],s=[],i=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{i.push(r.Ba(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){o.push(c);const u=eu.Qi(l.targetId,c);s.push(u)}}))}),await Promise.all(i),r.Sa.l_(o),await async function(l,c){const u=Te(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>G.forEach(c,h=>G.forEach(h.ki,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>G.forEach(h.qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!ws(d))throw d;ce("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.ts.get(h),f=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(f);u.ts=u.ts.insert(h,m)}}}(r.localStore,s))}async function oR(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await dg(n.localStore,e);n.currentUser=e,function(s,i){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new fe(K.CANCELLED,i))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xs(n,r._s)}}function sR(t,e){const n=Te(t),r=n.Fa.get(e);if(r&&r.wa)return Ce().add(r.key);{let o=Ce();const s=n.Da.get(e);if(!s)return o;for(const i of s){const a=n.ba.get(i);o=o.unionWith(a.view.Ea)}return o}}function Sg(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ig.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eR.bind(null,e),e.Sa.l_=jD.bind(null,e.eventManager),e.Sa.ka=UD.bind(null,e.eventManager),e}function iR(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nR.bind(null,e),e}class bh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ua(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return cD(this.persistence,new aD,e.initialUser,this.serializer)}createPersistence(e){return new oD(Zc.jr,this.serializer)}createSharedClientState(e){return new gD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class aR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vh(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oR.bind(null,this.syncEngine),await $D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ND}()}createDatastore(e){const n=ua(e.databaseInfo.databaseId),r=function(s){return new bD(s)}(e.databaseInfo);return function(s,i,a,l){return new ED(s,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,s,i,a){return new xD(r,o,s,i,a)}(this.localStore,this.datastore,e.asyncQueue,n=>vh(this.syncEngine,n,0),function(){return fh.D()?new fh:new yD}())}createSyncEngine(e,n){return function(o,s,i,a,l,c,u){const d=new YD(o,s,i,a,l,c);return u&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const o=Te(r);ce("RemoteStore","RemoteStore shutting down."),o.M_.add(5),await Is(o),o.O_.shutdown(),o.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):bn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=pt.UNAUTHENTICATED,this.clientId=Am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iu(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ya(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await dg(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wh(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dR(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mh(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>mh(e.remoteStore,o)),t._onlineComponents=e}function uR(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function dR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ya(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!uR(n))throw n;$r("Error using user provided cache. Falling back to memory cache: "+n),await Ya(t,new bh)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Ya(t,new bh);return t._offlineComponents}async function Dg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await wh(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await wh(t,new aR))),t._onlineComponents}function hR(t){return Dg(t).then(e=>e.syncEngine)}async function pR(t){const e=await Dg(t),n=e.eventManager;return n.onListen=KD.bind(null,e.syncEngine),n.onUnlisten=XD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JD.bind(null,e.syncEngine),n}function fR(t,e,n={}){const r=new Mn;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,a,l,c){const u=new lR({next:h=>{i.enqueueAndForget(()=>BD(s,d)),h.fromCache&&l.source==="server"?c.reject(new fe(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new zD(a,u,{includeMetadataChanges:!0,ra:!0});return FD(s,d)}(await pR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e,n){if(!n)throw new fe(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mR(t,e,n,r){if(e===!0&&r===!0)throw new fe(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Eh(t){if(!me.isDocumentKey(t))throw new fe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ih(t){if(me.isDocumentKey(t))throw new fe(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cu(t);throw new fe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rg((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pa{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new fe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new S1;switch(r.type){case"firstParty":return new M1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Th.get(n);r&&(ce("ComponentProvider","Removing Datastore"),Th.delete(n),r.terminate())}(this),Promise.resolve()}}function gR(t,e,n,r={}){var o;const s=(t=ir(t,pa))._getSettings(),i=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==i&&$r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=pt.MOCK_USER;else{a=rC(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new fe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pt(c)}t._authCredentials=new D1(new Rm(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class kn extends fa{constructor(e,n,r){super(e,n,jm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new me(e))}withConverter(e){return new kn(this.firestore,e,this._path)}}function Mg(t,e,...n){if(t=Vn(t),Ag("collection","path",e),t instanceof pa){const r=Ye.fromString(e,...n);return Ih(r),new kn(t,null,r)}{if(!(t instanceof Ft||t instanceof kn))throw new fe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return Ih(r),new kn(t.firestore,null,r)}}function uu(t,e,...n){if(t=Vn(t),arguments.length===1&&(e=Am.newId()),Ag("doc","path",e),t instanceof pa){const r=Ye.fromString(e,...n);return Eh(r),new Ft(t,null,new me(r))}{if(!(t instanceof Ft||t instanceof kn))throw new fe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return Eh(r),new Ft(t.firestore,t instanceof kn?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new pg(this,"async_queue_retry"),this.hu=()=>{const n=qa();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=qa();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=qa();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Mn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!ws(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const o=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw bn("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const o=su.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(o),o}Pu(){this.au&&ve()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Cs extends pa{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=function(){return new yR}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vg(this),this._firestoreClient.terminate()}}function vR(t,e){const n=typeof t=="object"?t:uP(),r=typeof t=="string"?t:"(default)",o=iP(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const s=tC("firestore");s&&gR(o,...s)}return o}function kg(t){return t._firestoreClient||Vg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Vg(t){var e,n,r;const o=t._freezeSettings(),s=function(a,l,c,u){return new H1(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Rg(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new cR(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ur(yt.fromBase64String(e))}catch(n){throw new fe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ur(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=/^__.*__$/;class bR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Un(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ts(e,this.data,n,this.fieldTransforms)}}class Og{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Un(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $g(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class pu{constructor(e,n,r,o,s,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new pu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.gu({path:r,yu:!1});return o.wu(e),o}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.gu({path:r,yu:!1});return o.mu(),o}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return _i(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if($g(this.fu)&&_R.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class wR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ua(e)}Fu(e,n,r,o=!1){return new pu({fu:e,methodName:n,vu:r,path:ct.emptyPath(),yu:!1,Cu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lg(t){const e=t._freezeSettings(),n=ua(t._databaseId);return new wR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TR(t,e,n,r,o,s={}){const i=t.Fu(s.merge||s.mergeFields?2:0,e,n,o);fu("Data must be an object, but it was:",i,r);const a=Ng(r,i);let l,c;if(s.merge)l=new Pt(i.fieldMask),c=i.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Ol(e,d,n);if(!i.contains(h))throw new fe(K.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Bg(u,h)||u.push(h)}l=new Pt(u),c=i.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=i.fieldTransforms;return new bR(new Et(a),l,c)}class ga extends du{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ga}}function ER(t,e,n,r){const o=t.Fu(1,e,n);fu("Data must be an object, but it was:",o,r);const s=[],i=Et.empty();hr(r,(l,c)=>{const u=mu(e,l,n);c=Vn(c);const d=o.Su(u);if(c instanceof ga)s.push(u);else{const h=ya(c,d);h!=null&&(s.push(u),i.set(u,h))}});const a=new Pt(s);return new Og(i,a,o.fieldTransforms)}function IR(t,e,n,r,o,s){const i=t.Fu(1,e,n),a=[Ol(e,r,n)],l=[o];if(s.length%2!=0)throw new fe(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Ol(e,s[h])),l.push(s[h+1]);const c=[],u=Et.empty();for(let h=a.length-1;h>=0;--h)if(!Bg(c,a[h])){const p=a[h];let f=l[h];f=Vn(f);const m=i.Su(p);if(f instanceof ga)c.push(p);else{const g=ya(f,m);g!=null&&(c.push(p),u.set(p,g))}}const d=new Pt(c);return new Og(u,d,i.fieldTransforms)}function ya(t,e){if(Fg(t=Vn(t)))return fu("Unsupported field value:",e,t),Ng(t,e);if(t instanceof du)return function(r,o){if(!$g(o.fu))throw o.Du(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,o){const s=[];let i=0;for(const a of r){let l=ya(a,o.bu(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(t,e)}return function(r,o){if((r=Vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=nt.fromDate(r);return{timestampValue:yi(o.serializer,s)}}if(r instanceof nt){const s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yi(o.serializer,s)}}if(r instanceof hu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:og(o.serializer,r._byteString)};if(r instanceof Ft){const s=o.databaseId,i=r.firestore._databaseId;if(!i.isEqual(s))throw o.Du(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xc(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.Du(`Unsupported field value: ${cu(r)}`)}(t,e)}function Ng(t,e){const n={};return Mm(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hr(t,(r,o)=>{const s=ya(o,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Fg(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof hu||t instanceof Ur||t instanceof Ft||t instanceof du)}function fu(t,e,n){if(!Fg(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=cu(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Ol(t,e,n){if((e=Vn(e))instanceof ma)return e._internalPath;if(typeof e=="string")return mu(t,e);throw _i("Field path arguments must be of type string or ",t,!1,void 0,n)}const xR=new RegExp("[~\\*/\\[\\]]");function mu(t,e,n){if(e.search(xR)>=0)throw _i(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ma(...e.split("."))._internalPath}catch{throw _i(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _i(t,e,n,r,o){const s=r&&!r.isEmpty(),i=o!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${r}`),i&&(l+=` in document ${o}`),l+=")"),new fe(K.INVALID_ARGUMENT,a+t+l)}function Bg(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,r,o,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CR extends jg{data(){return super.data()}}function Ug(t,e){return typeof e=="string"?mu(t,e):e instanceof ma?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SR{convertValue(e,n="none"){switch(sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hr(e,(o,s)=>{r[o]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new hu(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ko(e));default:return null}}convertTimestamp(e){const n=$n(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);ze(ug(r));const o=new Go(r.get(1),r.get(3)),s=new me(r.popFirst(5));return o.isEqual(n)||bn(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RR extends jg{constructor(e,n,r,o,s,i){super(e,n,r,o,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ug("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xs extends RR{data(e={}){return super.data(e)}}class AR{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new zs(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xs(this._firestore,this._userDataWriter,r.key,r,new zs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let i=0;return o._snapshot.docChanges.map(a=>{const l=new Xs(o._firestore,o._userDataWriter,a.doc.key,a.doc,new zs(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Xs(o._firestore,o._userDataWriter,a.doc.key,a.doc,new zs(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let c=-1,u=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),u=i.indexOf(a.doc.key)),{type:MR(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class kR extends SR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function VR(t){t=ir(t,fa);const e=ir(t.firestore,Cs),n=kg(e),r=new kR(e);return PR(t._query),fR(n,t._query).then(o=>new AR(e,r,t,o))}function OR(t,e,n,...r){t=ir(t,Ft);const o=ir(t.firestore,Cs),s=Lg(o);let i;return i=typeof(e=Vn(e))=="string"||e instanceof ma?IR(s,"updateDoc",t._key,e,n,r):ER(s,"updateDoc",t._key,e),gu(o,[i.toMutation(t._key,Kt.exists(!0))])}function $R(t){return gu(ir(t.firestore,Cs),[new Kc(t._key,Kt.none())])}function LR(t,e){const n=ir(t.firestore,Cs),r=uu(t),o=DR(t.converter,e);return gu(n,[TR(Lg(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,Kt.exists(!1))]).then(()=>r)}function gu(t,e){return function(r,o){const s=new Mn;return r.asyncQueue.enqueueAndForget(async()=>ZD(await hR(r),o,s)),s.promise}(kg(t),e)}(function(e,n=!0){(function(o){Gr=o})(cP),si(new Lo("firestore",(r,{instanceIdentifier:o,options:s})=>{const i=r.getProvider("app").getImmediate(),a=new Cs(new R1(r.getProvider("auth-internal")),new V1(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new fe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(c.options.projectId,u)}(i,o),i);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Cr(qd,"4.6.1",e),Cr(qd,"4.6.1","esm2017")})();var NR="firebase",FR="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(NR,FR,"app");var BR={VITE_apiKey:"AIzaSyAz1IuDZ2VRkXR-hzZ5W7WaZVrb1o_-qlM",VITE_authDomain:"languagelift-91570.firebaseapp.com",VITE_projectId:"languagelift-91570",VITE_storageBucket:"languagelift-91570.appspot.com",VITE_messagingSenderId:"598651717153",VITE_appId:"1:598651717153:web:476e9d51ce2c750eaa4560",BASE_URL:"/languagelift",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const gr=BR,jR={apiKey:gr.VITE_apiKey,authDomain:gr.VITE_authDomain,projectId:gr.VITE_projectId,storageBucket:gr.VITE_storageBucket,messagingSenderId:gr.VITE_messagingSenderId,appId:gr.VITE_appId},UR=xf(jR),bi=vR(UR),zR=async(t,e,n)=>{try{const r=await LR(Mg(bi,t),e),o=uu(bi,t,r.id);return await OR(o,{id:r.id}),await va(t,n),"success"}catch(r){throw console.error("Error adding document: ",r),r}},va=async(t,e)=>{try{const r=[...(await VR(Mg(bi,t))).docs.map(o=>o.data())];return await e(r),"getData is success"}catch(n){throw console.error("Error get documents: ",n),n}},zg=async(t,e)=>{try{return await $R(uu(bi,t,e)),"delete"}catch(n){throw console.error("Error delete documents: ",n),n}},Zo=t=>typeof t=="number"&&!isNaN(t),Zn=t=>typeof t=="string",St=t=>typeof t=="function",Js=t=>Zn(t)||St(t)?t:null,$l=t=>y.isValidElement(t)||Zn(t)||St(t)||Zo(t);function WR(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:o}=t;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,n)})})}function _a(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:o=!0,collapseDuration:s=300}=t;return function(i){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:p}=i;const f=r?`${e}--${l}`:e,m=r?`${n}--${l}`:n,g=y.useRef(0);return y.useLayoutEffect(()=>{const w=d.current,b=f.split(" "),T=E=>{E.target===d.current&&(p(),w.removeEventListener("animationend",T),w.removeEventListener("animationcancel",T),g.current===0&&E.type!=="animationcancel"&&w.classList.remove(...b))};w.classList.add(...b),w.addEventListener("animationend",T),w.addEventListener("animationcancel",T)},[]),y.useEffect(()=>{const w=d.current,b=()=>{w.removeEventListener("animationend",b),o?WR(w,u,s):u()};h||(c?b():(g.current=1,w.className+=` ${m}`,w.addEventListener("animationend",b)))},[h]),Le.createElement(Le.Fragment,null,a)}}function Ch(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const bt=new Map;let es=[];const Ll=new Set,HR=t=>Ll.forEach(e=>e(t)),Wg=()=>bt.size>0;function Hg(t,e){var n;if(e)return!((n=bt.get(e))==null||!n.isToastActive(t));let r=!1;return bt.forEach(o=>{o.isToastActive(t)&&(r=!0)}),r}function qg(t,e){$l(t)&&(Wg()||es.push({content:t,options:e}),bt.forEach(n=>{n.buildToast(t,e)}))}function Ph(t,e){bt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function qR(t){const{subscribe:e,getSnapshot:n,setProps:r}=y.useRef(function(s){const i=s.containerId||1;return{subscribe(a){const l=function(u,d,h){let p=1,f=0,m=[],g=[],w=[],b=d;const T=new Map,E=new Set,I=()=>{w=Array.from(T.values()),E.forEach(x=>x())},D=x=>{g=x==null?[]:g.filter(O=>O!==x),I()},C=x=>{const{toastId:O,onOpen:$,updateId:R,children:N}=x.props,V=R==null;x.staleId&&T.delete(x.staleId),T.set(O,x),g=[...g,x.props.toastId].filter(A=>A!==x.staleId),I(),h(Ch(x,V?"added":"updated")),V&&St($)&&$(y.isValidElement(N)&&N.props)};return{id:u,props:b,observe:x=>(E.add(x),()=>E.delete(x)),toggle:(x,O)=>{T.forEach($=>{O!=null&&O!==$.props.toastId||St($.toggle)&&$.toggle(x)})},removeToast:D,toasts:T,clearQueue:()=>{f-=m.length,m=[]},buildToast:(x,O)=>{if((z=>{let{containerId:H,toastId:ee,updateId:oe}=z;const j=H?H!==u:u!==1,U=T.has(ee)&&oe==null;return j||U})(O))return;const{toastId:$,updateId:R,data:N,staleId:V,delay:A}=O,P=()=>{D($)},M=R==null;M&&f++;const B={...b,style:b.toastStyle,key:p++,...Object.fromEntries(Object.entries(O).filter(z=>{let[H,ee]=z;return ee!=null})),toastId:$,updateId:R,data:N,closeToast:P,isIn:!1,className:Js(O.className||b.toastClassName),bodyClassName:Js(O.bodyClassName||b.bodyClassName),progressClassName:Js(O.progressClassName||b.progressClassName),autoClose:!O.isLoading&&(S=O.autoClose,L=b.autoClose,S===!1||Zo(S)&&S>0?S:L),deleteToast(){const z=T.get($),{onClose:H,children:ee}=z.props;St(H)&&H(y.isValidElement(ee)&&ee.props),h(Ch(z,"removed")),T.delete($),f--,f<0&&(f=0),m.length>0?C(m.shift()):I()}};var S,L;B.closeButton=b.closeButton,O.closeButton===!1||$l(O.closeButton)?B.closeButton=O.closeButton:O.closeButton===!0&&(B.closeButton=!$l(b.closeButton)||b.closeButton);let W=x;y.isValidElement(x)&&!Zn(x.type)?W=y.cloneElement(x,{closeToast:P,toastProps:B,data:N}):St(x)&&(W=x({closeToast:P,toastProps:B,data:N}));const J={content:W,props:B,staleId:V};b.limit&&b.limit>0&&f>b.limit&&M?m.push(J):Zo(A)?setTimeout(()=>{C(J)},A):C(J)},setProps(x){b=x},setToggle:(x,O)=>{T.get(x).toggle=O},isToastActive:x=>g.some(O=>O===x),getSnapshot:()=>b.newestOnTop?w.reverse():w}}(i,s,HR);bt.set(i,l);const c=l.observe(a);return es.forEach(u=>qg(u.content,u.options)),es=[],()=>{c(),bt.delete(i)}},setProps(a){var l;(l=bt.get(i))==null||l.setProps(a)},getSnapshot(){var a;return(a=bt.get(i))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const o=y.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!o)return[];const i=new Map;return o.forEach(a=>{const{position:l}=a.props;i.has(l)||i.set(l,[]),i.get(l).push(a)}),Array.from(i,a=>s(a[0],a[1]))},isToastActive:Hg,count:o==null?void 0:o.length}}function YR(t){const[e,n]=y.useState(!1),[r,o]=y.useState(!1),s=y.useRef(null),i=y.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=t;var h,p;function f(){n(!0)}function m(){n(!1)}function g(T){const E=s.current;i.canDrag&&E&&(i.didMove=!0,e&&m(),i.delta=t.draggableDirection==="x"?T.clientX-i.start:T.clientY-i.start,i.start!==T.clientX&&(i.canCloseOnClick=!1),E.style.transform=`translate3d(${t.draggableDirection==="x"?`${i.delta}px, var(--y)`:`0, calc(${i.delta}px + var(--y))`},0)`,E.style.opacity=""+(1-Math.abs(i.delta/i.removalDistance)))}function w(){document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",w);const T=s.current;if(i.canDrag&&i.didMove&&T){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return o(!0),t.closeToast(),void t.collapseAll();T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}(p=bt.get((h={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||p.setToggle(h.id,h.fn),y.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",f),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",m)}},[t.pauseOnFocusLoss]);const b={onPointerDown:function(T){if(t.draggable===!0||t.draggable===T.pointerType){i.didMove=!1,document.addEventListener("pointermove",g),document.addEventListener("pointerup",w);const E=s.current;i.canCloseOnClick=!0,i.canDrag=!0,E.style.transition="none",t.draggableDirection==="x"?(i.start=T.clientX,i.removalDistance=E.offsetWidth*(t.draggablePercent/100)):(i.start=T.clientY,i.removalDistance=E.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(T){const{top:E,bottom:I,left:D,right:C}=s.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&T.clientX>=D&&T.clientX<=C&&T.clientY>=E&&T.clientY<=I?m():f()}};return a&&l&&(b.onMouseEnter=m,t.stacked||(b.onMouseLeave=f)),d&&(b.onClick=T=>{u&&u(T),i.canCloseOnClick&&c()}),{playToast:f,pauseToast:m,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:b}}function KR(t){let{delay:e,isRunning:n,closeToast:r,type:o="default",hide:s,className:i,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=t;const p=s||l&&c===0,f={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(f.transform=`scaleX(${c})`);const m=de("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":u}),g=St(i)?i({rtl:u,type:o,defaultClassName:m}):de(m,i),w={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}};return Le.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},Le.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${o}`}),Le.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:g,style:f,...w}))}let GR=1;const Yg=()=>""+GR++;function QR(t){return t&&(Zn(t.toastId)||Zo(t.toastId))?t.toastId:Yg()}function Mo(t,e){return qg(t,e),e.toastId}function wi(t,e){return{...e,type:e&&e.type||t,toastId:QR(e)}}function Ws(t){return(e,n)=>Mo(e,wi(t,n))}function $e(t,e){return Mo(t,wi("default",e))}$e.loading=(t,e)=>Mo(t,wi("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),$e.promise=function(t,e,n){let r,{pending:o,error:s,success:i}=e;o&&(r=Zn(o)?$e.loading(o,n):$e.loading(o.render,{...n,...o}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void $e.dismiss(r);const p={type:u,...a,...n,data:h},f=Zn(d)?{render:d}:d;return r?$e.update(r,{...p,...f}):$e(f.render,{...p,...f}),h},c=St(t)?t():t;return c.then(u=>l("success",i,u)).catch(u=>l("error",s,u)),c},$e.success=Ws("success"),$e.info=Ws("info"),$e.error=Ws("error"),$e.warning=Ws("warning"),$e.warn=$e.warning,$e.dark=(t,e)=>Mo(t,wi("default",{theme:"dark",...e})),$e.dismiss=function(t){(function(e){var n;if(Wg()){if(e==null||Zn(n=e)||Zo(n))bt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=bt.get(e.containerId);r?r.removeToast(e.id):bt.forEach(o=>{o.removeToast(e.id)})}}else es=es.filter(r=>e!=null&&r.options.toastId!==e)})(t)},$e.clearWaitingQueue=function(t){t===void 0&&(t={}),bt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},$e.isActive=Hg,$e.update=function(t,e){e===void 0&&(e={});const n=((r,o)=>{var s;let{containerId:i}=o;return(s=bt.get(i||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:o}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:Yg()};s.toastId!==t&&(s.staleId=t);const i=s.render||o;delete s.render,Mo(i,s)}},$e.done=t=>{$e.update(t,{progress:1})},$e.onChange=function(t){return Ll.add(t),()=>{Ll.delete(t)}},$e.play=t=>Ph(!0,t),$e.pause=t=>Ph(!1,t);const XR=typeof window<"u"?y.useLayoutEffect:y.useEffect,Hs=t=>{let{theme:e,type:n,isLoading:r,...o}=t;return Le.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...o})},Ka={info:function(t){return Le.createElement(Hs,{...t},Le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Le.createElement(Hs,{...t},Le.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Le.createElement(Hs,{...t},Le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Le.createElement(Hs,{...t},Le.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Le.createElement("div",{className:"Toastify__spinner"})}},JR=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:o,playToast:s}=YR(t),{closeButton:i,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:h,transition:p,position:f,className:m,style:g,bodyClassName:w,bodyStyle:b,progressClassName:T,progressStyle:E,updateId:I,role:D,progress:C,rtl:x,toastId:O,deleteToast:$,isIn:R,isLoading:N,closeOnClick:V,theme:A}=t,P=de("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":x},{"Toastify__toast--close-on-click":V}),M=St(m)?m({rtl:x,position:f,type:u,defaultClassName:P}):de(P,m),B=function(J){let{theme:z,type:H,isLoading:ee,icon:oe}=J,j=null;const U={theme:z,type:H};return oe===!1||(St(oe)?j=oe({...U,isLoading:ee}):y.isValidElement(oe)?j=y.cloneElement(oe,U):ee?j=Ka.spinner():(Q=>Q in Ka)(H)&&(j=Ka[H](U))),j}(t),S=!!C||!l,L={closeToast:h,type:u,theme:A};let W=null;return i===!1||(W=St(i)?i(L):y.isValidElement(i)?y.cloneElement(i,L):function(J){let{closeToast:z,theme:H,ariaLabel:ee="close"}=J;return Le.createElement("button",{className:`Toastify__close-button Toastify__close-button--${H}`,type:"button",onClick:oe=>{oe.stopPropagation(),z(oe)},"aria-label":ee},Le.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Le.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(L)),Le.createElement(p,{isIn:R,done:$,position:f,preventExitTransition:n,nodeRef:r,playToast:s},Le.createElement("div",{id:O,onClick:c,"data-in":R,className:M,...o,style:g,ref:r},Le.createElement("div",{...R&&{role:D},className:St(w)?w({type:u}):de("Toastify__toast-body",w),style:b},B!=null&&Le.createElement("div",{className:de("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},B),Le.createElement("div",null,a)),W,Le.createElement(KR,{...I&&!S?{key:`pb-${I}`}:{},rtl:x,theme:A,delay:l,isRunning:e,isIn:R,closeToast:h,hide:d,type:u,style:E,className:T,controlledProgress:S,progress:C||0})))},ba=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},ZR=_a(ba("bounce",!0));_a(ba("slide",!0));_a(ba("zoom"));_a(ba("flip"));const eA={position:"top-right",transition:ZR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function tA(t){let e={...eA,...t};const n=t.stacked,[r,o]=y.useState(!0),s=y.useRef(null),{getToastToRender:i,isToastActive:a,count:l}=qR(e),{className:c,style:u,rtl:d,containerId:h}=e;function p(m){const g=de("Toastify__toast-container",`Toastify__toast-container--${m}`,{"Toastify__toast-container--rtl":d});return St(c)?c({position:m,rtl:d,defaultClassName:g}):de(g,Js(c))}function f(){n&&(o(!0),$e.play())}return XR(()=>{if(n){var m;const g=s.current.querySelectorAll('[data-in="true"]'),w=12,b=(m=e.position)==null?void 0:m.includes("top");let T=0,E=0;Array.from(g).reverse().forEach((I,D)=>{const C=I;C.classList.add("Toastify__toast--stacked"),D>0&&(C.dataset.collapsed=`${r}`),C.dataset.pos||(C.dataset.pos=b?"top":"bot");const x=T*(r?.2:1)+(r?0:w*D);C.style.setProperty("--y",`${b?x:-1*x}px`),C.style.setProperty("--g",`${w}`),C.style.setProperty("--s",""+(1-(r?E:0))),T+=C.offsetHeight,E+=.025})}},[r,l,n]),Le.createElement("div",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{n&&(o(!1),$e.pause())},onMouseLeave:f},i((m,g)=>{const w=g.length?{...u}:{...u,pointerEvents:"none"};return Le.createElement("div",{className:p(m),style:w,key:`container-${m}`},g.map(b=>{let{content:T,props:E}=b;return Le.createElement(JR,{...E,stacked:n,collapseAll:f,isIn:a(E.toastId,E.containerId),style:E.style,key:`toast-${E.key}`},T)}))}))}const ts=(t,e)=>{switch(t){case"success":$e.success(e);break;case"warning":$e.warning(e);break;case"info":$e.info(e);break;case"error":$e.error(e);break}},nA=async(t,e,n,r,o,s)=>{try{const i=t[s??0].id;console.log(i),await zg("lessonsWithJill",i)&&await va("lessonsWithJill",e)&&(ts("success",o==="en"?"File deleted successfully":"Файл успішно видалено"),n(),r([]))}catch(i){console.log(i),ts("error",o==="en"?"Something went wrong, please try again later":"Щось пішло не так, спробуйте пізніше")}},rA=Y(ln)`
  position: absolute;
  right: 5px;
  top: 5px;
`,Kg=({isEdit:t,handleClose:e,language:n,handleAddALesson:r,setIsEdit:o,setActualSchedul:s,open:i,setIsChooseALesson:a,isChooseALesson:l})=>{const[c,u]=y.useState(!1);return _.jsx(ky.div,{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:100},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:_.jsx(ar,{elevation:2,sx:{padding:t.length>0?2:0,paddingTop:t.length>0?6:3},children:_.jsx(lv,{onClickAway:()=>{t.length>0&&i||c||e()},children:_.jsxs(ln,{children:[_.jsx(rA,{children:_.jsx(cr,{onClick:e,size:"small",children:_.jsx(Bl,{fontSize:"small"})})}),t.length>0&&_.jsxs(ss,{sx:{width:"100%",maxWidth:400},children:[_.jsx(is,{children:n==="en"?"Choose a lesson":"Виберіть урок"}),_.jsx(us,{onChange:d=>a(d.target.value),onFocus:d=>u(d.type),onBlur:()=>u(!1),label:n==="en"?"Choose a lesson":"Виберіть урок",defaultValue:0,children:t==null?void 0:t.map(({location:d,time:h},p)=>_.jsx(Pn,{value:p,children:_.jsx(Bt,{variant:"subtitle2",children:`${d==="Zwanenhof"?"ZW":"MM"} ${h} `})},p))})]}),_.jsxs(ap,{children:[_.jsxs(Pn,{onClick:()=>{o([]),r()},children:[_.jsx(Ss,{children:n==="en"?"Add a lesson":"Додати урок"}),_.jsx(Ds,{sx:{ml:2},children:_.jsx(ff,{color:"success"})})]}),(t==null?void 0:t.length)>0&&_.jsxs(ln,{children:[_.jsxs(Pn,{onClick:()=>{r()},children:[_.jsx(Ss,{children:n==="en"?"Edit lesson":"Редагувати урок"}),_.jsx(Ds,{sx:{ml:2},children:_.jsx(mf,{color:"secondary"})})]}),_.jsxs(Pn,{onClick:()=>nA(t,s,e,o,n,l),children:[_.jsx(Ss,{children:n==="en"?"Delete a lesson":"Видалити урок"}),_.jsx(Ds,{sx:{ml:2},children:_.jsx(yf,{color:"error"})})]}),_.jsxs(Pn,{onClick:()=>{e(),o([])},children:[_.jsx(Ss,{children:n==="en"?"To the lesson":"До уроку "}),_.jsx(Ds,{sx:{ml:2},children:_.jsx(gf,{color:"info"})})]})]})]})]})})})})};Kg.propTypes={handleAddALesson:k.func,isEdit:k.array,setIsEdit:k.func,open:k.bool,setActualSchedul:k.func,handleClose:k.func,language:k.string,setIsChooseALesson:k.func,isChooseALesson:k.oneOfType([k.number,k.oneOf([null])])};var yu={},oA=os;Object.defineProperty(yu,"__esModule",{value:!0});var Gg=yu.default=void 0,sA=oA(rs()),iA=_;Gg=yu.default=(0,sA.default)((0,iA.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School");const Qg=({setIsModal:t,setIsEdit:e,shouldDisplay:n,props:r})=>{var s,i,a;const o=Xt();return _.jsx(x0,{title:((s=n[0])==null?void 0:s.location)&&_.jsxs("div",{children:[_.jsx(Bt,{variant:"subtitle2",textAlign:"center",children:(i=n[0])==null?void 0:i.location}),_.jsx(Bt,{variant:"subtitle2",textAlign:"center",children:(a=n[0])==null?void 0:a.time})]}),placement:"top-end",children:_.jsx(Y_,{overlap:"circular",badgeContent:n.length>0&&_.jsx(Gg,{fontSize:"small",sx:{color:o.palette.success.main}}),children:_.jsx(Lp,{onClick:()=>{t(!0),e(n)},...r,sx:{border:r.today?`solid 2px ${o.palette.info.main} !important`:n.length>0&&`solid 2px ${o.palette.success.main}`}})})})};Qg.propTypes={props:k.object,today:k.bool,setIsModal:k.func,setIsEdit:k.func,shouldDisplay:k.array};function Xg({actualSchedule:t,handleAddALesson:e,setIsDay:n,isEdit:r,setIsEdit:o,open:s,setActualSchedul:i,setIsChooseALesson:a,isChooseALesson:l}){const[c,u]=y.useState(!1),{language:d}=y.useContext(Nn),h=()=>{n(null),o([]),!(r.length>0&&s)&&u(!1)},p=({day:f})=>{const m=f.$d.toLocaleDateString();return t==null?void 0:t.filter(({date:g})=>m===g)};return _.jsx(ln,{children:_.jsxs(ar,{sx:{p:2},children:[_.jsx(ds,{dateAdapter:oc,localeText:d==="ua"?pf.components.MuiLocalizationProvider.defaultProps.localeText:Tp.components.MuiLocalizationProvider.defaultProps.localeText,adapterLocale:d==="ua"?"uk":"en",children:_.jsx(of,{onChange:f=>n(f),sx:{width:"100%",maxWidth:320},slots:{day:f=>{const m=p(f);return _.jsx(Qg,{setIsModal:u,setIsEdit:o,shouldDisplay:m,props:f})}}},d)}),_.jsx(Vy,{children:c&&_.jsx(Kg,{open:s,isEdit:r,handleClose:h,language:d,handleAddALesson:e,setIsEdit:o,setActualSchedul:i,setIsChooseALesson:a,isChooseALesson:l})})]})})}Xg.propTypes={today:k.bool,actualSchedule:k.array,handleAddALesson:k.func,setIsDay:k.func,isDay:k.object,isEdit:k.array,setIsEdit:k.func,open:k.bool,setActualSchedul:k.func,setIsChooseALesson:k.func,isChooseALesson:k.oneOfType([k.number,k.oneOf([null])])};Jg.propTypes={actualSchedule:k.array.isRequired,setActualSchedul:k.func.isRequired,permission:k.bool.isRequired,selectMonth:k.string.isRequired};function Jg({actualSchedule:t,setActualSchedul:e,permission:n,selectMonth:r}){const{language:o}=y.useContext(Nn),s=t.filter(({date:i})=>i.slice(3).includes(r));return _.jsxs(q0,{component:ar,sx:{boxShadow:"1px 1px 10px 1px rgba(0,0,0,0.05)"},children:[_.jsxs(R0,{children:[_.jsx(J0,{children:_.jsxs(od,{children:[_.jsx(Cn,{align:"center",children:o==="en"?"Location":"Місцезнаходження"}),_.jsx(Cn,{align:"center",children:o==="en"?"Date":"Дата"}),_.jsx(Cn,{align:"center",children:o==="en"?"Time":"Час"}),n&&_.jsx(Cn,{align:"center",children:o==="en"?"Delete":"Видалити"})]})}),_.jsx($0,{children:s.map(({id:i,date:a,time:l,location:c},u)=>_.jsxs(od,{id:i,sx:{"&:last-child td, &:last-child th":{border:0}},children:[_.jsx(Cn,{align:"center",children:c}),_.jsx(Cn,{align:"center",children:a}),_.jsx(Cn,{align:"center",sx:{whiteSpace:"nowrap"},children:l}),n&&_.jsx(Cn,{align:"center",children:_.jsx(cr,{color:"error",onClick:async()=>{try{await zg("lessonsWithJill",i)&&await va("lessonsWithJill",e)&&ts("success",o==="en"?"File deleted successfully":"Файл успішно видалено")}catch(d){console.log(d),ts("error",o==="en"?"Something went wrong, please try again later":"Щось пішло не так, спробуйте пізніше")}},children:_.jsx(Bl,{})})})]},u))})]}),s.length===0&&_.jsx(Bt,{variant:"h6",textAlign:"center",marginBottom:2,mt:2,children:o==="en"?"Lessons this month are not yet scheduled":"Уроки в цьому місяці ще незапланованi "})]})}Zg.propTypes={setErrorDate:k.func,errorDate:k.bool,setValueDate:k.func,isDay:k.object};function Zg({errorDate:t,setErrorDate:e,setValueDate:n,isDay:r}){const[o,s]=y.useState(qe(r??new Date).$d.toLocaleDateString()??""),[i,a]=y.useState(null),{language:l}=y.useContext(Nn),u=/^\d{2}\.\d{2}\.20\d{2}$/.test(o);y.useEffect(()=>{n(o)},[o,n]),y.useEffect(()=>{e(!!(o===""||o==="Invalid Date"||!u||i))},[o,i,e,u]);const d=()=>{if(t){if(!u&&o!=="")return l==="en"?"Year is incorrect":"Рік неправильний";if(o==="")return l==="en"?"Date is required":"Необхідно вказати дату";if(i)return l==="en"?"You cannot enter a past date":"Не можна вводити минулу дату"}};return _.jsx(ln,{sx:{width:"100%"},children:_.jsxs(ds,{dateAdapter:oc,localeText:l==="ua"?pf.components.MuiLocalizationProvider.defaultProps.localeText:Tp.components.MuiLocalizationProvider.defaultProps.localeText,adapterLocale:l==="ua"?"uk":"en",children:[_.jsx(Ax,{sx:{width:"100%"},label:l==="en"?"Select a date":"Виберіть дату",disablePast:!0,defaultValue:qe(r??new Date),format:"DD/MM/YYYY",onChange:h=>s(h.$d.toLocaleDateString()),onError:h=>a(h)}),_.jsx(as,{sx:{height:30},error:!0,children:d()})]})})}const qs=t=>{const e=[],n=[];return t.forEach(r=>{r.dateName==="start"?e.push(r):n.push(r)}),{startDate:e,endDate:n}},aA=t=>t.map((e,n)=>n===t.length-1?v({},e,{separator:null}):e),lA=["value","referenceDate"],cA={emptyValue:[null,null],getTodayValue:(t,e,n)=>[ni(t,e,n),ni(t,e,n)],getInitialReferenceValue:t=>{let{value:e,referenceDate:n}=t,r=se(t,lA);const o=e[0]!=null&&r.utils.isValid(e[0]),s=e[1]!=null&&r.utils.isValid(e[1]);if(o&&s)return e;const i=n??Cp(r);return[o?e[0]:i,s?e[1]:i]},cleanValue:(t,e)=>e.map(n=>xp(t,n)),areValuesEqual:(t,e,n)=>tl(t,e[0],n[0])&&tl(t,e[1],n[1]),isSameError:(t,e)=>e!==null&&t[1]===e[1]&&t[0]===e[0],hasError:t=>t[0]!=null||t[1]!=null,defaultErrorState:[null,null],getTimezone:(t,e)=>{const n=e[0]==null||!t.isValid(e[0])?null:t.getTimezone(e[0]),r=e[1]==null||!t.isValid(e[1])?null:t.getTimezone(e[1]);if(n!=null&&r!=null&&n!==r)throw new Error("MUI X: The timezone of the start and the end date should be the same.");return n??r},setTimezone:(t,e,n)=>[n[0]==null?null:t.setTimezone(n[0],e),n[1]==null?null:t.setTimezone(n[1],e)]},uA=({dateSeparator:t="–"})=>({updateReferenceValue:(e,n,r)=>{const o=n[0]!=null&&e.isValid(n[0]),s=n[1]!=null&&e.isValid(n[1]);return!o&&!s?r:o&&s?n:o?[n[0],r[0]]:[r[1],n[1]]},getSectionsFromValue:(e,[n,r],o,s)=>{const i=o==null?{startDate:null,endDate:null}:qs(o),a=(l,c,u)=>{if(!e.isValid(l)&&!!c)return c;const h=s(l);return h.map((p,f)=>f===h.length-1&&u==="start"?v({},p,{dateName:u,endSeparator:`${p.endSeparator} ${t} `}):v({},p,{dateName:u}))};return[...a(n,i.startDate,"start"),...a(r,i.endDate,"end")]},getV7HiddenInputValueFromSections:e=>{const n=qs(e);return kp([...n.startDate,...n.endDate])},getV6InputValueFromSections:(e,n,r)=>{const o=qs(e);return Vp([...o.startDate,...o.endDate],n,r)},parseValueStr:(e,n,r)=>{const[o,s]=e.split(t);return[o,s].map((i,a)=>i==null?null:r(i.trim(),n[a]))},getActiveDateManager:(e,n,r)=>{const o=r.dateName==="start"?0:1,s=(i,a)=>o===0?[i,a[1]]:[a[0],i];return{date:n.value[o],referenceDate:n.referenceValue[o],getSections:i=>{const a=qs(i);return o===0?aA(a.startDate):a.endDate},getNewValuesFromNewActiveDate:i=>({value:s(i,n.value),referenceValue:i==null||!e.isValid(i)?n.referenceValue:s(i,n.referenceValue)})}}}),dA=(t,e)=>!!(e&&e[0]&&e[1]&&!t.isBefore(e[1],e[0])),hA=({props:t,value:e,adapter:n})=>{const[r,o]=e,s=[yd({adapter:n,value:r,props:t}),yd({adapter:n,value:o,props:t})];return s[0]||s[1]?s:r===null||o===null?[null,null]:dA(n.utils,e)?[null,null]:["invalidRange","invalidRange"]},pA=t=>{const e=AT(t),{forwardedProps:n,internalProps:r}=Up(e,"time"),o=y.useMemo(()=>uA({dateSeparator:r.dateSeparator}),[r.dateSeparator]);return Fp({forwardedProps:n,internalProps:r,valueManager:cA,fieldValueManager:o,validator:hA,valueType:"time"})},fA=["slots","slotProps","InputProps","inputProps"],ey=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiSingleInputTimeRangeField"}),{slots:o,slotProps:s,InputProps:i,inputProps:a}=r,l=se(r,fA),c=r,u=(o==null?void 0:o.textField)??(e.enableAccessibleFieldDOMStructure?Xp:hp),d=De({elementType:u,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,ownerState:c,additionalProps:{ref:n}});d.inputProps=v({},a,d.inputProps),d.InputProps=v({},i,d.InputProps);const h=pA(d),p=Jp(h),f=zp(v({},p,{slots:o,slotProps:s}));return _.jsx(u,v({},f))});ey.fieldType="single-input";ty.propTypes={setValueTime:k.func,isEdit:k.array,isChooseALesson:k.oneOfType([k.number,k.oneOf([null])]),setErrorTime:k.func};const yr=qe(new Date);function ty({setValueTime:t,isEdit:e,setErrorTime:n,isChooseALesson:r}){var l,c,u,d;const[o,s]=y.useState([]),{language:i}=y.useContext(Nn),a=e.length>0?qe(e.date):null;return y.useEffect(()=>{t(e.length>0)},[]),y.useEffect(()=>{o[1]||o[0]?n(!0):n(!1)},[n,o]),_.jsx(ln,{sx:{width:"100%"},children:_.jsxs(ds,{dateAdapter:oc,children:[_.jsx(ey,{fullWidth:!0,label:i==="en"?"Enter the time":"Введіть час",defaultValue:[qe(`${e.length>0?a.$y:yr.$y}-${e.length>0?a.$M+1:yr.$M+1}-${e.length>0?a.$D:yr.$D}T${e.length>0?(c=(l=e[r??0])==null?void 0:l.time)==null?void 0:c.slice(0,5):"17:00"}`),qe(`${e.length>0?a.$y:yr.$y}-${e.length>0?a.$M+1:yr.$M+1}-${e.length>0?a.$D:yr.$D}T${e.length>0?(d=(u=e[r??0])==null?void 0:u.time)==null?void 0:d.slice(7):"18:30"}`)],onChange:h=>{t(`${h[0].$H.toString().padStart(2,"0")}:${h[0].$m.toString().padStart(2,"0")} - ${h[1].$H.toString().padStart(2,"0")}:${h[1].$m.toString().padStart(2,"0")}`)},onError:h=>s(h),format:"HH:mm"}),_.jsxs(as,{sx:{height:30,ml:0},error:!0,children:[o[0]," ",o[1]]})]})})}ny.propTypes={register:k.func,errors:k.object};function ny({register:t,errors:e}){var r;const{language:n}=y.useContext(Nn);return _.jsx(_.Fragment,{children:_.jsxs(ss,{sx:{width:"100%",maxWidth:400},children:[_.jsx(is,{children:n==="en"?"Choose a place":"Виберіть місце"}),_.jsxs(us,{label:n==="en"?"Choose a place":"Виберіть місце",...t("location"),defaultValue:"Zwanenhof",children:[_.jsx(Pn,{value:"Zwanenhof",children:"Zwanenhof"}),_.jsx(Pn,{value:"Maria Mediatrix	",children:"Maria Mediatrix "})]}),_.jsx(as,{sx:{height:30,ml:0},error:!0,children:(r=e.place)==null?void 0:r.message})]})})}const mA=t=>Fy({location:By().required(t==="en"?"Place is required":"Необхідно вибрати місце")}),gA=Y(ln)`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: 400px;
  background-color: ${({theme:t})=>t.palette.background.paper};
  box-shadow: ${({theme:t})=>t.shadows[11]};
  padding: 50px;
  border-radius: 5px;
`,yA=Y(ln)`
  position: absolute;
  right: 5px;
  top: 5px;
`,ry=()=>{const{modeTheme:t}=y.useContext(Nn),e=jl("(max-width:480px)");return _.jsx("div",{children:_.jsx(tA,{style:e&&{width:"90%",marginTop:20,marginLeft:20},position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:t})})};ry.propTypes={text:k.string,status:k.string,notify:k.func};const vA=["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],_A=["January","February","March","April","May","June","July","August","September","October","November","December"],bA=t=>t==="en"?_A:vA;oy.propTypes={setSelectMonth:k.func,selectMonth:k.string};function oy({selectMonth:t,setSelectMonth:e}){const{language:n}=y.useContext(Nn);return _.jsx(ln,{sx:{maxWidth:400,width:"100%"},children:_.jsxs(ss,{fullWidth:!0,children:[_.jsx(is,{children:n==="en"?"Select a month":"Виберіть місяць"}),_.jsx(us,{value:t,label:n==="en"?"Select a month":"Виберіть місяць",onChange:r=>e(r.target.value),children:bA(n).map((r,o)=>_.jsx(Pn,{value:`${o+1}.${new Date().getFullYear()}`,children:r},r))})]})})}const RA=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(null),[o,s]=y.useState(null);console.log(t),console.log(o);const[i,a]=y.useState(`${new Date().getMonth()+1}.${new Date().getFullYear()}`),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[h,p]=y.useState(!1),[f,m]=y.useState(!1),[g,w]=y.useState([]),[b,T]=y.useState(""),[E,I]=y.useState(""),[D,C]=y.useState(!1),{language:x}=y.useContext(Nn);y.useEffect(()=>{va("lessonsWithJill",w)},[]),y.useEffect(()=>{(()=>{l||(sessionStorage.getItem("addLesson")?c(!0):c(!1))})()},[h,l]);const O=()=>{if(l)return C(!0);sessionStorage.getItem("addLesson")?c(!0):m(!0)},{register:$,handleSubmit:R,formState:{errors:N}}=jy({resolver:Uy(mA(x)),mode:"onBlur"}),V=async A=>{if(u||h)return;if(t.length>0){e([]);return}o&&o(null),console.log({...A,date:b,time:E}),w(M=>[...M,{...A,date:b,time:E}]),await zR("lessonsWithJill",{...A,date:b,time:E},w)&&(ts("success",x==="en"?"Lesson added successfully":"Урок додано успішно"),C(!1))};return _.jsxs(_.Fragment,{children:[_.jsx(ry,{}),_.jsxs(ln,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:5,mb:5,gap:2},children:[_.jsx(Bt,{variant:"h5",children:x==="en"?"Schedule of lessons":"Розклад уроків"}),_.jsx(Xg,{actualSchedule:g,handleAddALesson:O,setIsDay:r,setIsEdit:e,isEdit:t,open:D,setActualSchedul:w,setIsChooseALesson:s,isChooseALesson:o}),_.jsx(oy,{selectMonth:i,setSelectMonth:a}),_.jsx(Jg,{selectMonth:i,actualSchedule:g,setActualSchedul:w,permission:l}),_.jsx(Oy,{passwordKey:"5555",sessionKey:"addLesson",closeClickInside:!0,openModal:f,setOpenModal:m,buttonClose:!0}),_.jsx(Nl,{open:D,onClose:()=>{C(!1),e([])},children:_.jsxs(gA,{children:[_.jsx(yA,{children:_.jsx(cr,{onClick:()=>{C(!1),e([])},children:_.jsx(Bl,{})})}),_.jsxs("form",{style:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:400},onSubmit:R(V),children:[_.jsx(ny,{errors:N,register:$}),t.length===0&&_.jsx(Zg,{errorDate:u,setErrorDate:d,setValueDate:T,isDay:n}),_.jsx(ty,{isEdit:t,setValueTime:I,errorTime:h,setErrorTime:p,isChooseALesson:o}),_.jsx(vo,{type:"submit",variant:"contained",fullWidth:!0,size:"large",children:x==="en"?"Submit":"Надіслати"})]})]})})]})]})};export{RA as default};
