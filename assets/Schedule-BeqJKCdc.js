import{l as sa,n as Nm,P as N,r as v,o as ge,_ as Lm,p as $m,q as oe,R as bc,t as bd,v as y,w as Bm,x as Bt,j as w,y as jm,z as Ye,A as Mt,C as xe,D as Te,E as Um,s as K,F as Gt,G as Ee,H as Ie,J as ue,K as Ze,O as ms,Q as ye,S as zm,h as qa,U as Ro,e as Qt,V as vn,W as Mo,X as Cr,Y as Ya,Z as Wm,$ as Hm,a0 as wc,T as _n,a1 as qm,a2 as wd,a3 as Tc,a4 as Ym,a5 as Km,a6 as Gm,a7 as Ec,a8 as Ic,a9 as Cc,aa as Pc,ab as Qm,ac as en,ad as Xm,ae as Zm,af as jn,ag as Pr,I as Os,ah as le,ai as Jm,aj as Td,ak as Ed,al as eg,am as tg,an as Id,d as ng,i as rg,a as xr,B as Fs}from"./index-DwZ7KfNv.js";import{u as Cd}from"./useMediaQuery-Dv2Kol78.js";import{i as Pd,b as xd,r as Sd,c as Dd,d as Ad,e as Rd,u as Sr,f as og,g as sg,O as Md,h as ig,F as Ka,I as Ga,a as ko}from"./OutlinedInput-DfXy3izP.js";import{B as tr}from"./Button-DbmCcSll.js";import{c as ag,a as xc,u as lg,o as cg}from"./index.esm-BP1lVGlS.js";function ug(t,e=0,n=1){return Nm(t,e,n)}function dg(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function kd(t){if(t.type)return t;if(t.charAt(0)==="#")return kd(dg(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(sa(9,t));let r=t.substring(e+1,t.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(sa(10,o))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:o}}function hg(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((o,s)=>s<3?parseInt(o,10):o):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function dr(t,e){return t=kd(t),e=ug(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,hg(t)}const Vd=N.oneOfType([N.func,N.object]),Od=t=>{const e=v.useRef({});return v.useEffect(()=>{e.current=t}),e.current},fg={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};var Oe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qa=Symbol.for("react.element"),Xa=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),Ls=Symbol.for("react.strict_mode"),$s=Symbol.for("react.profiler"),Bs=Symbol.for("react.provider"),js=Symbol.for("react.context"),pg=Symbol.for("react.server_context"),Us=Symbol.for("react.forward_ref"),zs=Symbol.for("react.suspense"),Ws=Symbol.for("react.suspense_list"),Hs=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),mg=Symbol.for("react.offscreen"),Fd;Fd=Symbol.for("react.module.reference");function At(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Qa:switch(t=t.type,t){case Ns:case $s:case Ls:case zs:case Ws:return t;default:switch(t=t&&t.$$typeof,t){case pg:case js:case Us:case qs:case Hs:case Bs:return t;default:return e}}case Xa:return e}}}Oe.ContextConsumer=js;Oe.ContextProvider=Bs;Oe.Element=Qa;Oe.ForwardRef=Us;Oe.Fragment=Ns;Oe.Lazy=qs;Oe.Memo=Hs;Oe.Portal=Xa;Oe.Profiler=$s;Oe.StrictMode=Ls;Oe.Suspense=zs;Oe.SuspenseList=Ws;Oe.isAsyncMode=function(){return!1};Oe.isConcurrentMode=function(){return!1};Oe.isContextConsumer=function(t){return At(t)===js};Oe.isContextProvider=function(t){return At(t)===Bs};Oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qa};Oe.isForwardRef=function(t){return At(t)===Us};Oe.isFragment=function(t){return At(t)===Ns};Oe.isLazy=function(t){return At(t)===qs};Oe.isMemo=function(t){return At(t)===Hs};Oe.isPortal=function(t){return At(t)===Xa};Oe.isProfiler=function(t){return At(t)===$s};Oe.isStrictMode=function(t){return At(t)===Ls};Oe.isSuspense=function(t){return At(t)===zs};Oe.isSuspenseList=function(t){return At(t)===Ws};Oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ns||t===$s||t===Ls||t===zs||t===Ws||t===mg||typeof t=="object"&&t!==null&&(t.$$typeof===qs||t.$$typeof===Hs||t.$$typeof===Bs||t.$$typeof===js||t.$$typeof===Us||t.$$typeof===Fd||t.getModuleId!==void 0)};Oe.typeOf=At;function gg(t){return ge}function yg(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function vg(t,e){t.classList?t.classList.add(e):yg(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Sc(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function _g(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Sc(t.className,e):t.setAttribute("class",Sc(t.className&&t.className.baseVal||"",e))}var bg=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return vg(e,r)})},Vi=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return _g(e,r)})},Za=function(t){Lm(e,t);function e(){for(var r,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return r=t.call.apply(t,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],h=d?"appear":"enter";r.addClass(u,h,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],h=d?"appear":"enter";r.removeClasses(u,h),r.addClass(u,h,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+a:l[a],h=c?d+"-active":l[a+"Active"],f=c?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:h,doneClassName:f}},r}var n=e.prototype;return n.addClass=function(o,s,i){var a=this.getClassNames(s)[i+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;s==="appear"&&i==="done"&&c&&(a+=" "+c),i==="active"&&o&&$m(o),a&&(this.appliedClasses[s][i]=a,bg(o,a))},n.removeClasses=function(o,s){var i=this.appliedClasses[s],a=i.base,l=i.active,c=i.done;this.appliedClasses[s]={},a&&Vi(o,a),l&&Vi(o,l),c&&Vi(o,c)},n.render=function(){var o=this.props;o.classNames;var s=oe(o,["classNames"]);return bc.createElement(bd,y({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(bc.Component);Za.defaultProps={classNames:""};Za.propTypes={};const wg={disableDefaultClasses:!1},Tg=v.createContext(wg);function Eg(t){const{disableDefaultClasses:e}=v.useContext(Tg);return n=>e?"":t(n)}function Ig(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:o=!1}=t,s=Od({badgeContent:e,max:r});let i=n;n===!1&&e===0&&!o&&(i=!0);const{badgeContent:a,max:l=r}=i?s:t,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:i,max:l,displayValue:c}}const Nd="base";function Cg(t){return`${Nd}--${t}`}function Pg(t,e){return`${Nd}-${t}-${e}`}function Ld(t,e){const n=Bm[e];return n?Cg(n):Pg(t,e)}function xg(t,e){const n={};return e.forEach(r=>{n[r]=Ld(t,r)}),n}var yt="top",xt="bottom",St="right",vt="left",Ja="auto",Vo=[yt,xt,St,vt],hr="start",ho="end",Sg="clippingParents",$d="viewport",Lr="popper",Dg="reference",Dc=Vo.reduce(function(t,e){return t.concat([e+"-"+hr,e+"-"+ho])},[]),Bd=[].concat(Vo,[Ja]).reduce(function(t,e){return t.concat([e,e+"-"+hr,e+"-"+ho])},[]),Ag="beforeRead",Rg="read",Mg="afterRead",kg="beforeMain",Vg="main",Og="afterMain",Fg="beforeWrite",Ng="write",Lg="afterWrite",$g=[Ag,Rg,Mg,kg,Vg,Og,Fg,Ng,Lg];function Ht(t){return t?(t.nodeName||"").toLowerCase():null}function bt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function On(t){var e=bt(t).Element;return t instanceof e||t instanceof Element}function Ct(t){var e=bt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function el(t){if(typeof ShadowRoot>"u")return!1;var e=bt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Bg(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},s=e.elements[n];!Ct(s)||!Ht(s)||(Object.assign(s.style,r),Object.keys(o).forEach(function(i){var a=o[i];a===!1?s.removeAttribute(i):s.setAttribute(i,a===!0?"":a)}))})}function jg(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],s=e.attributes[r]||{},i=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=i.reduce(function(l,c){return l[c]="",l},{});!Ct(o)||!Ht(o)||(Object.assign(o.style,a),Object.keys(s).forEach(function(l){o.removeAttribute(l)}))})}}const Ug={name:"applyStyles",enabled:!0,phase:"write",fn:Bg,effect:jg,requires:["computeStyles"]};function jt(t){return t.split("-")[0]}var kn=Math.max,gs=Math.min,fr=Math.round;function ia(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function jd(){return!/^((?!chrome|android).)*safari/i.test(ia())}function pr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),o=1,s=1;e&&Ct(t)&&(o=t.offsetWidth>0&&fr(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&fr(r.height)/t.offsetHeight||1);var i=On(t)?bt(t):window,a=i.visualViewport,l=!jd()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/o,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/o,h=r.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function tl(t){var e=pr(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Ud(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&el(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function tn(t){return bt(t).getComputedStyle(t)}function zg(t){return["table","td","th"].indexOf(Ht(t))>=0}function bn(t){return((On(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ys(t){return Ht(t)==="html"?t:t.assignedSlot||t.parentNode||(el(t)?t.host:null)||bn(t)}function Ac(t){return!Ct(t)||tn(t).position==="fixed"?null:t.offsetParent}function Wg(t){var e=/firefox/i.test(ia()),n=/Trident/i.test(ia());if(n&&Ct(t)){var r=tn(t);if(r.position==="fixed")return null}var o=Ys(t);for(el(o)&&(o=o.host);Ct(o)&&["html","body"].indexOf(Ht(o))<0;){var s=tn(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function Oo(t){for(var e=bt(t),n=Ac(t);n&&zg(n)&&tn(n).position==="static";)n=Ac(n);return n&&(Ht(n)==="html"||Ht(n)==="body"&&tn(n).position==="static")?e:n||Wg(t)||e}function nl(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function no(t,e,n){return kn(t,gs(e,n))}function Hg(t,e,n){var r=no(t,e,n);return r>n?n:r}function zd(){return{top:0,right:0,bottom:0,left:0}}function Wd(t){return Object.assign({},zd(),t)}function Hd(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var qg=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Wd(typeof e!="number"?e:Hd(e,Vo))};function Yg(t){var e,n=t.state,r=t.name,o=t.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,a=jt(n.placement),l=nl(a),c=[vt,St].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!i)){var d=qg(o.padding,n),h=tl(s),f=l==="y"?yt:vt,m=l==="y"?xt:St,g=n.rects.reference[u]+n.rects.reference[l]-i[l]-n.rects.popper[u],p=i[l]-n.rects.reference[l],b=Oo(s),_=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,E=g/2-p/2,T=d[f],I=_-h[u]-d[m],D=_/2-h[u]/2+E,x=no(T,D,I),M=l;n.modifiersData[r]=(e={},e[M]=x,e.centerOffset=x-D,e)}}function Kg(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||Ud(e.elements.popper,o)&&(e.elements.arrow=o))}const Gg={name:"arrow",enabled:!0,phase:"main",fn:Yg,effect:Kg,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mr(t){return t.split("-")[1]}var Qg={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xg(t,e){var n=t.x,r=t.y,o=e.devicePixelRatio||1;return{x:fr(n*o)/o||0,y:fr(r*o)/o||0}}function Rc(t){var e,n=t.popper,r=t.popperRect,o=t.placement,s=t.variation,i=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=i.x,f=h===void 0?0:h,m=i.y,g=m===void 0?0:m,p=typeof u=="function"?u({x:f,y:g}):{x:f,y:g};f=p.x,g=p.y;var b=i.hasOwnProperty("x"),_=i.hasOwnProperty("y"),E=vt,T=yt,I=window;if(c){var D=Oo(n),x="clientHeight",M="clientWidth";if(D===bt(n)&&(D=bn(n),tn(D).position!=="static"&&a==="absolute"&&(x="scrollHeight",M="scrollWidth")),D=D,o===yt||(o===vt||o===St)&&s===ho){T=xt;var j=d&&D===I&&I.visualViewport?I.visualViewport.height:D[x];g-=j-r.height,g*=l?1:-1}if(o===vt||(o===yt||o===xt)&&s===ho){E=St;var $=d&&D===I&&I.visualViewport?I.visualViewport.width:D[M];f-=$-r.width,f*=l?1:-1}}var S=Object.assign({position:a},c&&Qg),F=u===!0?Xg({x:f,y:g},bt(n)):{x:f,y:g};if(f=F.x,g=F.y,l){var k;return Object.assign({},S,(k={},k[T]=_?"0":"",k[E]=b?"0":"",k.transform=(I.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",k))}return Object.assign({},S,(e={},e[T]=_?g+"px":"",e[E]=b?f+"px":"",e.transform="",e))}function Zg(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,s=n.adaptive,i=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:jt(e.placement),variation:mr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Rc(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Rc(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Jg={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Zg,data:{}};var Zo={passive:!0};function ey(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,s=o===void 0?!0:o,i=r.resize,a=i===void 0?!0:i,l=bt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,Zo)}),a&&l.addEventListener("resize",n.update,Zo),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Zo)}),a&&l.removeEventListener("resize",n.update,Zo)}}const ty={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ey,data:{}};var ny={left:"right",right:"left",bottom:"top",top:"bottom"};function us(t){return t.replace(/left|right|bottom|top/g,function(e){return ny[e]})}var ry={start:"end",end:"start"};function Mc(t){return t.replace(/start|end/g,function(e){return ry[e]})}function rl(t){var e=bt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ol(t){return pr(bn(t)).left+rl(t).scrollLeft}function oy(t,e){var n=bt(t),r=bn(t),o=n.visualViewport,s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;var c=jd();(c||!c&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a+ol(t),y:l}}function sy(t){var e,n=bn(t),r=rl(t),o=(e=t.ownerDocument)==null?void 0:e.body,s=kn(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=kn(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+ol(t),l=-r.scrollTop;return tn(o||n).direction==="rtl"&&(a+=kn(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:i,x:a,y:l}}function sl(t){var e=tn(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function qd(t){return["html","body","#document"].indexOf(Ht(t))>=0?t.ownerDocument.body:Ct(t)&&sl(t)?t:qd(Ys(t))}function ro(t,e){var n;e===void 0&&(e=[]);var r=qd(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),s=bt(r),i=o?[s].concat(s.visualViewport||[],sl(r)?r:[]):r,a=e.concat(i);return o?a:a.concat(ro(Ys(i)))}function aa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function iy(t,e){var n=pr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function kc(t,e,n){return e===$d?aa(oy(t,n)):On(e)?iy(e,n):aa(sy(bn(t)))}function ay(t){var e=ro(Ys(t)),n=["absolute","fixed"].indexOf(tn(t).position)>=0,r=n&&Ct(t)?Oo(t):t;return On(r)?e.filter(function(o){return On(o)&&Ud(o,r)&&Ht(o)!=="body"}):[]}function ly(t,e,n,r){var o=e==="clippingParents"?ay(t):[].concat(e),s=[].concat(o,[n]),i=s[0],a=s.reduce(function(l,c){var u=kc(t,c,r);return l.top=kn(u.top,l.top),l.right=gs(u.right,l.right),l.bottom=gs(u.bottom,l.bottom),l.left=kn(u.left,l.left),l},kc(t,i,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Yd(t){var e=t.reference,n=t.element,r=t.placement,o=r?jt(r):null,s=r?mr(r):null,i=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(o){case yt:l={x:i,y:e.y-n.height};break;case xt:l={x:i,y:e.y+e.height};break;case St:l={x:e.x+e.width,y:a};break;case vt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=o?nl(o):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case hr:l[c]=l[c]-(e[u]/2-n[u]/2);break;case ho:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function fo(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,s=n.strategy,i=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Sg:a,c=n.rootBoundary,u=c===void 0?$d:c,d=n.elementContext,h=d===void 0?Lr:d,f=n.altBoundary,m=f===void 0?!1:f,g=n.padding,p=g===void 0?0:g,b=Wd(typeof p!="number"?p:Hd(p,Vo)),_=h===Lr?Dg:Lr,E=t.rects.popper,T=t.elements[m?_:h],I=ly(On(T)?T:T.contextElement||bn(t.elements.popper),l,u,i),D=pr(t.elements.reference),x=Yd({reference:D,element:E,strategy:"absolute",placement:o}),M=aa(Object.assign({},E,x)),j=h===Lr?M:D,$={top:I.top-j.top+b.top,bottom:j.bottom-I.bottom+b.bottom,left:I.left-j.left+b.left,right:j.right-I.right+b.right},S=t.modifiersData.offset;if(h===Lr&&S){var F=S[o];Object.keys($).forEach(function(k){var R=[St,xt].indexOf(k)>=0?1:-1,C=[yt,xt].indexOf(k)>=0?"y":"x";$[k]+=F[C]*R})}return $}function cy(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,s=n.rootBoundary,i=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Bd:l,u=mr(r),d=u?a?Dc:Dc.filter(function(m){return mr(m)===u}):Vo,h=d.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=d);var f=h.reduce(function(m,g){return m[g]=fo(t,{placement:g,boundary:o,rootBoundary:s,padding:i})[jt(g)],m},{});return Object.keys(f).sort(function(m,g){return f[m]-f[g]})}function uy(t){if(jt(t)===Ja)return[];var e=us(t);return[Mc(t),e,Mc(e)]}function dy(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,i=n.altAxis,a=i===void 0?!0:i,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,m=f===void 0?!0:f,g=n.allowedAutoPlacements,p=e.options.placement,b=jt(p),_=b===p,E=l||(_||!m?[us(p)]:uy(p)),T=[p].concat(E).reduce(function(se,ie){return se.concat(jt(ie)===Ja?cy(e,{placement:ie,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:g}):ie)},[]),I=e.rects.reference,D=e.rects.popper,x=new Map,M=!0,j=T[0],$=0;$<T.length;$++){var S=T[$],F=jt(S),k=mr(S)===hr,R=[yt,xt].indexOf(F)>=0,C=R?"width":"height",A=fo(e,{placement:S,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),L=R?k?St:vt:k?xt:yt;I[C]>D[C]&&(L=us(L));var P=us(L),O=[];if(s&&O.push(A[F]<=0),a&&O.push(A[L]<=0,A[P]<=0),O.every(function(se){return se})){j=S,M=!1;break}x.set(S,O)}if(M)for(var z=m?3:1,J=function(ie){var B=T.find(function(U){var X=x.get(U);if(X)return X.slice(0,ie).every(function(te){return te})});if(B)return j=B,"break"},W=z;W>0;W--){var G=J(W);if(G==="break")break}e.placement!==j&&(e.modifiersData[r]._skip=!0,e.placement=j,e.reset=!0)}}const hy={name:"flip",enabled:!0,phase:"main",fn:dy,requiresIfExists:["offset"],data:{_skip:!1}};function Vc(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Oc(t){return[yt,St,xt,vt].some(function(e){return t[e]>=0})}function fy(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,i=fo(e,{elementContext:"reference"}),a=fo(e,{altBoundary:!0}),l=Vc(i,r),c=Vc(a,o,s),u=Oc(l),d=Oc(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const py={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:fy};function my(t,e,n){var r=jt(t),o=[vt,yt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,i=s[0],a=s[1];return i=i||0,a=(a||0)*o,[vt,St].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}function gy(t){var e=t.state,n=t.options,r=t.name,o=n.offset,s=o===void 0?[0,0]:o,i=Bd.reduce(function(u,d){return u[d]=my(d,e.rects,s),u},{}),a=i[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=i}const yy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gy};function vy(t){var e=t.state,n=t.name;e.modifiersData[n]=Yd({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const _y={name:"popperOffsets",enabled:!0,phase:"read",fn:vy,data:{}};function by(t){return t==="x"?"y":"x"}function wy(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,s=o===void 0?!0:o,i=n.altAxis,a=i===void 0?!1:i,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,m=n.tetherOffset,g=m===void 0?0:m,p=fo(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),b=jt(e.placement),_=mr(e.placement),E=!_,T=nl(b),I=by(T),D=e.modifiersData.popperOffsets,x=e.rects.reference,M=e.rects.popper,j=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,$=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),S=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(D){if(s){var k,R=T==="y"?yt:vt,C=T==="y"?xt:St,A=T==="y"?"height":"width",L=D[T],P=L+p[R],O=L-p[C],z=f?-M[A]/2:0,J=_===hr?x[A]:M[A],W=_===hr?-M[A]:-x[A],G=e.elements.arrow,se=f&&G?tl(G):{width:0,height:0},ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zd(),B=ie[R],U=ie[C],X=no(0,x[A],se[A]),te=E?x[A]/2-z-X-B-$.mainAxis:J-X-B-$.mainAxis,H=E?-x[A]/2+z+X+U+$.mainAxis:W+X+U+$.mainAxis,ne=e.elements.arrow&&Oo(e.elements.arrow),Q=ne?T==="y"?ne.clientTop||0:ne.clientLeft||0:0,V=(k=S==null?void 0:S[T])!=null?k:0,Z=L+te-V-Q,re=L+H-V,be=no(f?gs(P,Z):P,L,f?kn(O,re):O);D[T]=be,F[T]=be-L}if(a){var Ne,ce=T==="x"?yt:vt,he=T==="x"?xt:St,Ae=D[I],Me=I==="y"?"height":"width",at=Ae+p[ce],mt=Ae-p[he],ze=[yt,vt].indexOf(b)!==-1,In=(Ne=S==null?void 0:S[I])!=null?Ne:0,Xt=ze?at:Ae-x[Me]-M[Me]-In+$.altAxis,Zt=ze?Ae+x[Me]+M[Me]-In-$.altAxis:mt,Cn=f&&ze?Hg(Xt,Ae,Zt):no(f?Xt:at,Ae,f?Zt:mt);D[I]=Cn,F[I]=Cn-Ae}e.modifiersData[r]=F}}const Ty={name:"preventOverflow",enabled:!0,phase:"main",fn:wy,requiresIfExists:["offset"]};function Ey(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Iy(t){return t===bt(t)||!Ct(t)?rl(t):Ey(t)}function Cy(t){var e=t.getBoundingClientRect(),n=fr(e.width)/t.offsetWidth||1,r=fr(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Py(t,e,n){n===void 0&&(n=!1);var r=Ct(e),o=Ct(e)&&Cy(e),s=bn(e),i=pr(t,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ht(e)!=="body"||sl(s))&&(a=Iy(e)),Ct(e)?(l=pr(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=ol(s))),{x:i.left+a.scrollLeft-l.x,y:i.top+a.scrollTop-l.y,width:i.width,height:i.height}}function xy(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function o(s){n.add(s.name);var i=[].concat(s.requires||[],s.requiresIfExists||[]);i.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&o(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||o(s)}),r}function Sy(t){var e=xy(t);return $g.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function Dy(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Ay(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Fc={placement:"bottom",modifiers:[],strategy:"absolute"};function Nc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ry(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,s=o===void 0?Fc:o;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fc,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(b){var _=typeof b=="function"?b(u.options):b;g(),u.options=Object.assign({},s,u.options,_),u.scrollParents={reference:On(a)?ro(a):a.contextElement?ro(a.contextElement):[],popper:ro(l)};var E=Sy(Ay([].concat(r,u.options.modifiers)));return u.orderedModifiers=E.filter(function(T){return T.enabled}),m(),f.update()},forceUpdate:function(){if(!h){var b=u.elements,_=b.reference,E=b.popper;if(Nc(_,E)){u.rects={reference:Py(_,Oo(E),u.options.strategy==="fixed"),popper:tl(E)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function($){return u.modifiersData[$.name]=Object.assign({},$.data)});for(var T=0;T<u.orderedModifiers.length;T++){if(u.reset===!0){u.reset=!1,T=-1;continue}var I=u.orderedModifiers[T],D=I.fn,x=I.options,M=x===void 0?{}:x,j=I.name;typeof D=="function"&&(u=D({state:u,options:M,name:j,instance:f})||u)}}}},update:Dy(function(){return new Promise(function(p){f.forceUpdate(),p(u)})}),destroy:function(){g(),h=!0}};if(!Nc(a,l))return f;f.setOptions(c).then(function(p){!h&&c.onFirstUpdate&&c.onFirstUpdate(p)});function m(){u.orderedModifiers.forEach(function(p){var b=p.name,_=p.options,E=_===void 0?{}:_,T=p.effect;if(typeof T=="function"){var I=T({state:u,name:b,instance:f,options:E}),D=function(){};d.push(I||D)}})}function g(){d.forEach(function(p){return p()}),d=[]}return f}}var My=[ty,_y,Jg,Ug,yy,hy,Ty,Gg,py],ky=Ry({defaultModifiers:My});const Kd="Popper";function Vy(t){return Ld(Kd,t)}xg(Kd,["root"]);const Oy=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Fy=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Ny(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function la(t){return typeof t=="function"?t():t}function Ly(t){return t.nodeType!==void 0}const $y=()=>Te({root:["root"]},Eg(Vy)),By={},jy=v.forwardRef(function(e,n){var r;const{anchorEl:o,children:s,direction:i,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:f={},slots:m={},TransitionProps:g}=e,p=oe(e,Oy),b=v.useRef(null),_=Ye(b,n),E=v.useRef(null),T=Ye(E,h),I=v.useRef(T);Mt(()=>{I.current=T},[T]),v.useImperativeHandle(h,()=>E.current,[]);const D=Ny(u,i),[x,M]=v.useState(D),[j,$]=v.useState(la(o));v.useEffect(()=>{E.current&&E.current.forceUpdate()}),v.useEffect(()=>{o&&$(la(o))},[o]),Mt(()=>{if(!j||!c)return;const C=P=>{M(P.placement)};let A=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:P})=>{C(P)}}];l!=null&&(A=A.concat(l)),d&&d.modifiers!=null&&(A=A.concat(d.modifiers));const L=ky(j,b.current,y({placement:D},d,{modifiers:A}));return I.current(L),()=>{L.destroy(),I.current(null)}},[j,a,l,c,d,D]);const S={placement:x};g!==null&&(S.TransitionProps=g);const F=$y(),k=(r=m.root)!=null?r:"div",R=xe({elementType:k,externalSlotProps:f.root,externalForwardedProps:p,additionalProps:{role:"tooltip",ref:_},ownerState:e,className:F.root});return w.jsx(k,y({},R,{children:typeof s=="function"?s(S):s}))}),Uy=v.forwardRef(function(e,n){const{anchorEl:r,children:o,container:s,direction:i="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=By,popperRef:f,style:m,transition:g=!1,slotProps:p={},slots:b={}}=e,_=oe(e,Fy),[E,T]=v.useState(!0),I=()=>{T(!1)},D=()=>{T(!0)};if(!l&&!u&&(!g||E))return null;let x;if(s)x=s;else if(r){const $=la(r);x=$&&Ly($)?Bt($).body:Bt(null).body}const M=!u&&l&&(!g||E)?"none":void 0,j=g?{in:u,onEnter:I,onExited:D}:void 0;return w.jsx(jm,{disablePortal:a,container:x,children:w.jsx(jy,y({anchorEl:r,direction:i,disablePortal:a,modifiers:c,ref:n,open:g?!E:u,placement:d,popperOptions:h,popperRef:f,slotProps:p,slots:b},_,{style:y({position:"fixed",top:0,left:0,display:M},m),TransitionProps:j,children:o}))})});var il={};Object.defineProperty(il,"__esModule",{value:!0});var Gd=il.default=void 0,zy=Hy(v),Wy=Um;function Qd(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Qd=function(r){return r?n:e})(t)}function Hy(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Qd(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var i=o?Object.getOwnPropertyDescriptor(t,s):null;i&&(i.get||i.set)?Object.defineProperty(r,s,i):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function qy(t){return Object.keys(t).length===0}function Yy(t=null){const e=zy.useContext(Wy.ThemeContext);return!e||qy(e)?t:e}Gd=il.default=Yy;const Ky=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Gy=K(Uy,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Qy=v.forwardRef(function(e,n){var r;const o=Gd(),s=ge({props:e,name:"MuiPopper"}),{anchorEl:i,component:a,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:h,modifiers:f,open:m,placement:g,popperOptions:p,popperRef:b,transition:_,slots:E,slotProps:T}=s,I=oe(s,Ky),D=(r=E==null?void 0:E.root)!=null?r:l==null?void 0:l.Root,x=y({anchorEl:i,container:u,disablePortal:d,keepMounted:h,modifiers:f,open:m,placement:g,popperOptions:p,popperRef:b,transition:_},I);return w.jsx(Gy,y({as:a,direction:o==null?void 0:o.direction,slots:{root:D},slotProps:T??c},x,{ref:n}))}),Xy=Gt(w.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Zy(t){return Ie("MuiChip",t)}const De=Ee("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Jy=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],ev=t=>{const{classes:e,disabled:n,size:r,color:o,iconColor:s,onDelete:i,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${ue(r)}`,`color${ue(o)}`,a&&"clickable",a&&`clickableColor${ue(o)}`,i&&"deletable",i&&`deletableColor${ue(o)}`,`${l}${ue(o)}`],label:["label",`label${ue(r)}`],avatar:["avatar",`avatar${ue(r)}`,`avatarColor${ue(o)}`],icon:["icon",`icon${ue(r)}`,`iconColor${ue(s)}`],deleteIcon:["deleteIcon",`deleteIcon${ue(r)}`,`deleteIconColor${ue(o)}`,`deleteIcon${ue(l)}Color${ue(o)}`]};return Te(c,Zy,e)},tv=K("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:o,clickable:s,onDelete:i,size:a,variant:l}=n;return[{[`& .${De.avatar}`]:e.avatar},{[`& .${De.avatar}`]:e[`avatar${ue(a)}`]},{[`& .${De.avatar}`]:e[`avatarColor${ue(r)}`]},{[`& .${De.icon}`]:e.icon},{[`& .${De.icon}`]:e[`icon${ue(a)}`]},{[`& .${De.icon}`]:e[`iconColor${ue(o)}`]},{[`& .${De.deleteIcon}`]:e.deleteIcon},{[`& .${De.deleteIcon}`]:e[`deleteIcon${ue(a)}`]},{[`& .${De.deleteIcon}`]:e[`deleteIconColor${ue(r)}`]},{[`& .${De.deleteIcon}`]:e[`deleteIcon${ue(l)}Color${ue(r)}`]},e.root,e[`size${ue(a)}`],e[`color${ue(r)}`],s&&e.clickable,s&&r!=="default"&&e[`clickableColor${ue(r)})`],i&&e.deletable,i&&r!=="default"&&e[`deletableColor${ue(r)}`],e[l],e[`${l}${ue(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return y({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${De.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${De.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${De.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${De.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${De.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${De.icon}`]:y({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&y({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${De.deleteIcon}`]:y({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Ze(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Ze(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:Ze(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${De.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ze(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${De.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>y({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ze(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${De.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ze(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${De.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>y({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${De.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${De.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${De.avatar}`]:{marginLeft:4},[`& .${De.avatarSmall}`]:{marginLeft:2},[`& .${De.icon}`]:{marginLeft:4},[`& .${De.iconSmall}`]:{marginLeft:2},[`& .${De.deleteIcon}`]:{marginRight:5},[`& .${De.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Ze(t.palette[e.color].main,.7)}`,[`&.${De.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ze(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${De.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Ze(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${De.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Ze(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),nv=K("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${ue(r)}`]]}})(({ownerState:t})=>y({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function Lc(t){return t.key==="Backspace"||t.key==="Delete"}const rv=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiChip"}),{avatar:o,className:s,clickable:i,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:f,onDelete:m,onKeyDown:g,onKeyUp:p,size:b="medium",variant:_="filled",tabIndex:E,skipFocusWhenDisabled:T=!1}=r,I=oe(r,Jy),D=v.useRef(null),x=Ye(D,n),M=O=>{O.stopPropagation(),m&&m(O)},j=O=>{O.currentTarget===O.target&&Lc(O)&&O.preventDefault(),g&&g(O)},$=O=>{O.currentTarget===O.target&&(m&&Lc(O)?m(O):O.key==="Escape"&&D.current&&D.current.blur()),p&&p(O)},S=i!==!1&&f?!0:i,F=S||m?ms:l||"div",k=y({},r,{component:F,disabled:u,size:b,color:a,iconColor:v.isValidElement(d)&&d.props.color||a,onDelete:!!m,clickable:S,variant:_}),R=ev(k),C=F===ms?y({component:l||"div",focusVisibleClassName:R.focusVisible},m&&{disableRipple:!0}):{};let A=null;m&&(A=c&&v.isValidElement(c)?v.cloneElement(c,{className:ye(c.props.className,R.deleteIcon),onClick:M}):w.jsx(Xy,{className:ye(R.deleteIcon),onClick:M}));let L=null;o&&v.isValidElement(o)&&(L=v.cloneElement(o,{className:ye(R.avatar,o.props.className)}));let P=null;return d&&v.isValidElement(d)&&(P=v.cloneElement(d,{className:ye(R.icon,d.props.className)})),w.jsxs(tv,y({as:F,className:ye(R.root,s),disabled:S&&u?!0:void 0,onClick:f,onKeyDown:j,onKeyUp:$,ref:x,tabIndex:T&&u?-1:E,ownerState:k},C,I,{children:[L||P,w.jsx(nv,{className:ye(R.label),ownerState:k,children:h}),A]}))});function ov(t){return Ie("MuiInput",t)}const $r=y({},Pd,Ee("MuiInput",["root","underline","input"]));function sv(t){return Ie("MuiFilledInput",t)}const Pn=y({},Pd,Ee("MuiFilledInput",["root","underline","input"])),iv=Gt(w.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function av(t){return Ie("MuiBadge",t)}const ln=Ee("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),lv=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Oi=10,Fi=4,cv=gg(),uv=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:o,variant:s,classes:i={}}=t,a={root:["root"],badge:["badge",s,r&&"invisible",`anchorOrigin${ue(n.vertical)}${ue(n.horizontal)}`,`anchorOrigin${ue(n.vertical)}${ue(n.horizontal)}${ue(o)}`,`overlap${ue(o)}`,e!=="default"&&`color${ue(e)}`]};return Te(a,av,i)},dv=K("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),hv=K("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${ue(n.anchorOrigin.vertical)}${ue(n.anchorOrigin.horizontal)}${ue(n.overlap)}`],n.color!=="default"&&e[`color${ue(n.color)}`],n.invisible&&e.invisible]}})(({theme:t})=>{var e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Oi*2,lineHeight:1,padding:"0 6px",height:Oi*2,borderRadius:Oi,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(n=>{var r,o;return((r=t.vars)!=null?r:t).palette[n].main&&((o=t.vars)!=null?o:t).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Fi,height:Fi*2,minWidth:Fi*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ln.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ln.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ln.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ln.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ln.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ln.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ln.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ln.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}}),fv=v.forwardRef(function(e,n){var r,o,s,i,a,l;const c=cv({props:e,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:d,component:h,components:f={},componentsProps:m={},children:g,overlap:p="rectangular",color:b="default",invisible:_=!1,max:E=99,badgeContent:T,slots:I,slotProps:D,showZero:x=!1,variant:M="standard"}=c,j=oe(c,lv),{badgeContent:$,invisible:S,max:F,displayValue:k}=Ig({max:E,invisible:_,badgeContent:T,showZero:x}),R=Od({anchorOrigin:u,color:b,overlap:p,variant:M,badgeContent:T}),C=S||$==null&&M!=="dot",{color:A=b,overlap:L=p,anchorOrigin:P=u,variant:O=M}=C?R:c,z=O!=="dot"?k:void 0,J=y({},c,{badgeContent:$,invisible:C,max:F,displayValue:z,showZero:x,anchorOrigin:P,color:A,overlap:L,variant:O}),W=uv(J),G=(r=(o=I==null?void 0:I.root)!=null?o:f.Root)!=null?r:dv,se=(s=(i=I==null?void 0:I.badge)!=null?i:f.Badge)!=null?s:hv,ie=(a=D==null?void 0:D.root)!=null?a:m.root,B=(l=D==null?void 0:D.badge)!=null?l:m.badge,U=xe({elementType:G,externalSlotProps:ie,externalForwardedProps:j,additionalProps:{ref:n,as:h},ownerState:J,className:ye(ie==null?void 0:ie.className,W.root,d)}),X=xe({elementType:se,externalSlotProps:B,ownerState:J,className:ye(W.badge,B==null?void 0:B.className)});return w.jsxs(G,y({},U,{children:[g,w.jsx(se,y({},X,{children:z}))]}))});function pv(t){return Ie("MuiDialog",t)}const oo=Ee("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),mv=v.createContext({}),gv=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],yv=K(zm,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),vv=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:o,fullScreen:s}=t,i={root:["root"],container:["container",`scroll${ue(n)}`],paper:["paper",`paperScroll${ue(n)}`,`paperWidth${ue(String(r))}`,o&&"paperFullWidth",s&&"paperFullScreen"]};return Te(i,pv,e)},_v=K(qa,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),bv=K("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${ue(n.scroll)}`]]}})(({ownerState:t})=>y({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),wv=K(Ro,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${ue(n.scroll)}`],e[`paperWidth${ue(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>y({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${oo.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${oo.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${oo.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Tv=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDialog"}),o=Qt(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:m=!1,maxWidth:g="sm",onBackdropClick:p,onClose:b,open:_,PaperComponent:E=Ro,PaperProps:T={},scroll:I="paper",TransitionComponent:D=Mo,transitionDuration:x=s,TransitionProps:M}=r,j=oe(r,gv),$=y({},r,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:m,maxWidth:g,scroll:I}),S=vv($),F=v.useRef(),k=L=>{F.current=L.target===L.currentTarget},R=L=>{F.current&&(F.current=null,p&&p(L),b&&b(L,"backdropClick"))},C=vn(a),A=v.useMemo(()=>({titleId:C}),[C]);return w.jsx(_v,y({className:ye(S.root,d),closeAfterTransition:!0,components:{Backdrop:yv},componentsProps:{backdrop:y({transitionDuration:x,as:l},c)},disableEscapeKeyDown:h,onClose:b,open:_,ref:n,onClick:R,ownerState:$},j,{children:w.jsx(D,y({appear:!0,in:_,timeout:x,role:"presentation"},M,{children:w.jsx(bv,{className:ye(S.container),onMouseDown:k,ownerState:$,children:w.jsx(wv,y({as:E,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":C},T,{className:ye(S.paper,T.className),ownerState:$,children:w.jsx(mv.Provider,{value:A,children:u})}))})}))}))});function Ev(t){return Ie("MuiDialogActions",t)}Ee("MuiDialogActions",["root","spacing"]);const Iv=["className","disableSpacing"],Cv=t=>{const{classes:e,disableSpacing:n}=t;return Te({root:["root",!n&&"spacing"]},Ev,e)},Pv=K("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>y({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),xv=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDialogActions"}),{className:o,disableSpacing:s=!1}=r,i=oe(r,Iv),a=y({},r,{disableSpacing:s}),l=Cv(a);return w.jsx(Pv,y({className:ye(l.root,o),ownerState:a,ref:n},i))});function Sv(t){return Ie("MuiDialogContent",t)}Ee("MuiDialogContent",["root","dividers"]);const Dv=Ee("MuiDialogTitle",["root"]),Av=["className","dividers"],Rv=t=>{const{classes:e,dividers:n}=t;return Te({root:["root",n&&"dividers"]},Sv,e)},Mv=K("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>y({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${Dv.root} + &`]:{paddingTop:0}})),kv=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDialogContent"}),{className:o,dividers:s=!1}=r,i=oe(r,Av),a=y({},r,{dividers:s}),l=Rv(a);return w.jsx(Mv,y({className:ye(l.root,o),ownerState:a,ref:n},i))}),Vv=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Ov=t=>{const{classes:e,disableUnderline:n}=t,o=Te({root:["root",!n&&"underline"],input:["input"]},sv,e);return y({},e,o)},Fv=K(xd,{shouldForwardProp:t=>Cr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Sd(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",o=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return y({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Pn.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Pn.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Pn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Pn.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Pn.disabled}, .${Pn.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Pn.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&y({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Nv=K(Dd,{name:"MuiFilledInput",slot:"Input",overridesResolver:Ad})(({theme:t,ownerState:e})=>y({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),al=v.forwardRef(function(e,n){var r,o,s,i;const a=ge({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:m={},type:g="text"}=a,p=oe(a,Vv),b=y({},a,{fullWidth:u,inputComponent:d,multiline:h,type:g}),_=Ov(a),E={root:{ownerState:b},input:{ownerState:b}},T=f??c?Ya(E,f??c):E,I=(r=(o=m.root)!=null?o:l.Root)!=null?r:Fv,D=(s=(i=m.input)!=null?i:l.Input)!=null?s:Nv;return w.jsx(Rd,y({slots:{root:I,input:D},componentsProps:T,fullWidth:u,inputComponent:d,multiline:h,ref:n,type:g},p,{classes:_}))});al.muiName="Input";const Lv=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function ca(t){return`scale(${t}, ${t**2})`}const $v={entering:{opacity:1,transform:ca(1)},entered:{opacity:1,transform:"none"}},Ni=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ll=v.forwardRef(function(e,n){const{addEndListener:r,appear:o=!0,children:s,easing:i,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:f,style:m,timeout:g="auto",TransitionComponent:p=bd}=e,b=oe(e,Lv),_=Wm(),E=v.useRef(),T=Qt(),I=v.useRef(null),D=Ye(I,s.ref,n),x=C=>A=>{if(C){const L=I.current;A===void 0?C(L):C(L,A)}},M=x(u),j=x((C,A)=>{Hm(C);const{duration:L,delay:P,easing:O}=wc({style:m,timeout:g,easing:i},{mode:"enter"});let z;g==="auto"?(z=T.transitions.getAutoHeightDuration(C.clientHeight),E.current=z):z=L,C.style.transition=[T.transitions.create("opacity",{duration:z,delay:P}),T.transitions.create("transform",{duration:Ni?z:z*.666,delay:P,easing:O})].join(","),l&&l(C,A)}),$=x(c),S=x(f),F=x(C=>{const{duration:A,delay:L,easing:P}=wc({style:m,timeout:g,easing:i},{mode:"exit"});let O;g==="auto"?(O=T.transitions.getAutoHeightDuration(C.clientHeight),E.current=O):O=A,C.style.transition=[T.transitions.create("opacity",{duration:O,delay:L}),T.transitions.create("transform",{duration:Ni?O:O*.666,delay:Ni?L:L||O*.333,easing:P})].join(","),C.style.opacity=0,C.style.transform=ca(.75),d&&d(C)}),k=x(h),R=C=>{g==="auto"&&_.start(E.current||0,C),r&&r(I.current,C)};return w.jsx(p,y({appear:o,in:a,nodeRef:I,onEnter:j,onEntered:$,onEntering:M,onExit:F,onExited:k,onExiting:S,addEndListener:R,timeout:g==="auto"?null:g},b,{children:(C,A)=>v.cloneElement(s,y({style:y({opacity:0,transform:ca(.75),visibility:C==="exited"&&!a?"hidden":void 0},$v[C],m,s.props.style),ref:D},A))}))});ll.muiSupportAuto=!0;const Bv=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],jv=t=>{const{classes:e,disableUnderline:n}=t,o=Te({root:["root",!n&&"underline"],input:["input"]},ov,e);return y({},e,o)},Uv=K(xd,{shouldForwardProp:t=>Cr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Sd(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),y({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${$r.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${$r.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${$r.disabled}, .${$r.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${$r.disabled}:before`]:{borderBottomStyle:"dotted"}})}),zv=K(Dd,{name:"MuiInput",slot:"Input",overridesResolver:Ad})({}),cl=v.forwardRef(function(e,n){var r,o,s,i;const a=ge({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:m,slots:g={},type:p="text"}=a,b=oe(a,Bv),_=jv(a),T={root:{ownerState:{disableUnderline:l}}},I=m??u?Ya(m??u,T):T,D=(r=(o=g.root)!=null?o:c.Root)!=null?r:Uv,x=(s=(i=g.input)!=null?i:c.Input)!=null?s:zv;return w.jsx(Rd,y({slots:{root:D,input:x},slotProps:I,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:p},b,{classes:_}))});cl.muiName="Input";function Wv(t){return Ie("MuiInputAdornment",t)}const $c=Ee("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Bc;const Hv=["children","className","component","disablePointerEvents","disableTypography","position","variant"],qv=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${ue(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},Yv=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:o,size:s,variant:i}=t,a={root:["root",n&&"disablePointerEvents",o&&`position${ue(o)}`,i,r&&"hiddenLabel",s&&`size${ue(s)}`]};return Te(a,Wv,e)},Kv=K("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:qv})(({theme:t,ownerState:e})=>y({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${$c.positionStart}&:not(.${$c.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),Xd=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiInputAdornment"}),{children:o,className:s,component:i="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u}=r,d=oe(r,Hv),h=Sr()||{};let f=u;u&&h.variant,h&&!f&&(f=h.variant);const m=y({},r,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:c,variant:f}),g=Yv(m);return w.jsx(og.Provider,{value:null,children:w.jsx(Kv,y({as:i,ownerState:m,className:ye(g.root,s),ref:n},d,{children:typeof o=="string"&&!l?w.jsx(_n,{color:"text.secondary",children:o}):w.jsxs(v.Fragment,{children:[c==="start"?Bc||(Bc=w.jsx("span",{className:"notranslate",children:""})):null,o]})}))})}),Gv=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Li(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function jc(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Zd(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Br(t,e,n,r,o,s){let i=!1,a=o(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(i)return!1;i=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Zd(a,s)||l)a=o(t,a,n);else return a.focus(),!0}return!1}const Qv=v.forwardRef(function(e,n){const{actions:r,autoFocus:o=!1,autoFocusItem:s=!1,children:i,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=oe(e,Gv),f=v.useRef(null),m=v.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Mt(()=>{o&&f.current.focus()},[o]),v.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(E,{direction:T})=>{const I=!f.current.style.width;if(E.clientHeight<f.current.clientHeight&&I){const D=`${qm(Bt(E))}px`;f.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=D,f.current.style.width=`calc(100% + ${D})`}return f.current}}),[]);const g=E=>{const T=f.current,I=E.key,D=Bt(T).activeElement;if(I==="ArrowDown")E.preventDefault(),Br(T,D,c,l,Li);else if(I==="ArrowUp")E.preventDefault(),Br(T,D,c,l,jc);else if(I==="Home")E.preventDefault(),Br(T,null,c,l,Li);else if(I==="End")E.preventDefault(),Br(T,null,c,l,jc);else if(I.length===1){const x=m.current,M=I.toLowerCase(),j=performance.now();x.keys.length>0&&(j-x.lastTime>500?(x.keys=[],x.repeating=!0,x.previousKeyMatched=!0):x.repeating&&M!==x.keys[0]&&(x.repeating=!1)),x.lastTime=j,x.keys.push(M);const $=D&&!x.repeating&&Zd(D,x);x.previousKeyMatched&&($||Br(T,D,!1,l,Li,x))?E.preventDefault():x.previousKeyMatched=!1}u&&u(E)},p=Ye(f,n);let b=-1;v.Children.forEach(i,(E,T)=>{if(!v.isValidElement(E)){b===T&&(b+=1,b>=i.length&&(b=-1));return}E.props.disabled||(d==="selectedMenu"&&E.props.selected||b===-1)&&(b=T),b===T&&(E.props.disabled||E.props.muiSkipListHighlight||E.type.muiSkipListHighlight)&&(b+=1,b>=i.length&&(b=-1))});const _=v.Children.map(i,(E,T)=>{if(T===b){const I={};return s&&(I.autoFocus=!0),E.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),v.cloneElement(E,I)}return E});return w.jsx(wd,y({role:"menu",ref:p,className:a,onKeyDown:g,tabIndex:o?0:-1},h,{children:_}))});function Xv(t){return Ie("MuiPopover",t)}Ee("MuiPopover",["root","paper"]);const Zv=["onEntering"],Jv=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],e_=["slotProps"];function Uc(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function zc(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function Wc(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function $i(t){return typeof t=="function"?t():t}const t_=t=>{const{classes:e}=t;return Te({root:["root"],paper:["paper"]},Xv,e)},n_=K(qa,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Jd=K(Ro,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),r_=v.forwardRef(function(e,n){var r,o,s;const i=ge({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:f,container:m,elevation:g=8,marginThreshold:p=16,open:b,PaperProps:_={},slots:E,slotProps:T,transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:D=ll,transitionDuration:x="auto",TransitionProps:{onEntering:M}={},disableScrollLock:j=!1}=i,$=oe(i.TransitionProps,Zv),S=oe(i,Jv),F=(r=T==null?void 0:T.paper)!=null?r:_,k=v.useRef(),R=Ye(k,F.ref),C=y({},i,{anchorOrigin:c,anchorReference:d,elevation:g,marginThreshold:p,externalPaperSlotProps:F,transformOrigin:I,TransitionComponent:D,transitionDuration:x,TransitionProps:$}),A=t_(C),L=v.useCallback(()=>{if(d==="anchorPosition")return u;const V=$i(l),re=(V&&V.nodeType===1?V:Bt(k.current).body).getBoundingClientRect();return{top:re.top+Uc(re,c.vertical),left:re.left+zc(re,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),P=v.useCallback(V=>({vertical:Uc(V,I.vertical),horizontal:zc(V,I.horizontal)}),[I.horizontal,I.vertical]),O=v.useCallback(V=>{const Z={width:V.offsetWidth,height:V.offsetHeight},re=P(Z);if(d==="none")return{top:null,left:null,transformOrigin:Wc(re)};const be=L();let Ne=be.top-re.vertical,ce=be.left-re.horizontal;const he=Ne+Z.height,Ae=ce+Z.width,Me=Tc($i(l)),at=Me.innerHeight-p,mt=Me.innerWidth-p;if(p!==null&&Ne<p){const ze=Ne-p;Ne-=ze,re.vertical+=ze}else if(p!==null&&he>at){const ze=he-at;Ne-=ze,re.vertical+=ze}if(p!==null&&ce<p){const ze=ce-p;ce-=ze,re.horizontal+=ze}else if(Ae>mt){const ze=Ae-mt;ce-=ze,re.horizontal+=ze}return{top:`${Math.round(Ne)}px`,left:`${Math.round(ce)}px`,transformOrigin:Wc(re)}},[l,d,L,P,p]),[z,J]=v.useState(b),W=v.useCallback(()=>{const V=k.current;if(!V)return;const Z=O(V);Z.top!==null&&(V.style.top=Z.top),Z.left!==null&&(V.style.left=Z.left),V.style.transformOrigin=Z.transformOrigin,J(!0)},[O]);v.useEffect(()=>(j&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[l,j,W]);const G=(V,Z)=>{M&&M(V,Z),W()},se=()=>{J(!1)};v.useEffect(()=>{b&&W()}),v.useImperativeHandle(a,()=>b?{updatePosition:()=>{W()}}:null,[b,W]),v.useEffect(()=>{if(!b)return;const V=Ym(()=>{W()}),Z=Tc(l);return Z.addEventListener("resize",V),()=>{V.clear(),Z.removeEventListener("resize",V)}},[l,b,W]);let ie=x;x==="auto"&&!D.muiSupportAuto&&(ie=void 0);const B=m||(l?Bt($i(l)).body:void 0),U=(o=E==null?void 0:E.root)!=null?o:n_,X=(s=E==null?void 0:E.paper)!=null?s:Jd,te=xe({elementType:X,externalSlotProps:y({},F,{style:z?F.style:y({},F.style,{opacity:0})}),additionalProps:{elevation:g,ref:R},ownerState:C,className:ye(A.paper,F==null?void 0:F.className)}),H=xe({elementType:U,externalSlotProps:(T==null?void 0:T.root)||{},externalForwardedProps:S,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:B,open:b},ownerState:C,className:ye(A.root,f)}),{slotProps:ne}=H,Q=oe(H,e_);return w.jsx(U,y({},Q,!Km(U)&&{slotProps:ne,disableScrollLock:j},{children:w.jsx(D,y({appear:!0,in:b,onEntering:G,onExited:se,timeout:ie},$,{children:w.jsx(X,y({},te,{children:h}))}))}))});function o_(t){return Ie("MuiMenu",t)}Ee("MuiMenu",["root","paper","list"]);const s_=["onEntering"],i_=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],a_={vertical:"top",horizontal:"right"},l_={vertical:"top",horizontal:"left"},c_=t=>{const{classes:e}=t;return Te({root:["root"],paper:["paper"],list:["list"]},o_,e)},u_=K(r_,{shouldForwardProp:t=>Cr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),d_=K(Jd,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),h_=K(Qv,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),f_=v.forwardRef(function(e,n){var r,o;const s=ge({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:f={},PopoverClasses:m,transitionDuration:g="auto",TransitionProps:{onEntering:p}={},variant:b="selectedMenu",slots:_={},slotProps:E={}}=s,T=oe(s.TransitionProps,s_),I=oe(s,i_),D=Gm(),x=y({},s,{autoFocus:i,disableAutoFocusItem:c,MenuListProps:u,onEntering:p,PaperProps:f,transitionDuration:g,TransitionProps:T,variant:b}),M=c_(x),j=i&&!c&&h,$=v.useRef(null),S=(P,O)=>{$.current&&$.current.adjustStyleForScrollbar(P,{direction:D?"rtl":"ltr"}),p&&p(P,O)},F=P=>{P.key==="Tab"&&(P.preventDefault(),d&&d(P,"tabKeyDown"))};let k=-1;v.Children.map(a,(P,O)=>{v.isValidElement(P)&&(P.props.disabled||(b==="selectedMenu"&&P.props.selected||k===-1)&&(k=O))});const R=(r=_.paper)!=null?r:d_,C=(o=E.paper)!=null?o:f,A=xe({elementType:_.root,externalSlotProps:E.root,ownerState:x,className:[M.root,l]}),L=xe({elementType:R,externalSlotProps:C,ownerState:x,className:M.paper});return w.jsx(u_,y({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:D?"right":"left"},transformOrigin:D?a_:l_,slots:{paper:R,root:_.root},slotProps:{root:A,paper:L},open:h,ref:n,transitionDuration:g,TransitionProps:y({onEntering:S},T),ownerState:x},I,{classes:m,children:w.jsx(h_,y({onKeyDown:F,actions:$,autoFocus:i&&(k===-1||c),autoFocusItem:j,variant:b},u,{className:ye(M.list,u.className),children:a}))}))});function p_(t){return Ie("MuiMenuItem",t)}const jr=Ee("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),m_=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],g_=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},y_=t=>{const{disabled:e,dense:n,divider:r,disableGutters:o,selected:s,classes:i}=t,l=Te({root:["root",n&&"dense",e&&"disabled",!o&&"gutters",r&&"divider",s&&"selected"]},p_,i);return y({},i,l)},v_=K(ms,{shouldForwardProp:t=>Cr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:g_})(({theme:t,ownerState:e})=>y({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${jr.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${jr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${jr.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${jr.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${jr.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Ic.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Ic.inset}`]:{marginLeft:52},[`& .${Cc.root}`]:{marginTop:0,marginBottom:0},[`& .${Cc.inset}`]:{paddingLeft:36},[`& .${Ec.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&y({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${Ec.root} svg`]:{fontSize:"1.25rem"}}))),Hc=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:s="li",dense:i=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=r,f=oe(r,m_),m=v.useContext(Pc),g=v.useMemo(()=>({dense:i||m.dense||!1,disableGutters:l}),[m.dense,i,l]),p=v.useRef(null);Mt(()=>{o&&p.current&&p.current.focus()},[o]);const b=y({},r,{dense:g.dense,divider:a,disableGutters:l}),_=y_(r),E=Ye(p,n);let T;return r.disabled||(T=d!==void 0?d:-1),w.jsx(Pc.Provider,{value:g,children:w.jsx(v_,y({ref:E,role:u,tabIndex:T,component:s,focusVisibleClassName:ye(_.focusVisible,c),className:ye(_.root,h)},f,{ownerState:b,classes:_}))})});function __(t){return Ie("MuiNativeSelect",t)}const ul=Ee("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),b_=["className","disabled","error","IconComponent","inputRef","variant"],w_=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:s,error:i}=t,a={select:["select",n,r&&"disabled",o&&"multiple",i&&"error"],icon:["icon",`icon${ue(n)}`,s&&"iconOpen",r&&"disabled"]};return Te(a,__,e)},eh=({ownerState:t,theme:e})=>y({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":y({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${ul.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),T_=K("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Cr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${ul.multiple}`]:e.multiple}]}})(eh),th=({ownerState:t,theme:e})=>y({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${ul.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),E_=K("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ue(n.variant)}`],n.open&&e.iconOpen]}})(th),I_=v.forwardRef(function(e,n){const{className:r,disabled:o,error:s,IconComponent:i,inputRef:a,variant:l="standard"}=e,c=oe(e,b_),u=y({},e,{disabled:o,variant:l,error:s}),d=w_(u);return w.jsxs(v.Fragment,{children:[w.jsx(T_,y({ownerState:u,className:ye(d.select,r),disabled:o,ref:a||n},c)),e.multiple?null:w.jsx(E_,{as:i,ownerState:u,className:d.icon})]})});function C_(t){return Ie("MuiSelect",t)}const Ur=Ee("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var qc;const P_=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],x_=K("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Ur.select}`]:e.select},{[`&.${Ur.select}`]:e[n.variant]},{[`&.${Ur.error}`]:e.error},{[`&.${Ur.multiple}`]:e.multiple}]}})(eh,{[`&.${Ur.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),S_=K("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ue(n.variant)}`],n.open&&e.iconOpen]}})(th),D_=K("input",{shouldForwardProp:t=>Qm(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Yc(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function A_(t){return t==null||typeof t=="string"&&!t.trim()}const R_=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:s,error:i}=t,a={select:["select",n,r&&"disabled",o&&"multiple",i&&"error"],icon:["icon",`icon${ue(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Te(a,C_,e)},M_=v.forwardRef(function(e,n){var r;const{"aria-describedby":o,"aria-label":s,autoFocus:i,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:f,error:m=!1,IconComponent:g,inputRef:p,labelId:b,MenuProps:_={},multiple:E,name:T,onBlur:I,onChange:D,onClose:x,onFocus:M,onOpen:j,open:$,readOnly:S,renderValue:F,SelectDisplayProps:k={},tabIndex:R,value:C,variant:A="standard"}=e,L=oe(e,P_),[P,O]=en({controlled:C,default:d,name:"Select"}),[z,J]=en({controlled:$,default:u,name:"Select"}),W=v.useRef(null),G=v.useRef(null),[se,ie]=v.useState(null),{current:B}=v.useRef($!=null),[U,X]=v.useState(),te=Ye(n,p),H=v.useCallback(pe=>{G.current=pe,pe&&ie(pe)},[]),ne=se==null?void 0:se.parentNode;v.useImperativeHandle(te,()=>({focus:()=>{G.current.focus()},node:W.current,value:P}),[P]),v.useEffect(()=>{u&&z&&se&&!B&&(X(a?null:ne.clientWidth),G.current.focus())},[se,a]),v.useEffect(()=>{i&&G.current.focus()},[i]),v.useEffect(()=>{if(!b)return;const pe=Bt(G.current).getElementById(b);if(pe){const ke=()=>{getSelection().isCollapsed&&G.current.focus()};return pe.addEventListener("click",ke),()=>{pe.removeEventListener("click",ke)}}},[b]);const Q=(pe,ke)=>{pe?j&&j(ke):x&&x(ke),B||(X(a?null:ne.clientWidth),J(pe))},V=pe=>{pe.button===0&&(pe.preventDefault(),G.current.focus(),Q(!0,pe))},Z=pe=>{Q(!1,pe)},re=v.Children.toArray(l),be=pe=>{const ke=re.find(qe=>qe.props.value===pe.target.value);ke!==void 0&&(O(ke.props.value),D&&D(pe,ke))},Ne=pe=>ke=>{let qe;if(ke.currentTarget.hasAttribute("tabindex")){if(E){qe=Array.isArray(P)?P.slice():[];const Vt=P.indexOf(pe.props.value);Vt===-1?qe.push(pe.props.value):qe.splice(Vt,1)}else qe=pe.props.value;if(pe.props.onClick&&pe.props.onClick(ke),P!==qe&&(O(qe),D)){const Vt=ke.nativeEvent||ke,Xo=new Vt.constructor(Vt.type,Vt);Object.defineProperty(Xo,"target",{writable:!0,value:{value:qe,name:T}}),D(Xo,pe)}E||Q(!1,ke)}},ce=pe=>{S||[" ","ArrowUp","ArrowDown","Enter"].indexOf(pe.key)!==-1&&(pe.preventDefault(),Q(!0,pe))},he=se!==null&&z,Ae=pe=>{!he&&I&&(Object.defineProperty(pe,"target",{writable:!0,value:{value:P,name:T}}),I(pe))};delete L["aria-invalid"];let Me,at;const mt=[];let ze=!1;(sg({value:P})||f)&&(F?Me=F(P):ze=!0);const In=re.map(pe=>{if(!v.isValidElement(pe))return null;let ke;if(E){if(!Array.isArray(P))throw new Error(sa(2));ke=P.some(qe=>Yc(qe,pe.props.value)),ke&&ze&&mt.push(pe.props.children)}else ke=Yc(P,pe.props.value),ke&&ze&&(at=pe.props.children);return v.cloneElement(pe,{"aria-selected":ke?"true":"false",onClick:Ne(pe),onKeyUp:qe=>{qe.key===" "&&qe.preventDefault(),pe.props.onKeyUp&&pe.props.onKeyUp(qe)},role:"option",selected:ke,value:void 0,"data-value":pe.props.value})});ze&&(E?mt.length===0?Me=null:Me=mt.reduce((pe,ke,qe)=>(pe.push(ke),qe<mt.length-1&&pe.push(", "),pe),[]):Me=at);let Xt=U;!a&&B&&se&&(Xt=ne.clientWidth);let Zt;typeof R<"u"?Zt=R:Zt=h?null:0;const Cn=k.id||(T?`mui-component-select-${T}`:void 0),qn=y({},e,{variant:A,value:P,open:he,error:m}),Or=R_(qn),Fr=y({},_.PaperProps,(r=_.slotProps)==null?void 0:r.paper),Yn=vn();return w.jsxs(v.Fragment,{children:[w.jsx(x_,y({ref:H,tabIndex:Zt,role:"combobox","aria-controls":Yn,"aria-disabled":h?"true":void 0,"aria-expanded":he?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[b,Cn].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:ce,onMouseDown:h||S?null:V,onBlur:Ae,onFocus:M},k,{ownerState:qn,className:ye(k.className,Or.select,c),id:Cn,children:A_(Me)?qc||(qc=w.jsx("span",{className:"notranslate",children:""})):Me})),w.jsx(D_,y({"aria-invalid":m,value:Array.isArray(P)?P.join(","):P,name:T,ref:W,"aria-hidden":!0,onChange:be,tabIndex:-1,disabled:h,className:Or.nativeInput,autoFocus:i,ownerState:qn},L)),w.jsx(S_,{as:g,className:Or.icon,ownerState:qn}),w.jsx(f_,y({id:`menu-${T||""}`,anchorEl:ne,open:he,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},_,{MenuListProps:y({"aria-labelledby":b,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:Yn},_.MenuListProps),slotProps:y({},_.slotProps,{paper:y({},Fr,{style:y({minWidth:Xt},Fr!=null?Fr.style:null)})}),children:In}))]})}),k_=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],V_=["root"],O_=t=>{const{classes:e}=t;return e},dl={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Cr(t)&&t!=="variant",slot:"Root"},F_=K(cl,dl)(""),N_=K(Md,dl)(""),L_=K(al,dl)(""),hl=v.forwardRef(function(e,n){const r=ge({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:s,classes:i={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=iv,id:d,input:h,inputProps:f,label:m,labelId:g,MenuProps:p,multiple:b=!1,native:_=!1,onClose:E,onOpen:T,open:I,renderValue:D,SelectDisplayProps:x,variant:M="outlined"}=r,j=oe(r,k_),$=_?I_:M_,S=Sr(),F=ig({props:r,muiFormControl:S,states:["variant","error"]}),k=F.variant||M,R=y({},r,{variant:k,classes:i}),C=O_(R),A=oe(C,V_),L=h||{standard:w.jsx(F_,{ownerState:R}),outlined:w.jsx(N_,{label:m,ownerState:R}),filled:w.jsx(L_,{ownerState:R})}[k],P=Ye(n,L.ref);return w.jsx(v.Fragment,{children:v.cloneElement(L,y({inputComponent:$,inputProps:y({children:s,error:F.error,IconComponent:u,variant:k,type:void 0,multiple:b},_?{id:d}:{autoWidth:o,defaultOpen:l,displayEmpty:c,labelId:g,MenuProps:p,onClose:E,onOpen:T,open:I,renderValue:D,SelectDisplayProps:y({id:d},x)},f,{classes:f?Ya(A,f.classes):A},h?h.props.inputProps:{})},(b&&_||c)&&k==="outlined"?{notched:!0}:{},{ref:P,className:ye(L.props.className,a,C.root)},!h&&{variant:k},j))})});hl.muiName="Select";const nh=v.createContext();function $_(t){return Ie("MuiTable",t)}Ee("MuiTable",["root","stickyHeader"]);const B_=["className","component","padding","size","stickyHeader"],j_=t=>{const{classes:e,stickyHeader:n}=t;return Te({root:["root",n&&"stickyHeader"]},$_,e)},U_=K("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>y({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":y({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),Kc="table",z_=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTable"}),{className:o,component:s=Kc,padding:i="normal",size:a="medium",stickyHeader:l=!1}=r,c=oe(r,B_),u=y({},r,{component:s,padding:i,size:a,stickyHeader:l}),d=j_(u),h=v.useMemo(()=>({padding:i,size:a,stickyHeader:l}),[i,a,l]);return w.jsx(nh.Provider,{value:h,children:w.jsx(U_,y({as:s,role:s===Kc?null:"table",ref:n,className:ye(d.root,o),ownerState:u},c))})}),Ks=v.createContext();function W_(t){return Ie("MuiTableBody",t)}Ee("MuiTableBody",["root"]);const H_=["className","component"],q_=t=>{const{classes:e}=t;return Te({root:["root"]},W_,e)},Y_=K("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),K_={variant:"body"},Gc="tbody",G_=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableBody"}),{className:o,component:s=Gc}=r,i=oe(r,H_),a=y({},r,{component:s}),l=q_(a);return w.jsx(Ks.Provider,{value:K_,children:w.jsx(Y_,y({className:ye(l.root,o),as:s,ref:n,role:s===Gc?null:"rowgroup",ownerState:a},i))})});function Q_(t){return Ie("MuiTableCell",t)}const X_=Ee("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Z_=["align","className","component","padding","scope","size","sortDirection","variant"],J_=t=>{const{classes:e,variant:n,align:r,padding:o,size:s,stickyHeader:i}=t,a={root:["root",n,i&&"stickyHeader",r!=="inherit"&&`align${ue(r)}`,o!=="normal"&&`padding${ue(o)}`,`size${ue(s)}`]};return Te(a,Q_,e)},eb=K("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${ue(n.size)}`],n.padding!=="normal"&&e[`padding${ue(n.padding)}`],n.align!=="inherit"&&e[`align${ue(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>y({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?Xm(Ze(t.palette.divider,1),.88):Zm(Ze(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${X_.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),Kn=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableCell"}),{align:o="inherit",className:s,component:i,padding:a,scope:l,size:c,sortDirection:u,variant:d}=r,h=oe(r,Z_),f=v.useContext(nh),m=v.useContext(Ks),g=m&&m.variant==="head";let p;i?p=i:p=g?"th":"td";let b=l;p==="td"?b=void 0:!b&&g&&(b="col");const _=d||m&&m.variant,E=y({},r,{align:o,component:p,padding:a||(f&&f.padding?f.padding:"normal"),size:c||(f&&f.size?f.size:"medium"),sortDirection:u,stickyHeader:_==="head"&&f&&f.stickyHeader,variant:_}),T=J_(E);let I=null;return u&&(I=u==="asc"?"ascending":"descending"),w.jsx(eb,y({as:p,ref:n,className:ye(T.root,s),"aria-sort":I,scope:b,ownerState:E},h))});function tb(t){return Ie("MuiTableContainer",t)}Ee("MuiTableContainer",["root"]);const nb=["className","component"],rb=t=>{const{classes:e}=t;return Te({root:["root"]},tb,e)},ob=K("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),sb=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableContainer"}),{className:o,component:s="div"}=r,i=oe(r,nb),a=y({},r,{component:s}),l=rb(a);return w.jsx(ob,y({ref:n,as:s,className:ye(l.root,o),ownerState:a},i))});function ib(t){return Ie("MuiTableHead",t)}Ee("MuiTableHead",["root"]);const ab=["className","component"],lb=t=>{const{classes:e}=t;return Te({root:["root"]},ib,e)},cb=K("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),ub={variant:"head"},Qc="thead",db=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableHead"}),{className:o,component:s=Qc}=r,i=oe(r,ab),a=y({},r,{component:s}),l=lb(a);return w.jsx(Ks.Provider,{value:ub,children:w.jsx(cb,y({as:s,className:ye(l.root,o),ref:n,role:s===Qc?null:"rowgroup",ownerState:a},i))})});function hb(t){return Ie("MuiTableRow",t)}const Xc=Ee("MuiTableRow",["root","selected","hover","head","footer"]),fb=["className","component","hover","selected"],pb=t=>{const{classes:e,selected:n,hover:r,head:o,footer:s}=t;return Te({root:["root",n&&"selected",r&&"hover",o&&"head",s&&"footer"]},hb,e)},mb=K("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Xc.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Xc.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),Zc="tr",Jc=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableRow"}),{className:o,component:s=Zc,hover:i=!1,selected:a=!1}=r,l=oe(r,fb),c=v.useContext(Ks),u=y({},r,{component:s,hover:i,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),d=pb(u);return w.jsx(mb,y({as:s,ref:n,className:ye(d.root,o),role:s===Zc?null:"row",ownerState:u},l))});function gb(t){return Ie("MuiTextField",t)}Ee("MuiTextField",["root"]);const yb=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],vb={standard:cl,filled:al,outlined:Md},_b=t=>{const{classes:e}=t;return Te({root:["root"]},gb,e)},bb=K(Ka,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),rh=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTextField"}),{autoComplete:o,autoFocus:s=!1,children:i,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:m,id:g,InputLabelProps:p,inputProps:b,InputProps:_,inputRef:E,label:T,maxRows:I,minRows:D,multiline:x=!1,name:M,onBlur:j,onChange:$,onFocus:S,placeholder:F,required:k=!1,rows:R,select:C=!1,SelectProps:A,type:L,value:P,variant:O="outlined"}=r,z=oe(r,yb),J=y({},r,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:f,multiline:x,required:k,select:C,variant:O}),W=_b(J),G={};O==="outlined"&&(p&&typeof p.shrink<"u"&&(G.notched=p.shrink),G.label=T),C&&((!A||!A.native)&&(G.id=void 0),G["aria-describedby"]=void 0);const se=vn(g),ie=m&&se?`${se}-helper-text`:void 0,B=T&&se?`${se}-label`:void 0,U=vb[O],X=w.jsx(U,y({"aria-describedby":ie,autoComplete:o,autoFocus:s,defaultValue:c,fullWidth:f,multiline:x,name:M,rows:R,maxRows:I,minRows:D,type:L,value:P,id:se,inputRef:E,onBlur:j,onChange:$,onFocus:S,placeholder:F,inputProps:b},G,_));return w.jsxs(bb,y({className:ye(W.root,a),disabled:u,error:d,fullWidth:f,ref:n,required:k,color:l,variant:O,ownerState:J},z,{children:[T!=null&&T!==""&&w.jsx(Ga,y({htmlFor:se,id:B},p,{children:T})),C?w.jsx(hl,y({"aria-describedby":ie,id:se,labelId:B,value:P,input:X},A,{children:i})):X,m&&w.jsx(ko,y({id:ie},h,{children:m}))]}))}),wb=["localeText"],ua=v.createContext(null),Fo=function(e){const{localeText:n}=e,r=oe(e,wb),{utils:o,localeText:s}=v.useContext(ua)??{utils:void 0,localeText:void 0},i=ge({props:r,name:"MuiLocalizationProvider"}),{children:a,dateAdapter:l,dateFormats:c,dateLibInstance:u,adapterLocale:d,localeText:h}=i,f=v.useMemo(()=>y({},h,s,n),[h,s,n]),m=v.useMemo(()=>{if(!l)return o||null;const b=new l({locale:d,formats:c,instance:u});if(!b.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return b},[l,d,c,u,o]),g=v.useMemo(()=>m?{minDate:m.date("1900-01-01T00:00:00.000"),maxDate:m.date("2099-12-31T00:00:00.000")}:null,[m]),p=v.useMemo(()=>({utils:m,defaultDates:g,localeText:f}),[g,m,f]);return w.jsx(ua.Provider,{value:p,children:a})};var Bi={exports:{}},eu;function oh(){return eu||(eu=1,function(t,e){(function(n,r){t.exports=r()})(jn,function(){var n=1e3,r=6e4,o=36e5,s="millisecond",i="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",f="year",m="date",g="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(R){var C=["th","st","nd","rd"],A=R%100;return"["+R+(C[(A-20)%10]||C[A]||C[0])+"]"}},E=function(R,C,A){var L=String(R);return!L||L.length>=C?R:""+Array(C+1-L.length).join(A)+R},T={s:E,z:function(R){var C=-R.utcOffset(),A=Math.abs(C),L=Math.floor(A/60),P=A%60;return(C<=0?"+":"-")+E(L,2,"0")+":"+E(P,2,"0")},m:function R(C,A){if(C.date()<A.date())return-R(A,C);var L=12*(A.year()-C.year())+(A.month()-C.month()),P=C.clone().add(L,d),O=A-P<0,z=C.clone().add(L+(O?-1:1),d);return+(-(L+(A-P)/(O?P-z:z-P))||0)},a:function(R){return R<0?Math.ceil(R)||0:Math.floor(R)},p:function(R){return{M:d,y:f,w:u,d:c,D:m,h:l,m:a,s:i,ms:s,Q:h}[R]||String(R||"").toLowerCase().replace(/s$/,"")},u:function(R){return R===void 0}},I="en",D={};D[I]=_;var x="$isDayjsObject",M=function(R){return R instanceof F||!(!R||!R[x])},j=function R(C,A,L){var P;if(!C)return I;if(typeof C=="string"){var O=C.toLowerCase();D[O]&&(P=O),A&&(D[O]=A,P=O);var z=C.split("-");if(!P&&z.length>1)return R(z[0])}else{var J=C.name;D[J]=C,P=J}return!L&&P&&(I=P),P||!L&&I},$=function(R,C){if(M(R))return R.clone();var A=typeof C=="object"?C:{};return A.date=R,A.args=arguments,new F(A)},S=T;S.l=j,S.i=M,S.w=function(R,C){return $(R,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var F=function(){function R(A){this.$L=j(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[x]=!0}var C=R.prototype;return C.parse=function(A){this.$d=function(L){var P=L.date,O=L.utc;if(P===null)return new Date(NaN);if(S.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var z=P.match(p);if(z){var J=z[2]-1||0,W=(z[7]||"0").substring(0,3);return O?new Date(Date.UTC(z[1],J,z[3]||1,z[4]||0,z[5]||0,z[6]||0,W)):new Date(z[1],J,z[3]||1,z[4]||0,z[5]||0,z[6]||0,W)}}return new Date(P)}(A),this.init()},C.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},C.$utils=function(){return S},C.isValid=function(){return this.$d.toString()!==g},C.isSame=function(A,L){var P=$(A);return this.startOf(L)<=P&&P<=this.endOf(L)},C.isAfter=function(A,L){return $(A)<this.startOf(L)},C.isBefore=function(A,L){return this.endOf(L)<$(A)},C.$g=function(A,L,P){return S.u(A)?this[L]:this.set(P,A)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(A,L){var P=this,O=!!S.u(L)||L,z=S.p(A),J=function(te,H){var ne=S.w(P.$u?Date.UTC(P.$y,H,te):new Date(P.$y,H,te),P);return O?ne:ne.endOf(c)},W=function(te,H){return S.w(P.toDate()[te].apply(P.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(H)),P)},G=this.$W,se=this.$M,ie=this.$D,B="set"+(this.$u?"UTC":"");switch(z){case f:return O?J(1,0):J(31,11);case d:return O?J(1,se):J(0,se+1);case u:var U=this.$locale().weekStart||0,X=(G<U?G+7:G)-U;return J(O?ie-X:ie+(6-X),se);case c:case m:return W(B+"Hours",0);case l:return W(B+"Minutes",1);case a:return W(B+"Seconds",2);case i:return W(B+"Milliseconds",3);default:return this.clone()}},C.endOf=function(A){return this.startOf(A,!1)},C.$set=function(A,L){var P,O=S.p(A),z="set"+(this.$u?"UTC":""),J=(P={},P[c]=z+"Date",P[m]=z+"Date",P[d]=z+"Month",P[f]=z+"FullYear",P[l]=z+"Hours",P[a]=z+"Minutes",P[i]=z+"Seconds",P[s]=z+"Milliseconds",P)[O],W=O===c?this.$D+(L-this.$W):L;if(O===d||O===f){var G=this.clone().set(m,1);G.$d[J](W),G.init(),this.$d=G.set(m,Math.min(this.$D,G.daysInMonth())).$d}else J&&this.$d[J](W);return this.init(),this},C.set=function(A,L){return this.clone().$set(A,L)},C.get=function(A){return this[S.p(A)]()},C.add=function(A,L){var P,O=this;A=Number(A);var z=S.p(L),J=function(se){var ie=$(O);return S.w(ie.date(ie.date()+Math.round(se*A)),O)};if(z===d)return this.set(d,this.$M+A);if(z===f)return this.set(f,this.$y+A);if(z===c)return J(1);if(z===u)return J(7);var W=(P={},P[a]=r,P[l]=o,P[i]=n,P)[z]||1,G=this.$d.getTime()+A*W;return S.w(G,this)},C.subtract=function(A,L){return this.add(-1*A,L)},C.format=function(A){var L=this,P=this.$locale();if(!this.isValid())return P.invalidDate||g;var O=A||"YYYY-MM-DDTHH:mm:ssZ",z=S.z(this),J=this.$H,W=this.$m,G=this.$M,se=P.weekdays,ie=P.months,B=P.meridiem,U=function(H,ne,Q,V){return H&&(H[ne]||H(L,O))||Q[ne].slice(0,V)},X=function(H){return S.s(J%12||12,H,"0")},te=B||function(H,ne,Q){var V=H<12?"AM":"PM";return Q?V.toLowerCase():V};return O.replace(b,function(H,ne){return ne||function(Q){switch(Q){case"YY":return String(L.$y).slice(-2);case"YYYY":return S.s(L.$y,4,"0");case"M":return G+1;case"MM":return S.s(G+1,2,"0");case"MMM":return U(P.monthsShort,G,ie,3);case"MMMM":return U(ie,G);case"D":return L.$D;case"DD":return S.s(L.$D,2,"0");case"d":return String(L.$W);case"dd":return U(P.weekdaysMin,L.$W,se,2);case"ddd":return U(P.weekdaysShort,L.$W,se,3);case"dddd":return se[L.$W];case"H":return String(J);case"HH":return S.s(J,2,"0");case"h":return X(1);case"hh":return X(2);case"a":return te(J,W,!0);case"A":return te(J,W,!1);case"m":return String(W);case"mm":return S.s(W,2,"0");case"s":return String(L.$s);case"ss":return S.s(L.$s,2,"0");case"SSS":return S.s(L.$ms,3,"0");case"Z":return z}return null}(H)||z.replace(":","")})},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(A,L,P){var O,z=this,J=S.p(L),W=$(A),G=(W.utcOffset()-this.utcOffset())*r,se=this-W,ie=function(){return S.m(z,W)};switch(J){case f:O=ie()/12;break;case d:O=ie();break;case h:O=ie()/3;break;case u:O=(se-G)/6048e5;break;case c:O=(se-G)/864e5;break;case l:O=se/o;break;case a:O=se/r;break;case i:O=se/n;break;default:O=se}return P?O:S.a(O)},C.daysInMonth=function(){return this.endOf(d).$D},C.$locale=function(){return D[this.$L]},C.locale=function(A,L){if(!A)return this.$L;var P=this.clone(),O=j(A,L,!0);return O&&(P.$L=O),P},C.clone=function(){return S.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},R}(),k=F.prototype;return $.prototype=k,[["$ms",s],["$s",i],["$m",a],["$H",l],["$W",c],["$M",d],["$y",f],["$D",m]].forEach(function(R){k[R[1]]=function(C){return this.$g(C,R[0],R[1])}}),$.extend=function(R,C){return R.$i||(R(C,F,$),R.$i=!0),$},$.locale=j,$.isDayjs=M,$.unix=function(R){return $(1e3*R)},$.en=D[I],$.Ls=D,$.p={},$})}(Bi)),Bi.exports}var Tb=oh();const We=Pr(Tb);var sh={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(jn,function(){var n="week",r="year";return function(o,s,i){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=i(this).startOf(r).add(1,r).date(c),d=i(this).endOf(n);if(u.isBefore(d))return 1}var h=i(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),f=this.diff(h,n,!0);return f<0?i(this).startOf("week").week():Math.ceil(f)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(sh);var Eb=sh.exports;const Ib=Pr(Eb);var ih={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(jn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,s=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,a={},l=function(g){return(g=+g)+(g>68?1900:2e3)},c=function(g){return function(p){this[g]=+p}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(p){if(!p||p==="Z")return 0;var b=p.match(/([+-]|\d\d)/g),_=60*b[1]+(+b[2]||0);return _===0?0:b[0]==="+"?-_:_}(g)}],d=function(g){var p=a[g];return p&&(p.indexOf?p:p.s.concat(p.f))},h=function(g,p){var b,_=a.meridiem;if(_){for(var E=1;E<=24;E+=1)if(g.indexOf(_(E,0,p))>-1){b=E>12;break}}else b=g===(p?"pm":"PM");return b},f={A:[i,function(g){this.afternoon=h(g,!1)}],a:[i,function(g){this.afternoon=h(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[o,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[s,c("seconds")],ss:[s,c("seconds")],m:[s,c("minutes")],mm:[s,c("minutes")],H:[s,c("hours")],h:[s,c("hours")],HH:[s,c("hours")],hh:[s,c("hours")],D:[s,c("day")],DD:[o,c("day")],Do:[i,function(g){var p=a.ordinal,b=g.match(/\d+/);if(this.day=b[0],p)for(var _=1;_<=31;_+=1)p(_).replace(/\[|\]/g,"")===g&&(this.day=_)}],M:[s,c("month")],MM:[o,c("month")],MMM:[i,function(g){var p=d("months"),b=(d("monthsShort")||p.map(function(_){return _.slice(0,3)})).indexOf(g)+1;if(b<1)throw new Error;this.month=b%12||b}],MMMM:[i,function(g){var p=d("months").indexOf(g)+1;if(p<1)throw new Error;this.month=p%12||p}],Y:[/[+-]?\d+/,c("year")],YY:[o,function(g){this.year=l(g)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function m(g){var p,b;p=g,b=a&&a.formats;for(var _=(g=p.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(j,$,S){var F=S&&S.toUpperCase();return $||b[S]||n[S]||b[F].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(k,R,C){return R||C.slice(1)})})).match(r),E=_.length,T=0;T<E;T+=1){var I=_[T],D=f[I],x=D&&D[0],M=D&&D[1];_[T]=M?{regex:x,parser:M}:I.replace(/^\[|\]$/g,"")}return function(j){for(var $={},S=0,F=0;S<E;S+=1){var k=_[S];if(typeof k=="string")F+=k.length;else{var R=k.regex,C=k.parser,A=j.slice(F),L=R.exec(A)[0];C.call($,L),j=j.replace(L,"")}}return function(P){var O=P.afternoon;if(O!==void 0){var z=P.hours;O?z<12&&(P.hours+=12):z===12&&(P.hours=0),delete P.afternoon}}($),$}}return function(g,p,b){b.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(l=g.parseTwoDigitYear);var _=p.prototype,E=_.parse;_.parse=function(T){var I=T.date,D=T.utc,x=T.args;this.$u=D;var M=x[1];if(typeof M=="string"){var j=x[2]===!0,$=x[3]===!0,S=j||$,F=x[2];$&&(F=x[2]),a=this.$locale(),!j&&F&&(a=b.Ls[F]),this.$d=function(A,L,P){try{if(["x","X"].indexOf(L)>-1)return new Date((L==="X"?1e3:1)*A);var O=m(L)(A),z=O.year,J=O.month,W=O.day,G=O.hours,se=O.minutes,ie=O.seconds,B=O.milliseconds,U=O.zone,X=new Date,te=W||(z||J?1:X.getDate()),H=z||X.getFullYear(),ne=0;z&&!J||(ne=J>0?J-1:X.getMonth());var Q=G||0,V=se||0,Z=ie||0,re=B||0;return U?new Date(Date.UTC(H,ne,te,Q,V,Z,re+60*U.offset*1e3)):P?new Date(Date.UTC(H,ne,te,Q,V,Z,re)):new Date(H,ne,te,Q,V,Z,re)}catch{return new Date("")}}(I,M,D),this.init(),F&&F!==!0&&(this.$L=this.locale(F).$L),S&&I!=this.format(M)&&(this.$d=new Date("")),a={}}else if(M instanceof Array)for(var k=M.length,R=1;R<=k;R+=1){x[1]=M[R-1];var C=b.apply(this,x);if(C.isValid()){this.$d=C.$d,this.$L=C.$L,this.init();break}R===k&&(this.$d=new Date(""))}else E.call(this,T)}}})})(ih);var Cb=ih.exports;const Pb=Pr(Cb);var ah={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(jn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,o,s){var i=o.prototype,a=i.format;s.en.formats=n,i.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,m,g){var p=g&&g.toUpperCase();return m||h[g]||n[g]||h[p].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,_,E){return _||E.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,u)}}})})(ah);var xb=ah.exports;const Sb=Pr(xb);var lh={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(jn,function(){return function(n,r,o){r.prototype.isBetween=function(s,i,a,l){var c=o(s),u=o(i),d=(l=l||"()")[0]==="(",h=l[1]===")";return(d?this.isAfter(c,a):!this.isBefore(c,a))&&(h?this.isBefore(u,a):!this.isAfter(u,a))||(d?this.isBefore(c,a):!this.isAfter(c,a))&&(h?this.isAfter(u,a):!this.isBefore(u,a))}}})})(lh);var Db=lh.exports;const Ab=Pr(Db);var ch={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(jn,function(){return function(n,r){var o=r.prototype,s=o.format;o.format=function(i){var a=this,l=this.$locale();if(!this.isValid())return s.bind(this)(i);var c=this.$utils(),u=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return s.bind(this)(u)}}})})(ch);var Rb=ch.exports;const Mb=Pr(Rb),uh=(t,e="warning")=>{let n=!1;const r=Array.isArray(t)?t.join(`
`):t;return()=>{n||(n=!0,e==="error"?console.error(r):console.warn(r))}};We.extend(Sb);We.extend(Ib);We.extend(Ab);We.extend(Mb);const kb=uh(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),Vb={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Ob={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},ji=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),tu=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),Fb=(t,e)=>e?(...n)=>t(...n).locale(e):t;class fl{constructor({locale:e,formats:n}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=Vb,this.setLocaleToValue=r=>{const o=this.getCurrentLocaleCode();return o===r.locale()?r:r.locale(o)},this.hasUTCPlugin=()=>typeof We.utc<"u",this.hasTimezonePlugin=()=>typeof We.tz<"u",this.isSame=(r,o,s)=>{const i=this.setTimezone(o,this.getTimezone(r));return r.format(s)===i.format(s)},this.cleanTimezone=r=>{switch(r){case"default":return;case"system":return We.tz.guess();default:return r}},this.createSystemDate=r=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const o=We.tz.guess();return o!=="UTC"?We.tz(r,o):We(r)}return We(r)},this.createUTCDate=r=>{if(!this.hasUTCPlugin())throw new Error(ji);return We.utc(r)},this.createTZDate=(r,o)=>{if(!this.hasUTCPlugin())throw new Error(ji);if(!this.hasTimezonePlugin())throw new Error(tu);const s=r!==void 0&&!r.endsWith("Z");return We(r).tz(this.cleanTimezone(o),s)},this.getLocaleFormats=()=>{const r=We.Ls,o=this.locale||"en";let s=r[o];return s===void 0&&(kb(),s=r.en),s.formats},this.adjustOffset=r=>{if(!this.hasTimezonePlugin())return r;const o=this.getTimezone(r);if(o!=="UTC"){const s=r.tz(this.cleanTimezone(o),!0);return(s.$offset??0)===(r.$offset??0)?r:s}return r},this.date=(r,o="default")=>{if(r===null)return null;let s;return o==="UTC"?s=this.createUTCDate(r):o==="system"||o==="default"&&!this.hasTimezonePlugin()?s=this.createSystemDate(r):s=this.createTZDate(r,o),this.locale===void 0?s:s.locale(this.locale)},this.getInvalidDate=()=>We(new Date("Invalid date")),this.getTimezone=r=>{var o;if(this.hasTimezonePlugin()){const s=(o=r.$x)==null?void 0:o.$timezone;if(s)return s}return this.hasUTCPlugin()&&r.isUTC()?"UTC":"system"},this.setTimezone=(r,o)=>{if(this.getTimezone(r)===o)return r;if(o==="UTC"){if(!this.hasUTCPlugin())throw new Error(ji);return r.utc()}if(o==="system")return r.local();if(!this.hasTimezonePlugin()){if(o==="default")return r;throw new Error(tu)}return We.tz(r,this.cleanTimezone(o))},this.toJsDate=r=>r.toDate(),this.parse=(r,o)=>r===""?null:this.dayjs(r,o,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=r=>{const o=this.getLocaleFormats(),s=i=>i.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(a,l,c)=>l||c.slice(1));return r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(i,a,l)=>{const c=l&&l.toUpperCase();return a||o[l]||s(o[c])})},this.isValid=r=>r==null?!1:r.isValid(),this.format=(r,o)=>this.formatByString(r,this.formats[o]),this.formatByString=(r,o)=>this.dayjs(r).format(o),this.formatNumber=r=>r,this.isEqual=(r,o)=>r===null&&o===null?!0:r===null||o===null?!1:r.toDate().getTime()===o.toDate().getTime(),this.isSameYear=(r,o)=>this.isSame(r,o,"YYYY"),this.isSameMonth=(r,o)=>this.isSame(r,o,"YYYY-MM"),this.isSameDay=(r,o)=>this.isSame(r,o,"YYYY-MM-DD"),this.isSameHour=(r,o)=>r.isSame(o,"hour"),this.isAfter=(r,o)=>r>o,this.isAfterYear=(r,o)=>this.hasUTCPlugin()?!this.isSameYear(r,o)&&r.utc()>o.utc():r.isAfter(o,"year"),this.isAfterDay=(r,o)=>this.hasUTCPlugin()?!this.isSameDay(r,o)&&r.utc()>o.utc():r.isAfter(o,"day"),this.isBefore=(r,o)=>r<o,this.isBeforeYear=(r,o)=>this.hasUTCPlugin()?!this.isSameYear(r,o)&&r.utc()<o.utc():r.isBefore(o,"year"),this.isBeforeDay=(r,o)=>this.hasUTCPlugin()?!this.isSameDay(r,o)&&r.utc()<o.utc():r.isBefore(o,"day"),this.isWithinRange=(r,[o,s])=>r>=o&&r<=s,this.startOfYear=r=>this.adjustOffset(r.startOf("year")),this.startOfMonth=r=>this.adjustOffset(r.startOf("month")),this.startOfWeek=r=>this.adjustOffset(r.startOf("week")),this.startOfDay=r=>this.adjustOffset(r.startOf("day")),this.endOfYear=r=>this.adjustOffset(r.endOf("year")),this.endOfMonth=r=>this.adjustOffset(r.endOf("month")),this.endOfWeek=r=>this.adjustOffset(r.endOf("week")),this.endOfDay=r=>this.adjustOffset(r.endOf("day")),this.addYears=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"year"):r.add(o,"year")),this.addMonths=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"month"):r.add(o,"month")),this.addWeeks=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"week"):r.add(o,"week")),this.addDays=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"day"):r.add(o,"day")),this.addHours=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"hour"):r.add(o,"hour")),this.addMinutes=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"minute"):r.add(o,"minute")),this.addSeconds=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"second"):r.add(o,"second")),this.getYear=r=>r.year(),this.getMonth=r=>r.month(),this.getDate=r=>r.date(),this.getHours=r=>r.hour(),this.getMinutes=r=>r.minute(),this.getSeconds=r=>r.second(),this.getMilliseconds=r=>r.millisecond(),this.setYear=(r,o)=>this.adjustOffset(r.set("year",o)),this.setMonth=(r,o)=>this.adjustOffset(r.set("month",o)),this.setDate=(r,o)=>this.adjustOffset(r.set("date",o)),this.setHours=(r,o)=>this.adjustOffset(r.set("hour",o)),this.setMinutes=(r,o)=>this.adjustOffset(r.set("minute",o)),this.setSeconds=(r,o)=>this.adjustOffset(r.set("second",o)),this.setMilliseconds=(r,o)=>this.adjustOffset(r.set("millisecond",o)),this.getDaysInMonth=r=>r.daysInMonth(),this.getWeekArray=r=>{const o=this.setLocaleToValue(r),s=this.startOfWeek(this.startOfMonth(o)),i=this.endOfWeek(this.endOfMonth(o));let a=0,l=s;const c=[];for(;l<i;){const u=Math.floor(a/7);c[u]=c[u]||[],c[u].push(l),l=this.addDays(l,1),a+=1}return c},this.getWeekNumber=r=>r.week(),this.getYearRange=([r,o])=>{const s=this.startOfYear(r),i=this.endOfYear(o),a=[];let l=s;for(;this.isBefore(l,i);)a.push(l),l=this.addYears(l,1);return a},this.dayjs=Fb(We,e),this.locale=e,this.formats=y({},Ob,n),We.extend(Pb)}getDayOfWeek(e){return e.day()+1}}const dh=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:y({},t)}}}}),hh={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,n)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${n.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},Nb=hh,fh=dh(hh),Un=()=>{const t=v.useContext(ua);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=v.useMemo(()=>y({},Nb,t.localeText),[t.localeText]);return v.useMemo(()=>y({},t,{localeText:e}),[t,e])},Fe=()=>Un().utils,No=()=>Un().defaultDates,sn=()=>Un().localeText,Gs=t=>{const e=Fe(),n=v.useRef();return n.current===void 0&&(n.current=e.date(void 0,t)),n.current},Lb=Gt(w.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),$b=Gt(w.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Bb=Gt(w.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),jb=Gt(w.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");Gt(w.jsxs(v.Fragment,{children:[w.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),w.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");Gt(w.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");Gt(w.jsxs(v.Fragment,{children:[w.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),w.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const Ub=Gt(w.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function zb(t){return Ie("MuiPickersArrowSwitcher",t)}Ee("MuiPickersArrowSwitcher",["root","spacer","button"]);const Wb=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],Hb=["ownerState"],qb=["ownerState"],Yb=K("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),Kb=K("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),nu=K(Os,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),Gb=t=>{const{classes:e}=t;return Te({root:["root"],spacer:["spacer"],button:["button"]},zb,e)},Qb=v.forwardRef(function(e,n){const o=Qt().direction==="rtl",s=ge({props:e,name:"MuiPickersArrowSwitcher"}),{children:i,className:a,slots:l,slotProps:c,isNextDisabled:u,isNextHidden:d,onGoToNext:h,nextLabel:f,isPreviousDisabled:m,isPreviousHidden:g,onGoToPrevious:p,previousLabel:b}=s,_=oe(s,Wb),E=s,T=Gb(E),I={isDisabled:u,isHidden:d,goTo:h,label:f},D={isDisabled:m,isHidden:g,goTo:p,label:b},x=(l==null?void 0:l.previousIconButton)??nu,M=xe({elementType:x,externalSlotProps:c==null?void 0:c.previousIconButton,additionalProps:{size:"medium",title:D.label,"aria-label":D.label,disabled:D.isDisabled,edge:"end",onClick:D.goTo},ownerState:y({},E,{hidden:D.isHidden}),className:T.button}),j=(l==null?void 0:l.nextIconButton)??nu,$=xe({elementType:j,externalSlotProps:c==null?void 0:c.nextIconButton,additionalProps:{size:"medium",title:I.label,"aria-label":I.label,disabled:I.isDisabled,edge:"start",onClick:I.goTo},ownerState:y({},E,{hidden:I.isHidden}),className:T.button}),S=(l==null?void 0:l.leftArrowIcon)??$b,F=xe({elementType:S,externalSlotProps:c==null?void 0:c.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),k=oe(F,Hb),R=(l==null?void 0:l.rightArrowIcon)??Bb,C=xe({elementType:R,externalSlotProps:c==null?void 0:c.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),A=oe(C,qb);return w.jsxs(Yb,y({ref:n,className:ye(T.root,a),ownerState:E},_,{children:[w.jsx(x,y({},M,{children:o?w.jsx(R,y({},A)):w.jsx(S,y({},k))})),i?w.jsx(_n,{variant:"subtitle1",component:"span",children:i}):w.jsx(Kb,{className:T.spacer,ownerState:E}),w.jsx(j,y({},$,{children:o?w.jsx(S,y({},k)):w.jsx(R,y({},A))}))]}))}),zr=(t,e)=>t.length!==e.length?!1:e.every(n=>t.includes(n)),Xb=({openTo:t,defaultOpenTo:e,views:n,defaultViews:r})=>{const o=n??r;let s;if(t!=null)s=t;else if(o.includes(e))s=e;else if(o.length>0)s=o[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:o,openTo:s}},Zb=["hours","minutes","seconds"],Jb=t=>Zb.includes(t),ru=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),ph=(t,e)=>(n,r)=>t?e.isAfter(n,r):ru(n,e)>ru(r,e);function mh({onChange:t,onViewChange:e,openTo:n,view:r,views:o,autoFocus:s,focusedView:i,onFocusedViewChange:a}){const l=v.useRef(n),c=v.useRef(o),u=v.useRef(o.includes(n)?n:o[0]),[d,h]=en({name:"useViews",state:"view",controlled:r,default:u.current}),f=v.useRef(s?d:null),[m,g]=en({name:"useViews",state:"focusedView",controlled:i,default:f.current});v.useEffect(()=>{(l.current&&l.current!==n||c.current&&c.current.some(x=>!o.includes(x)))&&(h(o.includes(n)?n:o[0]),c.current=o,l.current=n)},[n,h,d,o]);const p=o.indexOf(d),b=o[p-1]??null,_=o[p+1]??null,E=le((x,M)=>{g(M?x:j=>x===j?null:j),a==null||a(x,M)}),T=le(x=>{E(x,!0),x!==d&&(h(x),e&&e(x))}),I=le(()=>{_&&T(_)}),D=le((x,M,j)=>{const $=M==="finish",S=j?o.indexOf(j)<o.length-1:!!_;if(t(x,$&&S?"partial":M,j),j&&j!==d){const k=o[o.indexOf(j)+1];k&&T(k)}else $&&I()});return{view:d,setView:T,focusedView:m,setFocusedView:E,nextView:_,previousView:b,defaultView:o.includes(n)?n:o[0],goToNextView:I,setValueAndGoToNextView:D}}function ew(t,{disableFuture:e,maxDate:n,timezone:r}){const o=Fe();return v.useMemo(()=>{const s=o.date(void 0,r),i=o.startOfMonth(e&&o.isBefore(s,n)?s:n);return!o.isAfter(i,t)},[e,n,t,o,r])}function tw(t,{disablePast:e,minDate:n,timezone:r}){const o=Fe();return v.useMemo(()=>{const s=o.date(void 0,r),i=o.startOfMonth(e&&o.isAfter(s,n)?s:n);return!o.isBefore(i,t)},[e,n,t,o,r])}const po=36,Qs=2,Xs=320,nw=280,pl=336,rw=K("div")({overflow:"hidden",width:Xs,maxHeight:pl,display:"flex",flexDirection:"column",margin:"0 auto"}),ys=(t,e,n)=>{let r=e;return r=t.setHours(r,t.getHours(n)),r=t.setMinutes(r,t.getMinutes(n)),r=t.setSeconds(r,t.getSeconds(n)),r},so=({date:t,disableFuture:e,disablePast:n,maxDate:r,minDate:o,isDateDisabled:s,utils:i,timezone:a})=>{const l=ys(i,i.date(void 0,a),t);n&&i.isBefore(o,l)&&(o=l),e&&i.isAfter(r,l)&&(r=l);let c=t,u=t;for(i.isBefore(t,o)&&(c=o,u=null),i.isAfter(t,r)&&(u&&(u=r),c=null);c||u;){if(c&&i.isAfter(c,r)&&(c=null),u&&i.isBefore(u,o)&&(u=null),c){if(!s(c))return c;c=i.addDays(c,1)}if(u){if(!s(u))return u;u=i.addDays(u,-1)}}return null},ow=(t,e)=>e==null||!t.isValid(e)?null:e,Dt=(t,e,n)=>e==null||!t.isValid(e)?n:e,sw=(t,e,n)=>!t.isValid(e)&&e!=null&&!t.isValid(n)&&n!=null?!0:t.isEqual(e,n),ml=(t,e)=>{const r=[t.startOfYear(e)];for(;r.length<12;){const o=r[r.length-1];r.push(t.addMonths(o,1))}return r},gh=(t,e,n)=>n==="date"?t.startOfDay(t.date(void 0,e)):t.date(void 0,e),iw=["year","month","day"],ou=t=>iw.includes(t),gl=(t,{format:e,views:n},r)=>{if(e!=null)return e;const o=t.formats;return zr(n,["year"])?o.year:zr(n,["month"])?o.month:zr(n,["day"])?o.dayOfMonth:zr(n,["month","year"])?`${o.month} ${o.year}`:zr(n,["day","month"])?`${o.month} ${o.dayOfMonth}`:r?/en/.test(t.getCurrentLocaleCode())?o.normalDateWithWeekday:o.normalDate:o.keyboardDate},aw=(t,e)=>{const n=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(r=>t.addDays(n,r))},yl=({timezone:t,value:e,defaultValue:n,onChange:r,valueManager:o})=>{const s=Fe(),i=v.useRef(n),a=e??i.current??o.emptyValue,l=v.useMemo(()=>o.getTimezone(s,a),[s,o,a]),c=le(f=>l==null?f:o.setTimezone(s,l,f)),u=t??l??"default",d=v.useMemo(()=>o.setTimezone(s,u,a),[o,s,u,a]),h=le((f,...m)=>{const g=c(f);r==null||r(g,...m)});return{value:d,handleValueChange:h,timezone:u}},vl=({name:t,timezone:e,value:n,defaultValue:r,onChange:o,valueManager:s})=>{const[i,a]=en({name:t,state:"value",controlled:n,default:r??s.emptyValue}),l=le((c,...u)=>{a(c),o==null||o(c,...u)});return yl({timezone:e,value:i,defaultValue:void 0,onChange:l,valueManager:s})},Ft={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},lw=t=>Math.max(...t.map(e=>Ft[e.type]??1)),Wr=(t,e,n)=>{if(e===Ft.year)return t.startOfYear(n);if(e===Ft.month)return t.startOfMonth(n);if(e===Ft.day)return t.startOfDay(n);let r=n;return e<Ft.minutes&&(r=t.setMinutes(r,0)),e<Ft.seconds&&(r=t.setSeconds(r,0)),e<Ft.milliseconds&&(r=t.setMilliseconds(r,0)),r},cw=({props:t,utils:e,granularity:n,timezone:r,getTodayDate:o})=>{let s=o?o():Wr(e,n,gh(e,r));t.minDate!=null&&e.isAfterDay(t.minDate,s)&&(s=Wr(e,n,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,s)&&(s=Wr(e,n,t.maxDate));const i=ph(t.disableIgnoringDatePartForTimeValidation??!1,e);return t.minTime!=null&&i(t.minTime,s)&&(s=Wr(e,n,t.disableIgnoringDatePartForTimeValidation?t.minTime:ys(e,s,t.minTime))),t.maxTime!=null&&i(s,t.maxTime)&&(s=Wr(e,n,t.disableIgnoringDatePartForTimeValidation?t.maxTime:ys(e,s,t.maxTime))),s},yh=(t,e)=>{const n=t.formatTokenMap[e];if(n==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof n=="string"?{type:n,contentType:n==="meridiem"?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},uw=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},Zs=(t,e,n)=>{const r=[],o=t.date(void 0,e),s=t.startOfWeek(o),i=t.endOfWeek(o);let a=s;for(;t.isBefore(a,i);)r.push(a),a=t.addDays(a,1);return r.map(l=>t.formatByString(l,n))},vh=(t,e,n,r)=>{switch(n){case"month":return ml(t,t.date(void 0,e)).map(o=>t.formatByString(o,r));case"weekDay":return Zs(t,e,r);case"meridiem":{const o=t.date(void 0,e);return[t.startOfDay(o),t.endOfDay(o)].map(s=>t.formatByString(s,r))}default:return[]}},su="s",dw=["0","1","2","3","4","5","6","7","8","9"],hw=t=>{const e=t.date(void 0);return t.formatByString(t.setSeconds(e,0),su)==="0"?dw:Array.from({length:10}).map((r,o)=>t.formatByString(t.setSeconds(e,o),su))},Fn=(t,e)=>{if(e[0]==="0")return t;const n=[];let r="";for(let o=0;o<t.length;o+=1){r+=t[o];const s=e.indexOf(r);s>-1&&(n.push(s.toString()),r="")}return n.join("")},_l=(t,e)=>e[0]==="0"?t:t.split("").map(n=>e[Number(n)]).join(""),iu=(t,e)=>{const n=Fn(t,e);return!Number.isNaN(Number(n))},_h=(t,e)=>{let n=t;for(n=Number(n).toString();n.length<e;)n=`0${n}`;return n},bh=(t,e,n,r,o)=>{if(o.type==="day"&&o.contentType==="digit-with-letter"){const i=t.setDate(n.longestMonth,e);return t.formatByString(i,o.format)}let s=e.toString();return o.hasLeadingZerosInInput&&(s=_h(s,o.maxLength)),_l(s,r)},fw=(t,e,n,r,o,s,i,a)=>{const l=uw(r),c=r==="Home",u=r==="End",d=n.value===""||c||u,h=()=>{const m=o[n.type]({currentDate:i,format:n.format,contentType:n.contentType}),g=E=>bh(t,E,m,s,n),p=n.type==="minutes"&&(a!=null&&a.minutesStep)?a.minutesStep:1;let _=parseInt(Fn(n.value,s),10)+l*p;if(d){if(n.type==="year"&&!u&&!c)return t.formatByString(t.date(void 0,e),n.format);l>0||c?_=m.minimum:_=m.maximum}return _%p!==0&&((l<0||c)&&(_+=p-(p+_)%p),(l>0||u)&&(_-=_%p)),_>m.maximum?g(m.minimum+(_-m.maximum-1)%(m.maximum-m.minimum+1)):_<m.minimum?g(m.maximum-(m.minimum-_-1)%(m.maximum-m.minimum+1)):g(_)},f=()=>{const m=vh(t,e,n.type,n.format);if(m.length===0)return n.value;if(d)return l>0||c?m[0]:m[m.length-1];const p=(m.indexOf(n.value)+m.length+l)%m.length;return m[p]};return n.contentType==="digit"||n.contentType==="digit-with-letter"?h():f()},bl=(t,e,n)=>{let r=t.value||t.placeholder;const o=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(r=Number(Fn(r,n)).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!o&&r.length===1&&(r=`${r}`),e==="input-rtl"&&(r=`${r}`),r},au=(t,e,n,r)=>t.formatByString(t.parse(e,n),r),wh=(t,e,n)=>t.formatByString(t.date(void 0,e),n).length===4,Th=(t,e,n,r,o)=>{if(n!=="digit")return!1;const s=t.date(void 0,e);switch(r){case"year":return wh(t,e,o)?t.formatByString(t.setYear(s,1),o)==="0001":t.formatByString(t.setYear(s,2001),o)==="01";case"month":return t.formatByString(t.startOfYear(s),o).length>1;case"day":return t.formatByString(t.startOfMonth(s),o).length>1;case"weekDay":return t.formatByString(t.startOfWeek(s),o).length>1;case"hours":return t.formatByString(t.setHours(s,1),o).length>1;case"minutes":return t.formatByString(t.setMinutes(s,1),o).length>1;case"seconds":return t.formatByString(t.setSeconds(s,1),o).length>1;default:throw new Error("Invalid section type")}},pw=(t,e,n)=>{const r=e.some(l=>l.type==="day"),o=[],s=[];for(let l=0;l<e.length;l+=1){const c=e[l];r&&c.type==="weekDay"||(o.push(c.format),s.push(bl(c,"non-input",n)))}const i=o.join(" "),a=s.join(" ");return t.parse(a,i)},mw=t=>t.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),gw=(t,e,n)=>{const o=t.map(s=>{const i=bl(s,n?"input-rtl":"input-ltr",e);return`${s.startSeparator}${i}${s.endSeparator}`}).join("");return n?`${o}`:o},yw=(t,e,n)=>{const r=t.date(void 0,n),o=t.endOfYear(r),s=t.endOfDay(r),{maxDaysInMonth:i,longestMonth:a}=ml(t,r).reduce((l,c)=>{const u=t.getDaysInMonth(c);return u>l.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:c}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:wh(t,n,l)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(o)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&t.isValid(l)?t.getDaysInMonth(l):i,longestMonth:a}),weekDay:({format:l,contentType:c})=>{if(c==="digit"){const u=Zs(t,n,l).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const c=t.getHours(s);return Fn(t.formatByString(t.endOfDay(r),l),e)!==c.toString()?{minimum:1,maximum:Number(Fn(t.formatByString(t.startOfDay(r),l),e))}:{minimum:0,maximum:c}},minutes:()=>({minimum:0,maximum:t.getMinutes(s)}),seconds:()=>({minimum:0,maximum:t.getSeconds(s)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},vw=(t,e,n,r,o)=>{switch(n.type){case"year":return t.setYear(o,t.getYear(r));case"month":return t.setMonth(o,t.getMonth(r));case"weekDay":{const s=Zs(t,e,n.format),i=t.formatByString(r,n.format),a=s.indexOf(i),c=s.indexOf(n.value)-a;return t.addDays(r,c)}case"day":return t.setDate(o,t.getDate(r));case"meridiem":{const s=t.getHours(r)<12,i=t.getHours(o);return s&&i>=12?t.addHours(o,-12):!s&&i<12?t.addHours(o,12):o}case"hours":return t.setHours(o,t.getHours(r));case"minutes":return t.setMinutes(o,t.getMinutes(r));case"seconds":return t.setSeconds(o,t.getSeconds(r));default:return o}},lu={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},cu=(t,e,n,r,o,s)=>[...r].sort((i,a)=>lu[i.type]-lu[a.type]).reduce((i,a)=>!s||a.modified?vw(t,e,a,n,i):i,o),_w=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,bw=(t,e)=>{const n={};if(!e)return t.forEach((l,c)=>{const u=c===0?null:c-1,d=c===t.length-1?null:c+1;n[c]={leftIndex:u,rightIndex:d}}),{neighbors:n,startIndex:0,endIndex:t.length-1};const r={},o={};let s=0,i=0,a=t.length-1;for(;a>=0;){i=t.findIndex((l,c)=>{var u;return c>=s&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),i===-1&&(i=t.length-1);for(let l=i;l>=s;l-=1)o[l]=a,r[a]=l,a-=1;s=i+1}return t.forEach((l,c)=>{const u=o[c],d=u===0?null:r[u-1],h=u===t.length-1?null:r[u+1];n[c]={leftIndex:d,rightIndex:h}}),{neighbors:n,startIndex:r[0],endIndex:r[t.length-1]}},da=(t,e)=>t==null?null:t==="all"?"all":typeof t=="string"?e.findIndex(n=>n.type===t):t,ww=(t,e)=>{if(t.value)switch(t.type){case"month":{if(t.contentType==="digit")return e.format(e.setMonth(e.date(),Number(t.value)-1),"month");const n=e.parse(t.value,t.format);return n?e.format(n,"month"):void 0}case"day":return t.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(t.value)),"dayOfMonthFull"):t.value;case"weekDay":return;default:return}},Tw=(t,e)=>{if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const n=e.parse(`01:00 ${t.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${t.format}`);return n?e.getHours(n)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const n=e.parse(t.value,t.format);return n?e.getMonth(n)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}},Ew=["value","referenceDate"],qt={emptyValue:null,getTodayValue:gh,getInitialReferenceValue:t=>{let{value:e,referenceDate:n}=t,r=oe(t,Ew);return e!=null&&r.utils.isValid(e)?e:n??cw(r)},cleanValue:ow,areValuesEqual:sw,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,n)=>n==null?null:t.setTimezone(n,e)},Eh={updateReferenceValue:(t,e,n)=>e==null||!t.isValid(e)?n:e,getSectionsFromValue:(t,e,n,r)=>!t.isValid(e)&&!!n?n:r(e),getV7HiddenInputValueFromSections:mw,getV6InputValueFromSections:gw,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:n=>n,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:n==null||!t.isValid(n)?e.referenceValue:n})}),parseValueStr:(t,e,n)=>n(t.trim(),e)};function Iw(t){return Ie("MuiPickersDay",t)}const xn=Ee("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Cw=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],Pw=t=>{const{selected:e,disableMargin:n,disableHighlightToday:r,today:o,disabled:s,outsideCurrentMonth:i,showDaysOutsideCurrentMonth:a,classes:l}=t,c=i&&!a;return Te({root:["root",e&&!c&&"selected",s&&"disabled",!n&&"dayWithMargin",!r&&o&&"today",i&&a&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Iw,l)},Ih=({theme:t})=>y({},t.typography.caption,{width:po,height:po,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:dr(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:dr(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${xn.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${xn.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${xn.disabled}:not(.${xn.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${xn.disabled}&.${xn.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Qs}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${xn.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),Ch=(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableMargin&&e.dayWithMargin,!n.disableHighlightToday&&n.today&&e.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},xw=K(ms,{name:"MuiPickersDay",slot:"Root",overridesResolver:Ch})(Ih),Sw=K("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Ch})(({theme:t})=>y({},Ih({theme:t}),{opacity:0,pointerEvents:"none"})),Hr=()=>{},Dw=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersDay"}),{autoFocus:o=!1,className:s,day:i,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:h,onFocus:f=Hr,onBlur:m=Hr,onKeyDown:g=Hr,onMouseDown:p=Hr,onMouseEnter:b=Hr,outsideCurrentMonth:_,selected:E=!1,showDaysOutsideCurrentMonth:T=!1,children:I,today:D=!1}=r,x=oe(r,Cw),M=y({},r,{autoFocus:o,disabled:a,disableHighlightToday:l,disableMargin:c,selected:E,showDaysOutsideCurrentMonth:T,today:D}),j=Pw(M),$=Fe(),S=v.useRef(null),F=Ye(S,n);Mt(()=>{o&&!a&&!u&&!_&&S.current.focus()},[o,a,u,_]);const k=C=>{p(C),_&&C.preventDefault()},R=C=>{a||h(i),_&&C.currentTarget.focus(),d&&d(C)};return _&&!T?w.jsx(Sw,{className:ye(j.root,j.hiddenDaySpacingFiller,s),ownerState:M,role:x.role}):w.jsx(xw,y({className:ye(j.root,s),ref:F,centerRipple:!0,disabled:a,tabIndex:E?0:-1,onKeyDown:C=>g(C,i),onFocus:C=>f(C,i),onBlur:C=>m(C,i),onMouseEnter:C=>b(C,i),onClick:R,onMouseDown:k},x,{ownerState:M,children:I||$.format(i,"dayOfMonth")}))}),Ph=v.memo(Dw);function xh(t,e,n,r){const{value:o,onError:s}=t,i=Un(),a=v.useRef(r),l=e({adapter:i,value:o,props:t});return v.useEffect(()=>{s&&!n(l,a.current)&&s(l,o),a.current=l},[n,s,a,l,o]),l}const Aw=({utils:t,format:e})=>{let n=10,r=e,o=t.expandFormat(e);for(;o!==r;)if(r=o,o=t.expandFormat(r),n-=1,n<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return o},Rw=({utils:t,expandedFormat:e})=>{const n=[],{start:r,end:o}=t.escapedCharacters,s=new RegExp(`(\\${r}[^\\${o}]*\\${o})+`,"g");let i=null;for(;i=s.exec(e);)n.push({start:i.index,end:s.lastIndex-1});return n},Mw=(t,e,n,r,o)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,e),o).length,format:o});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:o});case"day":return n.fieldDayPlaceholder({format:o});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:o});case"hours":return n.fieldHoursPlaceholder({format:o});case"minutes":return n.fieldMinutesPlaceholder({format:o});case"seconds":return n.fieldSecondsPlaceholder({format:o});case"meridiem":return n.fieldMeridiemPlaceholder({format:o});default:return o}},kw=({utils:t,timezone:e,date:n,shouldRespectLeadingZeros:r,localeText:o,localizedDigits:s,now:i,token:a,startSeparator:l})=>{if(a==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const c=yh(t,a),u=Th(t,e,c.contentType,c.type,a),d=r?u:c.contentType==="digit",h=n!=null&&t.isValid(n);let f=h?t.formatByString(n,a):"",m=null;if(d)if(u)m=f===""?t.formatByString(i,a).length:f.length;else{if(c.maxLength==null)throw new Error(`MUI X: The token ${a} should have a 'maxDigitNumber' property on it's adapter`);m=c.maxLength,h&&(f=_l(_h(Fn(f,s),m),s))}return y({},c,{format:a,maxLength:m,value:f,placeholder:Mw(t,e,o,c,a),hasLeadingZerosInFormat:u,hasLeadingZerosInInput:d,startSeparator:l,endSeparator:"",modified:!1})},Vw=t=>{var f;const{utils:e,expandedFormat:n,escapedParts:r}=t,o=e.date(void 0),s=[];let i="";const a=Object.keys(e.formatTokenMap).sort((m,g)=>g.length-m.length),l=/^([a-zA-Z]+)/,c=new RegExp(`^(${a.join("|")})*$`),u=new RegExp(`^(${a.join("|")})`),d=m=>r.find(g=>g.start<=m&&g.end>=m);let h=0;for(;h<n.length;){const m=d(h),g=m!=null,p=(f=l.exec(n.slice(h)))==null?void 0:f[1];if(!g&&p!=null&&c.test(p)){let b=p;for(;b.length>0;){const _=u.exec(b)[1];b=b.slice(_.length),s.push(kw(y({},t,{now:o,token:_,startSeparator:i}))),i=""}h+=p.length}else{const b=n[h];g&&(m==null?void 0:m.start)===h||(m==null?void 0:m.end)===h||(s.length===0?i+=b:s[s.length-1].endSeparator+=b),h+=1}}return s.length===0&&i.length>0&&s.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:i,endSeparator:"",modified:!1}),s},Ow=({isRTL:t,formatDensity:e,sections:n})=>n.map(r=>{const o=s=>{let i=s;return t&&i!==null&&i.includes(" ")&&(i=`${i}`),e==="spacious"&&["/",".","-"].includes(i)&&(i=` ${i} `),i};return r.startSeparator=o(r.startSeparator),r.endSeparator=o(r.endSeparator),r}),uu=t=>{let e=Aw(t);t.isRTL&&t.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const n=Rw(y({},t,{expandedFormat:e})),r=Vw(y({},t,{expandedFormat:e,escapedParts:n}));return Ow(y({},t,{sections:r}))},Fw=t=>{const e=Fe(),n=sn(),r=Un(),s=Qt().direction==="rtl",{valueManager:i,fieldValueManager:a,valueType:l,validator:c,internalProps:u,internalProps:{value:d,defaultValue:h,referenceDate:f,onChange:m,format:g,formatDensity:p="dense",selectedSections:b,onSelectedSectionsChange:_,shouldRespectLeadingZeros:E=!1,timezone:T,enableAccessibleFieldDOMStructure:I=!1}}=t,{timezone:D,value:x,handleValueChange:M}=yl({timezone:T,value:d,defaultValue:h,onChange:m,valueManager:i}),j=v.useMemo(()=>hw(e),[e]),$=v.useMemo(()=>yw(e,j,D),[e,j,D]),S=v.useCallback((B,U=null)=>a.getSectionsFromValue(e,B,U,X=>uu({utils:e,timezone:D,localeText:n,localizedDigits:j,format:g,date:X,formatDensity:p,shouldRespectLeadingZeros:E,enableAccessibleFieldDOMStructure:I,isRTL:s})),[a,g,n,j,s,E,e,p,D,I]),[F,k]=v.useState(()=>{const B=S(x),U={sections:B,value:x,referenceValue:i.emptyValue,tempValueStrAndroid:null},X=lw(B),te=i.getInitialReferenceValue({referenceDate:f,value:x,utils:e,props:u,granularity:X,timezone:D});return y({},U,{referenceValue:te})}),[R,C]=en({controlled:b,default:null,name:"useField",state:"selectedSections"}),A=B=>{C(B),_==null||_(B)},L=v.useMemo(()=>da(R,F.sections),[R,F.sections]),P=L==="all"?0:L,O=({value:B,referenceValue:U,sections:X})=>{if(k(H=>y({},H,{sections:X,value:B,referenceValue:U,tempValueStrAndroid:null})),i.areValuesEqual(e,F.value,B))return;const te={validationError:c({adapter:r,value:B,props:y({},u,{value:B,timezone:D})})};M(B,te)},z=(B,U)=>{const X=[...F.sections];return X[B]=y({},X[B],{value:U,modified:!0}),X},J=()=>{O({value:i.emptyValue,referenceValue:F.referenceValue,sections:S(i.emptyValue)})},W=()=>{if(P==null)return;const B=F.sections[P],U=a.getActiveDateManager(e,F,B),te=U.getSections(F.sections).filter(V=>V.value!=="").length===(B.value===""?0:1),H=z(P,""),ne=te?null:e.getInvalidDate(),Q=U.getNewValuesFromNewActiveDate(ne);O(y({},Q,{sections:H}))},G=B=>{const U=(H,ne)=>{const Q=e.parse(H,g);if(Q==null||!e.isValid(Q))return null;const V=uu({utils:e,timezone:D,localeText:n,localizedDigits:j,format:g,date:Q,formatDensity:p,shouldRespectLeadingZeros:E,enableAccessibleFieldDOMStructure:I,isRTL:s});return cu(e,D,Q,V,ne,!1)},X=a.parseValueStr(B,F.referenceValue,U),te=a.updateReferenceValue(e,X,F.referenceValue);O({value:X,referenceValue:te,sections:S(X,F.sections)})},se=({activeSection:B,newSectionValue:U,shouldGoToNextSection:X})=>{X&&P<F.sections.length-1&&A(P+1);const te=a.getActiveDateManager(e,F,B),H=z(P,U),ne=te.getSections(H),Q=pw(e,ne,j);let V,Z;if(Q!=null&&e.isValid(Q)){const re=cu(e,D,Q,ne,te.referenceDate,!0);V=te.getNewValuesFromNewActiveDate(re),Z=!0}else V=te.getNewValuesFromNewActiveDate(Q),Z=(Q!=null&&!e.isValid(Q))!=(te.date!=null&&!e.isValid(te.date));return Z?O(y({},V,{sections:H})):k(re=>y({},re,V,{sections:H,tempValueStrAndroid:null}))},ie=B=>k(U=>y({},U,{tempValueStrAndroid:B}));return v.useEffect(()=>{const B=S(F.value);k(U=>y({},U,{sections:B}))},[g,e.locale,s]),v.useEffect(()=>{let B;i.areValuesEqual(e,F.value,x)?B=i.getTimezone(e,F.value)!==i.getTimezone(e,x):B=!0,B&&k(U=>y({},U,{value:x,referenceValue:a.updateReferenceValue(e,x,U.referenceValue),sections:S(x)}))},[x]),{state:F,activeSectionIndex:P,parsedSelectedSections:L,setSelectedSections:A,clearValue:J,clearActiveSection:W,updateSectionValue:se,updateValueFromValueStr:G,setTempAndroidValueStr:ie,getSectionsFromValue:S,sectionsValueBoundaries:$,localizedDigits:j,timezone:D}},Nw=5e3,Gn=t=>t.saveQuery!=null,Lw=({sections:t,updateSectionValue:e,sectionsValueBoundaries:n,localizedDigits:r,setTempAndroidValueStr:o,timezone:s})=>{const i=Fe(),[a,l]=v.useState(null),c=le(()=>l(null));v.useEffect(()=>{var m;a!=null&&((m=t[a.sectionIndex])==null?void 0:m.type)!==a.sectionType&&c()},[t,a,c]),v.useEffect(()=>{if(a!=null){const m=setTimeout(()=>c(),Nw);return()=>{clearTimeout(m)}}return()=>{}},[a,c]);const u=({keyPressed:m,sectionIndex:g},p,b)=>{const _=m.toLowerCase(),E=t[g];if(a!=null&&(!b||b(a.value))&&a.sectionIndex===g){const I=`${a.value}${_}`,D=p(I,E);if(!Gn(D))return l({sectionIndex:g,value:I,sectionType:E.type}),D}const T=p(_,E);return Gn(T)&&!T.saveQuery?(c(),null):(l({sectionIndex:g,value:_,sectionType:E.type}),Gn(T)?null:T)},d=m=>{const g=(_,E,T)=>{const I=E.filter(D=>D.toLowerCase().startsWith(T));return I.length===0?{saveQuery:!1}:{sectionValue:I[0],shouldGoToNextSection:I.length===1}},p=(_,E,T,I)=>{const D=x=>vh(i,s,E.type,x);if(E.contentType==="letter")return g(E.format,D(E.format),_);if(T&&I!=null&&yh(i,T).contentType==="letter"){const x=D(T),M=g(T,x,_);return Gn(M)?{saveQuery:!1}:y({},M,{sectionValue:I(M.sectionValue,x)})}return{saveQuery:!1}};return u(m,(_,E)=>{switch(E.type){case"month":{const T=I=>au(i,I,i.formats.month,E.format);return p(_,E,i.formats.month,T)}case"weekDay":{const T=(I,D)=>D.indexOf(I).toString();return p(_,E,i.formats.weekday,T)}case"meridiem":return p(_,E);default:return{saveQuery:!1}}})},h=m=>{const g=(b,_)=>{const E=Fn(b,r),T=Number(E),I=n[_.type]({currentDate:null,format:_.format,contentType:_.contentType});if(T>I.maximum)return{saveQuery:!1};if(T<I.minimum)return{saveQuery:!0};const D=T*10>I.maximum||E.length===I.maximum.toString().length;return{sectionValue:bh(i,T,I,r,_),shouldGoToNextSection:D}};return u(m,(b,_)=>{if(_.contentType==="digit"||_.contentType==="digit-with-letter")return g(b,_);if(_.type==="month"){const E=Th(i,s,"digit","month","MM"),T=g(b,{type:_.type,format:"MM",hasLeadingZerosInFormat:E,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Gn(T))return T;const I=au(i,T.sectionValue,"MM",_.format);return y({},T,{sectionValue:I})}if(_.type==="weekDay"){const E=g(b,_);if(Gn(E))return E;const T=Zs(i,s,_.format)[Number(E.sectionValue)-1];return y({},E,{sectionValue:T})}return{saveQuery:!1}},b=>iu(b,r))};return{applyCharacterEditing:le(m=>{const g=t[m.sectionIndex],b=iu(m.keyPressed,r)?h(y({},m,{keyPressed:_l(m.keyPressed,r)})):d(m);if(b==null){o(null);return}e({activeSection:g,newSectionValue:b.sectionValue,shouldGoToNextSection:b.shouldGoToNextSection})}),resetCharacterQuery:c}};function $w(t,e){return Array.isArray(e)?e.every(n=>t.indexOf(n)!==-1):t.indexOf(e)!==-1}const Bw=(t,e)=>n=>{(n.key==="Enter"||n.key===" ")&&(t(n),n.preventDefault(),n.stopPropagation())},Et=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?Et(e.shadowRoot):e:null},jw="@media (pointer: fine)",Uw=t=>{const{internalProps:{disabled:e,readOnly:n=!1},forwardedProps:{sectionListRef:r,onBlur:o,onClick:s,onFocus:i,onInput:a,onPaste:l,focused:c,autoFocus:u=!1},fieldValueManager:d,applyCharacterEditing:h,resetCharacterQuery:f,setSelectedSections:m,parsedSelectedSections:g,state:p,clearActiveSection:b,clearValue:_,updateSectionValue:E,updateValueFromValueStr:T,sectionOrder:I,areAllSectionsEmpty:D,sectionsValueBoundaries:x}=t,M=v.useRef(null),j=Ye(r,M),$=sn(),S=Fe(),F=vn(),[k,R]=v.useState(!1),C=v.useMemo(()=>({syncSelectionToDOM:()=>{if(!M.current)return;const V=document.getSelection();if(!V)return;if(g==null){V.rangeCount>0&&M.current.getRoot().contains(V.getRangeAt(0).startContainer)&&V.removeAllRanges(),k&&M.current.getRoot().blur();return}if(!M.current.getRoot().contains(Et(document)))return;const Z=new window.Range;let re;g==="all"?re=M.current.getRoot():p.sections[g].type==="empty"?re=M.current.getSectionContainer(g):re=M.current.getSectionContent(g),Z.selectNodeContents(re),re.focus(),V.removeAllRanges(),V.addRange(Z)},getActiveSectionIndexFromDOM:()=>{const V=Et(document);return!V||!M.current||!M.current.getRoot().contains(V)?null:M.current.getSectionIndexFromDOMElement(V)},focusField:(V=0)=>{if(!M.current)return;const Z=da(V,p.sections);R(!0),M.current.getSectionContent(Z).focus()},setSelectedSections:V=>{if(!M.current)return;const Z=da(V,p.sections);R((Z==="all"?0:Z)!==null),m(V)},isFieldFocused:()=>{const V=Et(document);return!!M.current&&M.current.getRoot().contains(V)}}),[g,m,p.sections,k]),A=le(V=>{if(!M.current)return;const Z=p.sections[V];M.current.getSectionContent(V).innerHTML=Z.value||Z.placeholder,C.syncSelectionToDOM()}),L=le((V,...Z)=>{V.isDefaultPrevented()||!M.current||(R(!0),s==null||s(V,...Z),g==="all"?setTimeout(()=>{const re=document.getSelection().getRangeAt(0).startOffset;if(re===0){m(I.startIndex);return}let be=0,Ne=0;for(;Ne<re&&be<p.sections.length;){const ce=p.sections[be];be+=1,Ne+=`${ce.startSeparator}${ce.value||ce.placeholder}${ce.endSeparator}`.length}m(be-1)}):k?M.current.getRoot().contains(V.target)||m(I.startIndex):(R(!0),m(I.startIndex)))}),P=le(V=>{if(a==null||a(V),!M.current||g!=="all")return;const re=V.target.textContent??"";M.current.getRoot().innerHTML=p.sections.map(be=>`${be.startSeparator}${be.value||be.placeholder}${be.endSeparator}`).join(""),C.syncSelectionToDOM(),re.length===0||re.charCodeAt(0)===10?(f(),_(),m("all")):re.length>1?T(re):h({keyPressed:re,sectionIndex:0})}),O=le(V=>{if(l==null||l(V),n||g!=="all"){V.preventDefault();return}const Z=V.clipboardData.getData("text");V.preventDefault(),f(),T(Z)}),z=le((...V)=>{if(i==null||i(...V),k||!M.current)return;R(!0),M.current.getSectionIndexFromDOMElement(Et(document))!=null||m(I.startIndex)}),J=le((...V)=>{o==null||o(...V),setTimeout(()=>{if(!M.current)return;const Z=Et(document);!M.current.getRoot().contains(Z)&&(R(!1),m(null))})}),W=le(V=>Z=>{Z.isDefaultPrevented()||n||m(V)}),G=le(V=>{V.preventDefault()}),se=le(V=>()=>{n||m(V)}),ie=le(V=>{if(V.preventDefault(),n||typeof g!="number")return;const Z=p.sections[g],re=V.clipboardData.getData("text"),be=/^[a-zA-Z]+$/.test(re),Ne=/^[0-9]+$/.test(re),ce=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(re);Z.contentType==="letter"&&be||Z.contentType==="digit"&&Ne||Z.contentType==="digit-with-letter"&&ce?(f(),E({activeSection:Z,newSectionValue:re,shouldGoToNextSection:!0})):!be&&!Ne&&(f(),T(re))}),B=le(V=>{V.preventDefault(),V.dataTransfer.dropEffect="none"}),U=le(V=>{if(!M.current)return;const Z=V.target,re=Z.textContent??"",be=M.current.getSectionIndexFromDOMElement(Z),Ne=p.sections[be];if(n||!M.current){A(be);return}if(re.length===0){if(Ne.value===""){A(be);return}f(),b();return}h({keyPressed:re,sectionIndex:be}),A(be)});Mt(()=>{if(!(!k||!M.current)){if(g==="all")M.current.getRoot().focus();else if(typeof g=="number"){const V=M.current.getSectionContent(g);V&&V.focus()}}},[g,k]);const X=v.useMemo(()=>p.sections.reduce((V,Z)=>(V[Z.type]=x[Z.type]({currentDate:null,contentType:Z.contentType,format:Z.format}),V),{}),[x,p.sections]),te=g==="all",H=v.useMemo(()=>p.sections.map((V,Z)=>{const re=!te&&!e&&!n;return{container:{"data-sectionindex":Z,onClick:W(Z)},content:{tabIndex:te||Z>0?-1:0,contentEditable:!te&&!e&&!n,role:"spinbutton",id:`${F}-${V.type}`,"aria-labelledby":`${F}-${V.type}`,"aria-readonly":n,"aria-valuenow":Tw(V,S),"aria-valuemin":X[V.type].minimum,"aria-valuemax":X[V.type].maximum,"aria-valuetext":V.value?ww(V,S):$.empty,"aria-label":$[V.type],"aria-disabled":e,spellCheck:re?!1:void 0,autoCapitalize:re?"off":void 0,autoCorrect:re?"off":void 0,[parseInt(v.version,10)>=17?"enterKeyHint":"enterkeyhint"]:re?"next":void 0,children:V.value||V.placeholder,onInput:U,onPaste:ie,onFocus:se(Z),onDragOver:B,onMouseUp:G,inputMode:V.contentType==="letter"?"text":"numeric"},before:{children:V.startSeparator},after:{children:V.endSeparator}}}),[p.sections,se,ie,B,U,W,G,e,n,te,$,S,X,F]),ne=le(V=>{T(V.target.value)}),Q=v.useMemo(()=>D?"":d.getV7HiddenInputValueFromSections(p.sections),[D,p.sections,d]);return v.useEffect(()=>{if(M.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));u&&M.current&&M.current.getSectionContent(I.startIndex).focus()},[]),{interactions:C,returnedValue:{autoFocus:u,readOnly:n,focused:c??k,sectionListRef:j,onBlur:J,onClick:L,onFocus:z,onInput:P,onPaste:O,enableAccessibleFieldDOMStructure:!0,elements:H,tabIndex:g===0?-1:0,contentEditable:te,value:Q,onChange:ne,areAllSectionsEmpty:D}}},nr=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),zw=(t,e,n)=>{let r=0,o=n?1:0;const s=[];for(let i=0;i<t.length;i+=1){const a=t[i],l=bl(a,n?"input-rtl":"input-ltr",e),c=`${a.startSeparator}${l}${a.endSeparator}`,u=nr(c).length,d=c.length,h=nr(l),f=o+(h===""?0:l.indexOf(h[0]))+a.startSeparator.length,m=f+h.length;s.push(y({},a,{start:r,end:r+u,startInInput:f,endInInput:m})),r+=u,o+=d}return s},Ww=t=>{const n=Qt().direction==="rtl",r=v.useRef(),{forwardedProps:{onFocus:o,onClick:s,onPaste:i,onBlur:a,inputRef:l,placeholder:c},internalProps:{readOnly:u=!1},parsedSelectedSections:d,activeSectionIndex:h,state:f,fieldValueManager:m,valueManager:g,applyCharacterEditing:p,resetCharacterQuery:b,updateSectionValue:_,updateValueFromValueStr:E,clearActiveSection:T,clearValue:I,setTempAndroidValueStr:D,setSelectedSections:x,getSectionsFromValue:M,areAllSectionsEmpty:j,localizedDigits:$}=t,S=v.useRef(null),F=Ye(l,S),k=v.useMemo(()=>zw(f.sections,$,n),[f.sections,$,n]),R=v.useMemo(()=>({syncSelectionToDOM:()=>{if(!S.current)return;if(d==null){S.current.scrollLeft&&(S.current.scrollLeft=0);return}if(S.current!==Et(document))return;const B=S.current.scrollTop;if(d==="all")S.current.select();else{const U=k[d],X=U.type==="empty"?U.startInInput-U.startSeparator.length:U.startInInput,te=U.type==="empty"?U.endInInput+U.endSeparator.length:U.endInInput;(X!==S.current.selectionStart||te!==S.current.selectionEnd)&&S.current===Et(document)&&S.current.setSelectionRange(X,te)}S.current.scrollTop=B},getActiveSectionIndexFromDOM:()=>{var H;const B=S.current.selectionStart??0,U=S.current.selectionEnd??0,X=!!((H=S.current)!=null&&H.readOnly);if(B===0&&U===0||X)return null;const te=B<=k[0].startInInput?1:k.findIndex(ne=>ne.startInInput-ne.startSeparator.length>B);return te===-1?k.length-1:te-1},focusField:(B=0)=>{var U;(U=S.current)==null||U.focus(),x(B)},setSelectedSections:B=>x(B),isFieldFocused:()=>S.current===Et(document)}),[S,d,k,x]),C=()=>{if(u){x(null);return}const B=S.current.selectionStart??0;let U;B<=k[0].startInInput||B>=k[k.length-1].endInInput?U=1:U=k.findIndex(te=>te.startInInput-te.startSeparator.length>B);const X=U===-1?k.length-1:U-1;x(X)},A=le((...B)=>{o==null||o(...B);const U=S.current;clearTimeout(r.current),r.current=setTimeout(()=>{!U||U!==S.current||h!=null||u||(U.value.length&&Number(U.selectionEnd)-Number(U.selectionStart)===U.value.length?x("all"):C())})}),L=le((B,...U)=>{B.isDefaultPrevented()||(s==null||s(B,...U),C())}),P=le(B=>{if(i==null||i(B),B.preventDefault(),u)return;const U=B.clipboardData.getData("text");if(typeof d=="number"){const X=f.sections[d],te=/^[a-zA-Z]+$/.test(U),H=/^[0-9]+$/.test(U),ne=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(U);if(X.contentType==="letter"&&te||X.contentType==="digit"&&H||X.contentType==="digit-with-letter"&&ne){b(),_({activeSection:X,newSectionValue:U,shouldGoToNextSection:!0});return}if(te||H)return}b(),E(U)}),O=le((...B)=>{a==null||a(...B),x(null)}),z=le(B=>{if(u)return;const U=B.target.value;if(U===""){b(),I();return}const X=B.nativeEvent.data,te=X&&X.length>1,H=te?X:U,ne=nr(H);if(h==null||te){E(te?X:ne);return}let Q;if(d==="all"&&ne.length===1)Q=ne;else{const V=nr(m.getV6InputValueFromSections(k,$,n));let Z=-1,re=-1;for(let he=0;he<V.length;he+=1)Z===-1&&V[he]!==ne[he]&&(Z=he),re===-1&&V[V.length-he-1]!==ne[ne.length-he-1]&&(re=he);const be=k[h];if(Z<be.start||V.length-re-1>be.end)return;const ce=ne.length-V.length+be.end-nr(be.endSeparator||"").length;Q=ne.slice(be.start+nr(be.startSeparator||"").length,ce)}if(Q.length===0){_w()?D(H):(b(),T());return}p({keyPressed:Q,sectionIndex:h})}),J=v.useMemo(()=>c||m.getV6InputValueFromSections(M(g.emptyValue),$,n),[c,m,M,g.emptyValue,$,n]),W=v.useMemo(()=>f.tempValueStrAndroid??m.getV6InputValueFromSections(f.sections,$,n),[f.sections,m,f.tempValueStrAndroid,$,n]);v.useEffect(()=>(S.current&&S.current===Et(document)&&x("all"),()=>{clearTimeout(r.current)}),[]);const G=v.useMemo(()=>h==null||f.sections[h].contentType==="letter"?"text":"numeric",[h,f.sections]),ie=!(S.current&&S.current===Et(document))&&j;return{interactions:R,returnedValue:{readOnly:u,onBlur:O,onClick:L,onFocus:A,onPaste:P,inputRef:F,enableAccessibleFieldDOMStructure:!1,placeholder:J,inputMode:G,autoComplete:"off",value:ie?"":W,onChange:z}}},Sh=t=>{const e=Fe(),{internalProps:n,internalProps:{unstableFieldRef:r,minutesStep:o,enableAccessibleFieldDOMStructure:s=!1,disabled:i=!1,readOnly:a=!1},forwardedProps:{onKeyDown:l,error:c,clearable:u,onClear:d},fieldValueManager:h,valueManager:f,validator:m}=t,p=Qt().direction==="rtl",b=Fw(t),{state:_,activeSectionIndex:E,parsedSelectedSections:T,setSelectedSections:I,clearValue:D,clearActiveSection:x,updateSectionValue:M,setTempAndroidValueStr:j,sectionsValueBoundaries:$,localizedDigits:S,timezone:F}=b,k=Lw({sections:_.sections,updateSectionValue:M,sectionsValueBoundaries:$,localizedDigits:S,setTempAndroidValueStr:j,timezone:F}),{resetCharacterQuery:R}=k,C=f.areValuesEqual(e,_.value,f.emptyValue),A=s?Uw:Ww,L=v.useMemo(()=>bw(_.sections,p&&!s),[_.sections,p,s]),{returnedValue:P,interactions:O}=A(y({},t,b,k,{areAllSectionsEmpty:C,sectionOrder:L})),z=le(B=>{switch(l==null||l(B),!0){case((B.ctrlKey||B.metaKey)&&B.key.toLowerCase()==="a"&&!B.shiftKey&&!B.altKey):{B.preventDefault(),I("all");break}case B.key==="Enter":{B.preventDefault();break}case B.key==="ArrowRight":{if(B.preventDefault(),T==null)I(L.startIndex);else if(T==="all")I(L.endIndex);else{const U=L.neighbors[T].rightIndex;U!==null&&I(U)}break}case B.key==="ArrowLeft":{if(B.preventDefault(),T==null)I(L.endIndex);else if(T==="all")I(L.startIndex);else{const U=L.neighbors[T].leftIndex;U!==null&&I(U)}break}case B.key==="Delete":{if(B.preventDefault(),a)break;T==null||T==="all"?D():x(),R();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(B.key):{if(B.preventDefault(),a||E==null)break;const U=_.sections[E],X=h.getActiveDateManager(e,_,U),te=fw(e,F,U,B.key,$,S,X.date,{minutesStep:o});M({activeSection:U,newSectionValue:te,shouldGoToNextSection:!1});break}}});Mt(()=>{O.syncSelectionToDOM()});const J=xh(y({},n,{value:_.value,timezone:F}),m,f.isSameError,f.defaultErrorState),W=v.useMemo(()=>c!==void 0?c:f.hasError(J),[f,J,c]);v.useEffect(()=>{!W&&E==null&&R()},[_.referenceValue,E,W]),v.useEffect(()=>{_.tempValueStrAndroid!=null&&E!=null&&(R(),x())},[_.sections]),v.useImperativeHandle(r,()=>({getSections:()=>_.sections,getActiveSectionIndex:O.getActiveSectionIndexFromDOM,setSelectedSections:O.setSelectedSections,focusField:O.focusField,isFieldFocused:O.isFieldFocused}));const G=le((B,...U)=>{B.preventDefault(),d==null||d(B,...U),D(),O.isFieldFocused()?I(L.startIndex):O.focusField(0)}),se={onKeyDown:z,onClear:G,error:W,clearable:!!(u&&!C&&!a&&!i)},ie={disabled:i,readOnly:a};return y({},t.forwardedProps,se,ie,P)},Js=({props:t,value:e,adapter:n})=>{if(e===null)return null;const{shouldDisableDate:r,shouldDisableMonth:o,shouldDisableYear:s,disablePast:i,disableFuture:a,timezone:l}=t,c=n.utils.date(void 0,l),u=Dt(n.utils,t.minDate,n.defaultDates.minDate),d=Dt(n.utils,t.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(e):return"invalidDate";case!!(r&&r(e)):return"shouldDisableDate";case!!(o&&o(e)):return"shouldDisableMonth";case!!(s&&s(e)):return"shouldDisableYear";case!!(a&&n.utils.isAfterDay(e,c)):return"disableFuture";case!!(i&&n.utils.isBeforeDay(e,c)):return"disablePast";case!!(u&&n.utils.isBeforeDay(e,u)):return"minDate";case!!(d&&n.utils.isAfterDay(e,d)):return"maxDate";default:return null}},ha=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],fa=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Dh=["minDateTime","maxDateTime"],Hw=[...ha,...fa,...Dh],Ah=t=>Hw.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{}),qw=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],Rh=(t,e)=>{const n=y({},t),r={},o=s=>{n.hasOwnProperty(s)&&(r[s]=n[s],delete n[s])};return qw.forEach(o),e==="date"?ha.forEach(o):e==="time"?fa.forEach(o):e==="date-time"&&(ha.forEach(o),fa.forEach(o),Dh.forEach(o)),{forwardedProps:n,internalProps:r}},Yw=t=>{const e=Fe(),n=No();return y({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??e.formats.keyboardDate,minDate:Dt(e,t.minDate,n.minDate),maxDate:Dt(e,t.maxDate,n.maxDate)})},Kw=t=>{const e=Fe(),r=t.ampm??e.is12HourCycleInCurrentLocale()?e.formats.fullTime12h:e.formats.fullTime24h;return y({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??r})},Gw=t=>{const e=Yw(t),{forwardedProps:n,internalProps:r}=Rh(e,"date");return Sh({forwardedProps:n,internalProps:r,valueManager:qt,fieldValueManager:Eh,validator:Js,valueType:"date"})},Qw=["clearable","onClear","InputProps","sx","slots","slotProps"],Xw=["ownerState"],Mh=t=>{const e=sn(),{clearable:n,onClear:r,InputProps:o,sx:s,slots:i,slotProps:a}=t,l=oe(t,Qw),c=(i==null?void 0:i.clearButton)??Os,u=xe({elementType:c,externalSlotProps:a==null?void 0:a.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),d=oe(u,Xw),h=(i==null?void 0:i.clearIcon)??Ub,f=xe({elementType:h,externalSlotProps:a==null?void 0:a.clearIcon,ownerState:{}});return y({},l,{InputProps:y({},o,{endAdornment:w.jsxs(v.Fragment,{children:[n&&w.jsx(Xd,{position:"end",sx:{marginRight:o!=null&&o.endAdornment?-1:-1.5},children:w.jsx(c,y({},d,{onClick:r,children:w.jsx(h,y({fontSize:"small"},f))}))}),o==null?void 0:o.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(s)?s:[s]]})};function Zw(t){return Ie("MuiPickersTextField",t)}Ee("MuiPickersTextField",["root","focused","disabled","error","required"]);function Jw(t){return Ie("MuiPickersInputBase",t)}const or=Ee("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function eT(t){return Ie("MuiPickersSectionList",t)}const qr=Ee("MuiPickersSectionList",["root","section","sectionContent"]),tT=["slots","slotProps","elements","sectionListRef"],kh=K("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(t,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),Vh=K("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(t,e)=>e.section})({}),Oh=K("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(t,e)=>e.sectionSeparator})({whiteSpace:"pre"}),Fh=K("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(t,e)=>e.sectionContent})({outline:"none"}),nT=t=>{const{classes:e}=t;return Te({root:["root"],section:["section"],sectionContent:["sectionContent"]},eT,e)};function rT(t){const{slots:e,slotProps:n,element:r,classes:o}=t,s=(e==null?void 0:e.section)??Vh,i=xe({elementType:s,externalSlotProps:n==null?void 0:n.section,externalForwardedProps:r.container,className:o.section,ownerState:{}}),a=(e==null?void 0:e.sectionContent)??Fh,l=xe({elementType:a,externalSlotProps:n==null?void 0:n.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:o.sectionContent,ownerState:{}}),c=(e==null?void 0:e.sectionSeparator)??Oh,u=xe({elementType:c,externalSlotProps:n==null?void 0:n.sectionSeparator,externalForwardedProps:r.before,ownerState:{position:"before"}}),d=xe({elementType:c,externalSlotProps:n==null?void 0:n.sectionSeparator,externalForwardedProps:r.after,ownerState:{position:"after"}});return w.jsxs(s,y({},i,{children:[w.jsx(c,y({},u)),w.jsx(a,y({},l)),w.jsx(c,y({},d))]}))}const oT=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersSectionList"}),{slots:o,slotProps:s,elements:i,sectionListRef:a}=r,l=oe(r,tT),c=nT(r),u=v.useRef(null),d=Ye(n,u),h=g=>{if(!u.current)throw new Error(`MUI X: Cannot call sectionListRef.${g} before the mount of the component.`);return u.current};v.useImperativeHandle(a,()=>({getRoot(){return h("getRoot")},getSectionContainer(g){return h("getSectionContainer").querySelector(`.${qr.section}[data-sectionindex="${g}"]`)},getSectionContent(g){return h("getSectionContent").querySelector(`.${qr.section}[data-sectionindex="${g}"] .${qr.sectionContent}`)},getSectionIndexFromDOMElement(g){const p=h("getSectionIndexFromDOMElement");if(g==null||!p.contains(g))return null;let b=null;return g.classList.contains(qr.section)?b=g:g.classList.contains(qr.sectionContent)&&(b=g.parentElement),b==null?null:Number(b.dataset.sectionindex)}}));const f=(o==null?void 0:o.root)??kh,m=xe({elementType:f,externalSlotProps:s==null?void 0:s.root,externalForwardedProps:l,additionalProps:{ref:d,suppressContentEditableWarning:!0},className:c.root,ownerState:{}});return w.jsx(f,y({},m,{children:m.contentEditable?i.map(({content:g,before:p,after:b})=>`${p.children}${g.children}${b.children}`).join(""):w.jsx(v.Fragment,{children:i.map((g,p)=>w.jsx(rT,{slots:o,slotProps:s,element:g,classes:c},p))})}))}),sT=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],iT=t=>Math.round(t*1e5)/1e5,ei=K("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>y({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${iT(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),wl=K(kh,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})(({theme:t})=>y({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px"},t.direction==="rtl"&&{textAlign:"right /*! @noflip */"},{variants:[{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:n,filled:r,label:o})=>!e&&!n&&!r&&o==null,style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),aT=K(Vh,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(t,e)=>e.section})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),lT=K(Fh,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,e)=>e.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),cT=K(Oh,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(t,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),uT=K("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,e)=>e.hiddenInput})(y({},fg)),dT=t=>{const{focused:e,disabled:n,error:r,classes:o,fullWidth:s,readOnly:i,color:a,size:l,endAdornment:c,startAdornment:u}=t,d={root:["root",e&&!n&&"focused",n&&"disabled",i&&"readOnly",r&&"error",s&&"fullWidth",`color${ue(a)}`,l==="small"&&"inputSizeSmall",!!u&&"adornedStart",!!c&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return Te(d,Jw,o)},Tl=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersInputBase"}),{elements:o,areAllSectionsEmpty:s,value:i,onChange:a,id:l,endAdornment:c,startAdornment:u,renderSuffix:d,slots:h,slotProps:f,contentEditable:m,tabIndex:g,onInput:p,onPaste:b,onKeyDown:_,name:E,readOnly:T,inputProps:I,inputRef:D,sectionListRef:x}=r,M=oe(r,sT),j=v.useRef(null),$=Ye(n,j),S=Ye(I==null?void 0:I.ref,D),F=Sr();if(!F)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const k=O=>{var z;if(F.disabled){O.stopPropagation();return}(z=F.onFocus)==null||z.call(F,O)};v.useEffect(()=>{F&&F.setAdornedStart(!!u)},[F,u]),v.useEffect(()=>{F&&(s?F.onEmpty():F.onFilled())},[F,s]);const R=y({},r,F),C=dT(R),A=(h==null?void 0:h.root)||ei,L=xe({elementType:A,externalSlotProps:f==null?void 0:f.root,externalForwardedProps:M,additionalProps:{"aria-invalid":F.error,ref:$},className:C.root,ownerState:R}),P=(h==null?void 0:h.input)||wl;return w.jsxs(A,y({},L,{children:[u,w.jsx(oT,{sectionListRef:x,elements:o,contentEditable:m,tabIndex:g,className:C.sectionsContainer,onFocus:k,onBlur:F.onBlur,onInput:p,onPaste:b,onKeyDown:_,slots:{root:P,section:aT,sectionContent:lT,sectionSeparator:cT},slotProps:{root:{ownerState:R},sectionContent:{className:or.sectionContent},sectionSeparator:({position:O})=>({className:O==="before"?or.sectionBefore:or.sectionAfter})}}),c,d?d(y({},F)):null,w.jsx(uT,y({name:E,className:C.input,value:i,onChange:a,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:T,required:F.required,disabled:F.disabled},I,{ref:S}))]}))});function hT(t){return Ie("MuiPickersOutlinedInput",t)}const Rt=y({},or,Ee("MuiPickersOutlinedInput",["root","notchedOutline","input"])),fT=["children","className","label","notched","shrink"],pT=K("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),du=K("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),mT=K("legend")(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function gT(t){const{className:e,label:n}=t,r=oe(t,fT),o=n!=null&&n!=="",s=y({},t,{withLabel:o});return w.jsx(pT,y({"aria-hidden":!0,className:e},r,{ownerState:s,children:w.jsx(mT,{ownerState:s,children:o?w.jsx(du,{children:n}):w.jsx(du,{className:"notranslate",children:""})})}))}const yT=["label","autoFocus","ownerState","notched"],vT=K(ei,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Rt.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Rt.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Rt.focused} .${Rt.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${Rt.disabled}`]:{[`& .${Rt.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${Rt.error} .${Rt.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(n=>(t.vars??t).palette[n].main).map(n=>({props:{color:n},style:{[`&.${Rt.focused}:not(.${Rt.error}) .${Rt.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}}))}}),_T=K(wl,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),bT=t=>{const{classes:e}=t,r=Te({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},hT,e);return y({},e,r)},Nh=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersOutlinedInput"}),{label:o,ownerState:s,notched:i}=r,a=oe(r,yT),l=Sr(),c=y({},r,s,l,{color:(l==null?void 0:l.color)||"primary"}),u=bT(c);return w.jsx(Tl,y({slots:{root:vT,input:_T},renderSuffix:d=>w.jsx(gT,{shrink:!!(i||d.adornedStart||d.focused||d.filled),notched:!!(i||d.adornedStart||d.focused||d.filled),className:u.notchedOutline,label:o!=null&&o!==""&&(l!=null&&l.required)?w.jsxs(v.Fragment,{children:[o,"","*"]}):o,ownerState:c})},a,{label:o,classes:u,ref:n}))});Nh.muiName="Input";function wT(t){return Ie("MuiPickersFilledInput",t)}const Sn=y({},or,Ee("MuiPickersFilledInput",["root","underline","input"])),TT=["label","autoFocus","disableUnderline","ownerState"],ET=K(ei,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Jm(t)&&t!=="disableUnderline"})(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Sn.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Sn.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[...Object.keys((t.vars??t).palette).filter(i=>(t.vars??t).palette[i].main).map(i=>{var a;return{props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[i])==null?void 0:a.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Sn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Sn.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Sn.disabled}, .${Sn.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Sn.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:i})=>!!i,style:{paddingLeft:12}},{props:({endAdornment:i})=>!!i,style:{paddingRight:12}}]}}),IT=K(wl,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:t})=>!!t,style:{paddingLeft:0}},{props:({endAdornment:t})=>!!t,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),CT=t=>{const{classes:e,disableUnderline:n}=t,o=Te({root:["root",!n&&"underline"],input:["input"]},wT,e);return y({},e,o)},Lh=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersFilledInput"}),{label:o,disableUnderline:s=!1,ownerState:i}=r,a=oe(r,TT),l=Sr(),c=y({},r,i,l,{color:(l==null?void 0:l.color)||"primary"}),u=CT(c);return w.jsx(Tl,y({slots:{root:ET,input:IT},slotProps:{root:{disableUnderline:s}}},a,{label:o,classes:u,ref:n}))});Lh.muiName="Input";function PT(t){return Ie("MuiPickersFilledInput",t)}const Yr=y({},or,Ee("MuiPickersInput",["root","input"])),xT=["label","autoFocus","disableUnderline","ownerState"],ST=K(ei,{name:"MuiPickersInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(r=>(t.vars??t).palette[r].main).map(r=>({props:{color:r},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Yr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Yr.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Yr.disabled}, .${Yr.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Yr.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),DT=t=>{const{classes:e,disableUnderline:n}=t,o=Te({root:["root",!n&&"underline"],input:["input"]},PT,e);return y({},e,o)},$h=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersInput"}),{label:o,disableUnderline:s=!1,ownerState:i}=r,a=oe(r,xT),l=Sr(),c=y({},r,i,l,{disableUnderline:s,color:(l==null?void 0:l.color)||"primary"}),u=DT(c);return w.jsx(Tl,y({slots:{root:ST}},a,{label:o,classes:u,ref:n}))});$h.muiName="Input";const AT=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],RT={standard:$h,filled:Lh,outlined:Nh},MT=K(Ka,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),kT=t=>{const{focused:e,disabled:n,classes:r,required:o}=t;return Te({root:["root",e&&!n&&"focused",n&&"disabled",o&&"required"]},Zw,r)},Bh=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersTextField"}),{onFocus:o,onBlur:s,className:i,color:a="primary",disabled:l=!1,error:c=!1,variant:u="outlined",required:d=!1,InputProps:h,inputProps:f,inputRef:m,sectionListRef:g,elements:p,areAllSectionsEmpty:b,onClick:_,onKeyDown:E,onPaste:T,onInput:I,endAdornment:D,startAdornment:x,tabIndex:M,contentEditable:j,focused:$,value:S,onChange:F,fullWidth:k,id:R,name:C,helperText:A,FormHelperTextProps:L,label:P,InputLabelProps:O}=r,z=oe(r,AT),J=v.useRef(null),W=Ye(n,J),G=vn(R),se=A&&G?`${G}-helper-text`:void 0,ie=P&&G?`${G}-label`:void 0,B=y({},r,{color:a,disabled:l,error:c,focused:$,required:d,variant:u}),U=kT(B),X=RT[u];return w.jsxs(MT,y({className:ye(U.root,i),ref:W,focused:$,onFocus:o,onBlur:s,disabled:l,variant:u,error:c,color:a,fullWidth:k,required:d,ownerState:B},z,{children:[w.jsx(Ga,y({htmlFor:G,id:ie},O,{children:P})),w.jsx(X,y({elements:p,areAllSectionsEmpty:b,onClick:_,onKeyDown:E,onInput:I,onPaste:T,endAdornment:D,startAdornment:x,tabIndex:M,contentEditable:j,value:S,onChange:F,id:G,fullWidth:k,inputProps:f,inputRef:m,sectionListRef:g,label:P,name:C,role:"group","aria-labelledby":ie},h)),A&&w.jsx(ko,y({id:se},L,{children:A}))]}))}),VT=["enableAccessibleFieldDOMStructure"],OT=["InputProps","readOnly"],FT=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],jh=t=>{let{enableAccessibleFieldDOMStructure:e}=t,n=oe(t,VT);if(e){const{InputProps:d,readOnly:h}=n,f=oe(n,OT);return y({},f,{InputProps:y({},d??{},{readOnly:h})})}const{onPaste:r,onKeyDown:o,inputMode:s,readOnly:i,InputProps:a,inputProps:l,inputRef:c}=n,u=oe(n,FT);return y({},u,{InputProps:y({},a??{},{readOnly:i}),inputProps:y({},l??{},{inputMode:s,onPaste:r,onKeyDown:o,ref:c})})},NT=["slots","slotProps","InputProps","inputProps"],Uh=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDateField"}),{slots:o,slotProps:s,InputProps:i,inputProps:a}=r,l=oe(r,NT),c=r,u=(o==null?void 0:o.textField)??(e.enableAccessibleFieldDOMStructure?Bh:rh),d=xe({elementType:u,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,additionalProps:{ref:n},ownerState:c});d.inputProps=y({},a,d.inputProps),d.InputProps=y({},i,d.InputProps);const h=Gw(d),f=jh(h),m=Mh(y({},f,{slots:o,slotProps:s}));return w.jsx(u,y({},m))}),LT=({adapter:t,value:e,props:n})=>{if(e===null)return null;const{minTime:r,maxTime:o,minutesStep:s,shouldDisableTime:i,disableIgnoringDatePartForTimeValidation:a=!1,disablePast:l,disableFuture:c,timezone:u}=n,d=t.utils.date(void 0,u),h=ph(a,t.utils);switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(r&&h(r,e)):return"minTime";case!!(o&&h(e,o)):return"maxTime";case!!(c&&t.utils.isAfter(e,d)):return"disableFuture";case!!(l&&t.utils.isBefore(e,d)):return"disablePast";case!!(i&&i(e,"hours")):return"shouldDisableTime-hours";case!!(i&&i(e,"minutes")):return"shouldDisableTime-minutes";case!!(i&&i(e,"seconds")):return"shouldDisableTime-seconds";case!!(s&&t.utils.getMinutes(e)%s!==0):return"minutesStep";default:return null}},$T=t=>{const e=Kw(t),{forwardedProps:n,internalProps:r}=Rh(e,"time");return Sh({forwardedProps:n,internalProps:r,valueManager:qt,fieldValueManager:Eh,validator:LT,valueType:"time"})},BT=["slots","slotProps","InputProps","inputProps"],jT=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTimeField"}),{slots:o,slotProps:s,InputProps:i,inputProps:a}=r,l=oe(r,BT),c=r,u=(o==null?void 0:o.textField)??(e.enableAccessibleFieldDOMStructure?Bh:rh),d=xe({elementType:u,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,ownerState:c,additionalProps:{ref:n}});d.inputProps=y({},a,d.inputProps),d.InputProps=y({},i,d.InputProps);const h=$T(d),f=jh(h),m=Mh(y({},f,{slots:o,slotProps:s}));return w.jsx(u,y({},m))}),zh=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:o,disableFuture:s,disablePast:i,timezone:a})=>{const l=Un();return v.useCallback(c=>Js({adapter:l,value:c,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:o,disableFuture:s,disablePast:i,timezone:a}})!==null,[l,t,e,n,r,o,s,i,a])},UT=(t,e,n)=>(r,o)=>{switch(o.type){case"changeMonth":return y({},r,{slideDirection:o.direction,currentMonth:o.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return y({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&o.focusedDay!=null&&n.isSameDay(o.focusedDay,r.focusedDay))return r;const s=o.focusedDay!=null&&!e&&!n.isSameMonth(r.currentMonth,o.focusedDay);return y({},r,{focusedDay:o.focusedDay,isMonthSwitchingAnimating:s&&!t&&!o.withoutMonthSwitchingAnimation,currentMonth:s?n.startOfMonth(o.focusedDay):r.currentMonth,slideDirection:o.focusedDay!=null&&n.isAfterDay(o.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},zT=t=>{const{value:e,referenceDate:n,disableFuture:r,disablePast:o,disableSwitchToMonthOnDayFocus:s=!1,maxDate:i,minDate:a,onMonthChange:l,reduceAnimations:c,shouldDisableDate:u,timezone:d}=t,h=Fe(),f=v.useRef(UT(!!c,s,h)).current,m=v.useMemo(()=>qt.getInitialReferenceValue({value:e,utils:h,timezone:d,props:t,referenceDate:n,granularity:Ft.day}),[]),[g,p]=v.useReducer(f,{isMonthSwitchingAnimating:!1,focusedDay:m,currentMonth:h.startOfMonth(m),slideDirection:"left"}),b=v.useCallback(D=>{p(y({type:"changeMonth"},D)),l&&l(D.newMonth)},[l]),_=v.useCallback(D=>{const x=D;h.isSameMonth(x,g.currentMonth)||b({newMonth:h.startOfMonth(x),direction:h.isAfterDay(x,g.currentMonth)?"left":"right"})},[g.currentMonth,b,h]),E=zh({shouldDisableDate:u,minDate:a,maxDate:i,disableFuture:r,disablePast:o,timezone:d}),T=v.useCallback(()=>{p({type:"finishMonthSwitchingAnimation"})},[]),I=le((D,x)=>{E(D)||p({type:"changeFocusedDay",focusedDay:D,withoutMonthSwitchingAnimation:x})});return{referenceDate:m,calendarState:g,changeMonth:_,changeFocusedDay:I,isDateDisabled:E,onMonthSwitchingAnimationEnd:T,handleChangeMonth:b}},WT=t=>Ie("MuiPickersFadeTransitionGroup",t);Ee("MuiPickersFadeTransitionGroup",["root"]);const HT=t=>{const{classes:e}=t;return Te({root:["root"]},WT,e)},qT=K(Td,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function Wh(t){const e=ge({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:o,transKey:s}=e,i=HT(e),a=Qt();return o?n:w.jsx(qT,{className:ye(i.root,r),children:w.jsx(Mo,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:n},s)})}const YT=t=>Ie("MuiPickersSlideTransition",t),Tt=Ee("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),KT=["children","className","reduceAnimations","slideDirection","transKey","classes"],GT=t=>{const{classes:e,slideDirection:n}=t,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return Te(r,YT,e)},QT=K(Td,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${Tt["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${Tt["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${Tt.slideEnterActive}`]:e.slideEnterActive},{[`.${Tt.slideExit}`]:e.slideExit},{[`.${Tt["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${Tt["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Tt["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Tt["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Tt.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${Tt.slideExit}`]:{transform:"translate(0%)"},[`& .${Tt["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${Tt["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function XT(t){const e=ge({props:t,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:o,transKey:s}=e,i=oe(e,KT),a=GT(e),l=Qt();if(o)return w.jsx("div",{className:ye(a.root,r),children:n});const c={exit:a.exit,enterActive:a.enterActive,enter:a.enter,exitActive:a.exitActive};return w.jsx(QT,{className:ye(a.root,r),childFactory:u=>v.cloneElement(u,{classNames:c}),role:"presentation",children:w.jsx(Za,y({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:c},i,{children:n}),s)})}const ZT=t=>Ie("MuiDayCalendar",t);Ee("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const JT=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],e0=["ownerState"],t0=t=>{const{classes:e}=t;return Te({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},ZT,e)},Hh=(po+Qs*2)*6,n0=K("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),r0=K("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),o0=K(_n,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),s0=K(_n,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),i0=K(_n,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>y({},t.typography.caption,{width:po,height:po,padding:0,margin:`0 ${Qs}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),a0=K("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Hh}),l0=K(XT,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:Hh}),c0=K("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),u0=K("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${Qs}px 0`,display:"flex",justifyContent:"center"});function d0(t){let{parentProps:e,day:n,focusableDay:r,selectedDays:o,isDateDisabled:s,currentMonthNumber:i,isViewFocused:a}=t,l=oe(t,JT);const{disabled:c,disableHighlightToday:u,isMonthSwitchingAnimating:d,showDaysOutsideCurrentMonth:h,slots:f,slotProps:m,timezone:g}=e,p=Fe(),b=Gs(g),_=r!==null&&p.isSameDay(n,r),E=o.some(F=>p.isSameDay(F,n)),T=p.isSameDay(n,b),I=(f==null?void 0:f.day)??Ph,D=xe({elementType:I,externalSlotProps:m==null?void 0:m.day,additionalProps:y({disableHighlightToday:u,showDaysOutsideCurrentMonth:h,role:"gridcell",isAnimating:d,"data-timestamp":p.toJsDate(n).valueOf()},l),ownerState:y({},e,{day:n,selected:E})}),x=oe(D,e0),M=v.useMemo(()=>c||s(n),[c,s,n]),j=v.useMemo(()=>p.getMonth(n)!==i,[p,n,i]),$=v.useMemo(()=>{const F=p.startOfMonth(p.setMonth(n,i));return h?p.isSameDay(n,p.startOfWeek(F)):p.isSameDay(n,F)},[i,n,h,p]),S=v.useMemo(()=>{const F=p.endOfMonth(p.setMonth(n,i));return h?p.isSameDay(n,p.endOfWeek(F)):p.isSameDay(n,F)},[i,n,h,p]);return w.jsx(I,y({},x,{day:n,disabled:M,autoFocus:a&&_,today:T,outsideCurrentMonth:j,isFirstVisibleCell:$,isLastVisibleCell:S,selected:E,tabIndex:_?0:-1,"aria-selected":E,"aria-current":T?"date":void 0}))}function h0(t){const e=ge({props:t,name:"MuiDayCalendar"}),n=Fe(),{onFocusedDayChange:r,className:o,currentMonth:s,selectedDays:i,focusedDay:a,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:u,readOnly:d,reduceAnimations:h,renderLoading:f=()=>w.jsx("span",{children:"..."}),slideDirection:m,TransitionProps:g,disablePast:p,disableFuture:b,minDate:_,maxDate:E,shouldDisableDate:T,shouldDisableMonth:I,shouldDisableYear:D,dayOfWeekFormatter:x=ce=>n.format(ce,"weekdayShort").charAt(0).toUpperCase(),hasFocus:M,onFocusedViewChange:j,gridLabelId:$,displayWeekNumber:S,fixedWeekNumber:F,autoFocus:k,timezone:R}=e,C=Gs(R),A=t0(e),P=Qt().direction==="rtl",O=zh({shouldDisableDate:T,shouldDisableMonth:I,shouldDisableYear:D,minDate:_,maxDate:E,disablePast:p,disableFuture:b,timezone:R}),z=sn(),[J,W]=en({name:"DayCalendar",state:"hasFocus",controlled:M,default:k??!1}),[G,se]=v.useState(()=>a||C),ie=le(ce=>{d||c(ce)}),B=ce=>{O(ce)||(r(ce),se(ce),j==null||j(!0),W(!0))},U=le((ce,he)=>{switch(ce.key){case"ArrowUp":B(n.addDays(he,-7)),ce.preventDefault();break;case"ArrowDown":B(n.addDays(he,7)),ce.preventDefault();break;case"ArrowLeft":{const Ae=n.addDays(he,P?1:-1),Me=n.addMonths(he,P?1:-1),at=so({utils:n,date:Ae,minDate:P?Ae:n.startOfMonth(Me),maxDate:P?n.endOfMonth(Me):Ae,isDateDisabled:O,timezone:R});B(at||Ae),ce.preventDefault();break}case"ArrowRight":{const Ae=n.addDays(he,P?-1:1),Me=n.addMonths(he,P?-1:1),at=so({utils:n,date:Ae,minDate:P?n.startOfMonth(Me):Ae,maxDate:P?Ae:n.endOfMonth(Me),isDateDisabled:O,timezone:R});B(at||Ae),ce.preventDefault();break}case"Home":B(n.startOfWeek(he)),ce.preventDefault();break;case"End":B(n.endOfWeek(he)),ce.preventDefault();break;case"PageUp":B(n.addMonths(he,1)),ce.preventDefault();break;case"PageDown":B(n.addMonths(he,-1)),ce.preventDefault();break}}),X=le((ce,he)=>B(he)),te=le((ce,he)=>{J&&n.isSameDay(G,he)&&(j==null||j(!1))}),H=n.getMonth(s),ne=n.getYear(s),Q=v.useMemo(()=>i.filter(ce=>!!ce).map(ce=>n.startOfDay(ce)),[n,i]),V=`${ne}-${H}`,Z=v.useMemo(()=>v.createRef(),[V]),re=n.startOfWeek(C),be=v.useMemo(()=>{const ce=n.startOfMonth(s),he=n.endOfMonth(s);return O(G)||n.isAfterDay(G,he)||n.isBeforeDay(G,ce)?so({utils:n,date:G,minDate:ce,maxDate:he,disablePast:p,disableFuture:b,isDateDisabled:O,timezone:R}):G},[s,b,p,G,O,n,R]),Ne=v.useMemo(()=>{const ce=n.setTimezone(s,R),he=n.getWeekArray(ce);let Ae=n.addMonths(ce,1);for(;F&&he.length<F;){const Me=n.getWeekArray(Ae),at=n.isSameDay(he[he.length-1][0],Me[0][0]);Me.slice(at?1:0).forEach(mt=>{he.length<F&&he.push(mt)}),Ae=n.addMonths(Ae,1)}return he},[s,F,n,R]);return w.jsxs(n0,{role:"grid","aria-labelledby":$,className:A.root,children:[w.jsxs(r0,{role:"row",className:A.header,children:[S&&w.jsx(s0,{variant:"caption",role:"columnheader","aria-label":z.calendarWeekNumberHeaderLabel,className:A.weekNumberLabel,children:z.calendarWeekNumberHeaderText}),aw(n,C).map((ce,he)=>w.jsx(o0,{variant:"caption",role:"columnheader","aria-label":n.format(n.addDays(re,he),"weekday"),className:A.weekDayLabel,children:x(ce)},he.toString()))]}),l?w.jsx(a0,{className:A.loadingContainer,children:f()}):w.jsx(l0,y({transKey:V,onExited:u,reduceAnimations:h,slideDirection:m,className:ye(o,A.slideTransition)},g,{nodeRef:Z,children:w.jsx(c0,{ref:Z,role:"rowgroup",className:A.monthContainer,children:Ne.map((ce,he)=>w.jsxs(u0,{role:"row",className:A.weekContainer,"aria-rowindex":he+1,children:[S&&w.jsx(i0,{className:A.weekNumber,role:"rowheader","aria-label":z.calendarWeekNumberAriaLabelText(n.getWeekNumber(ce[0])),children:z.calendarWeekNumberText(n.getWeekNumber(ce[0]))}),ce.map((Ae,Me)=>w.jsx(d0,{parentProps:e,day:Ae,selectedDays:Q,focusableDay:be,onKeyDown:U,onFocus:X,onBlur:te,onDaySelect:ie,isDateDisabled:O,currentMonthNumber:H,isViewFocused:J,"aria-colindex":Me+1},Ae.toString()))]},`week-${ce[0]}`))})}))]})}function f0(t){return Ie("MuiPickersMonth",t)}const Jo=Ee("MuiPickersMonth",["root","monthButton","disabled","selected"]),p0=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],m0=t=>{const{disabled:e,selected:n,classes:r}=t;return Te({root:["root"],monthButton:["monthButton",e&&"disabled",n&&"selected"]},f0,r)},g0=K("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),y0=K("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${Jo.disabled}`]:e.disabled},{[`&.${Jo.selected}`]:e.selected}]})(({theme:t})=>y({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:dr(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:dr(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Jo.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Jo.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),v0=v.memo(function(e){const n=ge({props:e,name:"MuiPickersMonth"}),{autoFocus:r,children:o,disabled:s,selected:i,value:a,tabIndex:l,onClick:c,onKeyDown:u,onFocus:d,onBlur:h,"aria-current":f,"aria-label":m}=n,g=oe(n,p0),p=v.useRef(null),b=m0(n);return Mt(()=>{var _;r&&((_=p.current)==null||_.focus())},[r]),w.jsx(g0,y({className:b.root,ownerState:n},g,{children:w.jsx(y0,{ref:p,disabled:s,type:"button",role:"radio",tabIndex:s?-1:l,"aria-current":f,"aria-checked":i,"aria-label":m,onClick:_=>c(_,a),onKeyDown:_=>u(_,a),onFocus:_=>d(_,a),onBlur:_=>h(_,a),className:b.monthButton,ownerState:n,children:o})}))});function _0(t){return Ie("MuiMonthCalendar",t)}Ee("MuiMonthCalendar",["root"]);const b0=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],w0=t=>{const{classes:e}=t;return Te({root:["root"]},_0,e)};function T0(t,e){const n=Fe(),r=No(),o=ge({props:t,name:e});return y({disableFuture:!1,disablePast:!1},o,{minDate:Dt(n,o.minDate,r.minDate),maxDate:Dt(n,o.maxDate,r.maxDate)})}const E0=K("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Xs,boxSizing:"border-box"}),I0=v.forwardRef(function(e,n){const r=T0(e,"MuiMonthCalendar"),{className:o,value:s,defaultValue:i,referenceDate:a,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:h,onChange:f,shouldDisableMonth:m,readOnly:g,autoFocus:p=!1,onMonthFocus:b,hasFocus:_,onFocusedViewChange:E,monthsPerRow:T=3,timezone:I,gridLabelId:D}=r,x=oe(r,b0),{value:M,handleValueChange:j,timezone:$}=vl({name:"MonthCalendar",timezone:I,value:s,defaultValue:i,onChange:f,valueManager:qt}),S=Gs($),F=Ed(),k=Fe(),R=v.useMemo(()=>qt.getInitialReferenceValue({value:M,utils:k,props:r,timezone:$,referenceDate:a,granularity:Ft.month}),[]),C=r,A=w0(C),L=v.useMemo(()=>k.getMonth(S),[k,S]),P=v.useMemo(()=>M!=null?k.getMonth(M):null,[M,k]),[O,z]=v.useState(()=>P||k.getMonth(R)),[J,W]=en({name:"MonthCalendar",state:"hasFocus",controlled:_,default:p??!1}),G=le(H=>{W(H),E&&E(H)}),se=v.useCallback(H=>{const ne=k.startOfMonth(u&&k.isAfter(S,h)?S:h),Q=k.startOfMonth(c&&k.isBefore(S,d)?S:d),V=k.startOfMonth(H);return k.isBefore(V,ne)||k.isAfter(V,Q)?!0:m?m(V):!1},[c,u,d,h,S,m,k]),ie=le((H,ne)=>{if(g)return;const Q=k.setMonth(M??R,ne);j(Q)}),B=le(H=>{se(k.setMonth(M??R,H))||(z(H),G(!0),b&&b(H))});v.useEffect(()=>{z(H=>P!==null&&H!==P?P:H)},[P]);const U=le((H,ne)=>{switch(H.key){case"ArrowUp":B((12+ne-3)%12),H.preventDefault();break;case"ArrowDown":B((12+ne+3)%12),H.preventDefault();break;case"ArrowLeft":B((12+ne+(F.direction==="ltr"?-1:1))%12),H.preventDefault();break;case"ArrowRight":B((12+ne+(F.direction==="ltr"?1:-1))%12),H.preventDefault();break}}),X=le((H,ne)=>{B(ne)}),te=le((H,ne)=>{O===ne&&G(!1)});return w.jsx(E0,y({ref:n,className:ye(A.root,o),ownerState:C,role:"radiogroup","aria-labelledby":D},x,{children:ml(k,M??R).map(H=>{const ne=k.getMonth(H),Q=k.format(H,"monthShort"),V=k.format(H,"month"),Z=ne===P,re=l||se(H);return w.jsx(v0,{selected:Z,value:ne,onClick:ie,onKeyDown:U,autoFocus:J&&ne===O,disabled:re,tabIndex:ne===O?0:-1,onFocus:X,onBlur:te,"aria-current":L===ne?"date":void 0,"aria-label":V,monthsPerRow:T,children:Q},Q)})}))});function C0(t){return Ie("MuiPickersYear",t)}const es=Ee("MuiPickersYear",["root","yearButton","selected","disabled"]),P0=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],x0=t=>{const{disabled:e,selected:n,classes:r}=t;return Te({root:["root"],yearButton:["yearButton",e&&"disabled",n&&"selected"]},C0,r)},S0=K("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),D0=K("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${es.disabled}`]:e.disabled},{[`&.${es.selected}`]:e.selected}]})(({theme:t})=>y({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:dr(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:dr(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${es.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${es.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),A0=v.memo(function(e){const n=ge({props:e,name:"MuiPickersYear"}),{autoFocus:r,className:o,children:s,disabled:i,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:f,"aria-current":m}=n,g=oe(n,P0),p=v.useRef(null),b=x0(n);return v.useEffect(()=>{r&&p.current.focus()},[r]),w.jsx(S0,y({className:ye(b.root,o),ownerState:n},g,{children:w.jsx(D0,{ref:p,disabled:i,type:"button",role:"radio",tabIndex:i?-1:c,"aria-current":m,"aria-checked":a,onClick:_=>u(_,l),onKeyDown:_=>d(_,l),onFocus:_=>h(_,l),onBlur:_=>f(_,l),className:b.yearButton,ownerState:n,children:s})}))});function R0(t){return Ie("MuiYearCalendar",t)}Ee("MuiYearCalendar",["root"]);const M0=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],k0=t=>{const{classes:e}=t;return Te({root:["root"]},R0,e)};function V0(t,e){const n=Fe(),r=No(),o=ge({props:t,name:e});return y({disablePast:!1,disableFuture:!1},o,{yearsPerRow:o.yearsPerRow??3,minDate:Dt(n,o.minDate,r.minDate),maxDate:Dt(n,o.maxDate,r.maxDate)})}const O0=K("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Xs,maxHeight:nw,boxSizing:"border-box",position:"relative"}),F0=v.forwardRef(function(e,n){const r=V0(e,"MuiYearCalendar"),{autoFocus:o,className:s,value:i,defaultValue:a,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:f,onChange:m,readOnly:g,shouldDisableYear:p,onYearFocus:b,hasFocus:_,onFocusedViewChange:E,yearsPerRow:T,timezone:I,gridLabelId:D}=r,x=oe(r,M0),{value:M,handleValueChange:j,timezone:$}=vl({name:"YearCalendar",timezone:I,value:i,defaultValue:a,onChange:m,valueManager:qt}),S=Gs($),F=Ed(),k=Fe(),R=v.useMemo(()=>qt.getInitialReferenceValue({value:M,utils:k,props:r,timezone:$,referenceDate:l,granularity:Ft.year}),[]),C=r,A=k0(C),L=v.useMemo(()=>k.getYear(S),[k,S]),P=v.useMemo(()=>M!=null?k.getYear(M):null,[M,k]),[O,z]=v.useState(()=>P||k.getYear(R)),[J,W]=en({name:"YearCalendar",state:"hasFocus",controlled:_,default:o??!1}),G=le(Q=>{W(Q),E&&E(Q)}),se=v.useCallback(Q=>{if(d&&k.isBeforeYear(Q,S)||u&&k.isAfterYear(Q,S)||f&&k.isBeforeYear(Q,f)||h&&k.isAfterYear(Q,h))return!0;if(!p)return!1;const V=k.startOfYear(Q);return p(V)},[u,d,h,f,S,p,k]),ie=le((Q,V)=>{if(g)return;const Z=k.setYear(M??R,V);j(Z)}),B=le(Q=>{se(k.setYear(M??R,Q))||(z(Q),G(!0),b==null||b(Q))});v.useEffect(()=>{z(Q=>P!==null&&Q!==P?P:Q)},[P]);const U=le((Q,V)=>{switch(Q.key){case"ArrowUp":B(V-T),Q.preventDefault();break;case"ArrowDown":B(V+T),Q.preventDefault();break;case"ArrowLeft":B(V+(F.direction==="ltr"?-1:1)),Q.preventDefault();break;case"ArrowRight":B(V+(F.direction==="ltr"?1:-1)),Q.preventDefault();break}}),X=le((Q,V)=>{B(V)}),te=le((Q,V)=>{O===V&&G(!1)}),H=v.useRef(null),ne=Ye(n,H);return v.useEffect(()=>{if(o||H.current===null)return;const Q=H.current.querySelector('[tabindex="0"]');if(!Q)return;const V=Q.offsetHeight,Z=Q.offsetTop,re=H.current.clientHeight,be=H.current.scrollTop,Ne=Z+V;V>re||Z<be||(H.current.scrollTop=Ne-re/2-V/2)},[o]),w.jsx(O0,y({ref:ne,className:ye(A.root,s),ownerState:C,role:"radiogroup","aria-labelledby":D},x,{children:k.getYearRange([f,h]).map(Q=>{const V=k.getYear(Q),Z=V===P,re=c||se(Q);return w.jsx(A0,{selected:Z,value:V,onClick:ie,onKeyDown:U,autoFocus:J&&V===O,disabled:re,tabIndex:V===O?0:-1,onFocus:X,onBlur:te,"aria-current":L===V?"date":void 0,yearsPerRow:T,children:k.format(Q,"year")},k.format(Q,"year"))})}))}),N0=t=>Ie("MuiPickersCalendarHeader",t),L0=Ee("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),$0=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],B0=["ownerState"],j0=t=>{const{classes:e}=t;return Te({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},N0,e)},U0=K("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),z0=K("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>y({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),W0=K("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),H0=K(Os,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${L0.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),q0=K(Lb,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),Y0=v.forwardRef(function(e,n){const r=sn(),o=Fe(),s=ge({props:e,name:"MuiPickersCalendarHeader"}),{slots:i,slotProps:a,currentMonth:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:f,onMonthChange:m,onViewChange:g,view:p,reduceAnimations:b,views:_,labelId:E,className:T,timezone:I,format:D=`${o.formats.month} ${o.formats.year}`}=s,x=oe(s,$0),M=s,j=j0(s),$=(i==null?void 0:i.switchViewButton)??H0,S=xe({elementType:$,externalSlotProps:a==null?void 0:a.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(p)},ownerState:M,className:j.switchViewButton}),F=(i==null?void 0:i.switchViewIcon)??q0,k=xe({elementType:F,externalSlotProps:a==null?void 0:a.switchViewIcon,ownerState:void 0,className:j.switchViewIcon}),R=oe(k,B0),C=()=>m(o.addMonths(l,1),"left"),A=()=>m(o.addMonths(l,-1),"right"),L=ew(l,{disableFuture:u,maxDate:h,timezone:I}),P=tw(l,{disablePast:d,minDate:f,timezone:I}),O=()=>{if(!(_.length===1||!g||c))if(_.length===2)g(_.find(J=>J!==p)||_[0]);else{const J=_.indexOf(p)!==0?0:1;g(_[J])}};if(_.length===1&&_[0]==="year")return null;const z=o.formatByString(l,D);return w.jsxs(U0,y({},x,{ownerState:M,className:ye(T,j.root),ref:n,children:[w.jsxs(z0,{role:"presentation",onClick:O,ownerState:M,"aria-live":"polite",className:j.labelContainer,children:[w.jsx(Wh,{reduceAnimations:b,transKey:z,children:w.jsx(W0,{id:E,ownerState:M,className:j.label,children:z})}),_.length>1&&!c&&w.jsx($,y({},S,{children:w.jsx(F,y({},R))}))]}),w.jsx(Mo,{in:p==="day",children:w.jsx(Qb,{slots:i,slotProps:a,onGoToPrevious:A,isPreviousDisabled:P,previousLabel:r.previousMonth,onGoToNext:C,isNextDisabled:L,nextLabel:r.nextMonth})})]}))}),K0="@media (prefers-reduced-motion: reduce)",sr=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),hu=sr&&sr[1]?parseInt(sr[1],10):null,fu=sr&&sr[2]?parseInt(sr[2],10):null,G0=hu&&hu<10||fu&&fu<13||!1,qh=()=>Cd(K0,{defaultMatches:!1})||G0,Q0=t=>Ie("MuiDateCalendar",t);Ee("MuiDateCalendar",["root","viewTransitionContainer"]);const X0=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],Z0=t=>{const{classes:e}=t;return Te({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Q0,e)};function J0(t,e){const n=Fe(),r=No(),o=qh(),s=ge({props:t,name:e});return y({},s,{loading:s.loading??!1,disablePast:s.disablePast??!1,disableFuture:s.disableFuture??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:s.reduceAnimations??o,renderLoading:s.renderLoading??(()=>w.jsx("span",{children:"..."})),minDate:Dt(n,s.minDate,r.minDate),maxDate:Dt(n,s.maxDate,r.maxDate)})}const eE=K(rw,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:pl}),tE=K(Wh,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),Yh=v.forwardRef(function(e,n){const r=Fe(),o=vn(),s=J0(e,"MuiDateCalendar"),{autoFocus:i,onViewChange:a,value:l,defaultValue:c,referenceDate:u,disableFuture:d,disablePast:h,onChange:f,onYearChange:m,onMonthChange:g,reduceAnimations:p,shouldDisableDate:b,shouldDisableMonth:_,shouldDisableYear:E,view:T,views:I,openTo:D,className:x,disabled:M,readOnly:j,minDate:$,maxDate:S,disableHighlightToday:F,focusedView:k,onFocusedViewChange:R,showDaysOutsideCurrentMonth:C,fixedWeekNumber:A,dayOfWeekFormatter:L,slots:P,slotProps:O,loading:z,renderLoading:J,displayWeekNumber:W,yearsPerRow:G,monthsPerRow:se,timezone:ie}=s,B=oe(s,X0),{value:U,handleValueChange:X,timezone:te}=vl({name:"DateCalendar",timezone:ie,value:l,defaultValue:c,onChange:f,valueManager:qt}),{view:H,setView:ne,focusedView:Q,setFocusedView:V,goToNextView:Z,setValueAndGoToNextView:re}=mh({view:T,views:I,openTo:D,onChange:X,onViewChange:a,autoFocus:i,focusedView:k,onFocusedViewChange:R}),{referenceDate:be,calendarState:Ne,changeFocusedDay:ce,changeMonth:he,handleChangeMonth:Ae,isDateDisabled:Me,onMonthSwitchingAnimationEnd:at}=zT({value:U,referenceDate:u,reduceAnimations:p,onMonthChange:g,minDate:$,maxDate:S,shouldDisableDate:b,disablePast:h,disableFuture:d,timezone:te}),mt=M&&U||$,ze=M&&U||S,In=`${o}-grid-label`,Xt=Q!==null,Zt=(P==null?void 0:P.calendarHeader)??Y0,Cn=xe({elementType:Zt,externalSlotProps:O==null?void 0:O.calendarHeader,additionalProps:{views:I,view:H,currentMonth:Ne.currentMonth,onViewChange:ne,onMonthChange:(je,Ot)=>Ae({newMonth:je,direction:Ot}),minDate:mt,maxDate:ze,disabled:M,disablePast:h,disableFuture:d,reduceAnimations:p,timezone:te,labelId:In,slots:P,slotProps:O},ownerState:s}),qn=le(je=>{const Ot=r.startOfMonth(je),Nr=r.endOfMonth(je),an=Me(je)?so({utils:r,date:je,minDate:r.isBefore($,Ot)?Ot:$,maxDate:r.isAfter(S,Nr)?Nr:S,disablePast:h,disableFuture:d,isDateDisabled:Me,timezone:te}):je;an?(re(an,"finish"),g==null||g(Ot)):(Z(),he(Ot)),ce(an,!0)}),Or=le(je=>{const Ot=r.startOfYear(je),Nr=r.endOfYear(je),an=Me(je)?so({utils:r,date:je,minDate:r.isBefore($,Ot)?Ot:$,maxDate:r.isAfter(S,Nr)?Nr:S,disablePast:h,disableFuture:d,isDateDisabled:Me,timezone:te}):je;an?(re(an,"finish"),m==null||m(an)):(Z(),he(Ot)),ce(an,!0)}),Fr=le(je=>X(je&&ys(r,je,U??be),"finish",H));v.useEffect(()=>{U!=null&&r.isValid(U)&&he(U)},[U]);const Yn=s,pe=Z0(Yn),ke={disablePast:h,disableFuture:d,maxDate:S,minDate:$},qe={disableHighlightToday:F,readOnly:j,disabled:M,timezone:te,gridLabelId:In},Vt=v.useRef(H);v.useEffect(()=>{Vt.current!==H&&(Q===Vt.current&&V(H,!0),Vt.current=H)},[Q,V,H]);const Xo=v.useMemo(()=>[U],[U]);return w.jsxs(eE,y({ref:n,className:ye(pe.root,x),ownerState:Yn},B,{children:[w.jsx(Zt,y({},Cn)),w.jsx(tE,{reduceAnimations:p,className:pe.viewTransitionContainer,transKey:H,ownerState:Yn,children:w.jsxs("div",{children:[H==="year"&&w.jsx(F0,y({},ke,qe,{value:U,onChange:Or,shouldDisableYear:E,hasFocus:Xt,onFocusedViewChange:je=>V("year",je),yearsPerRow:G,referenceDate:be})),H==="month"&&w.jsx(I0,y({},ke,qe,{hasFocus:Xt,className:x,value:U,onChange:qn,shouldDisableMonth:_,onFocusedViewChange:je=>V("month",je),monthsPerRow:se,referenceDate:be})),H==="day"&&w.jsx(h0,y({},Ne,ke,qe,{onMonthSwitchingAnimationEnd:at,onFocusedDayChange:ce,reduceAnimations:p,selectedDays:Xo,onSelectedDaysChange:Fr,shouldDisableDate:b,shouldDisableMonth:_,shouldDisableYear:E,hasFocus:Xt,onFocusedViewChange:je=>V("day",je),showDaysOutsideCurrentMonth:C,fixedWeekNumber:A,dayOfWeekFormatter:L,displayWeekNumber:W,slots:P,slotProps:O,loading:z,renderLoading:J}))]})})]}))});function nE(t){return Ie("MuiPickersToolbar",t)}Ee("MuiPickersToolbar",["root","content"]);const rE=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],oE=t=>{const{classes:e,isLandscape:n}=t;return Te({root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]},nE,e)},sE=K("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),iE=K("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),aE=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersToolbar"}),{children:o,className:s,toolbarTitle:i,hidden:a,titleId:l}=r,c=oe(r,rE),u=r,d=oE(u);return a?null:w.jsxs(sE,y({ref:n,className:ye(d.root,s),ownerState:u},c,{children:[w.jsx(_n,{color:"text.secondary",variant:"overline",id:l,children:i}),w.jsx(iE,{className:d.content,ownerState:u,children:o})]}))});function lE(t){return Ie("MuiDatePickerToolbar",t)}Ee("MuiDatePickerToolbar",["root","title"]);const cE=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],uE=t=>{const{classes:e}=t;return Te({root:["root"],title:["title"]},lE,e)},dE=K(aE,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),hE=K(_n,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),fE=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDatePickerToolbar"}),{value:o,isLandscape:s,toolbarFormat:i,toolbarPlaceholder:a="",views:l,className:c}=r,u=oe(r,cE),d=Fe(),h=sn(),f=uE(r),m=v.useMemo(()=>{if(!o)return a;const p=gl(d,{format:i,views:l},!0);return d.formatByString(o,p)},[o,i,a,d,l]),g=r;return w.jsx(dE,y({ref:n,toolbarTitle:h.datePickerToolbarTitle,isLandscape:s,className:ye(f.root,c)},u,{children:w.jsx(hE,{variant:"h4",align:s?"left":"center",ownerState:g,className:f.title,children:m})}))});function Kh(t,e){const n=Fe(),r=No(),o=ge({props:t,name:e}),s=v.useMemo(()=>{var i;return((i=o.localeText)==null?void 0:i.toolbarTitle)==null?o.localeText:y({},o.localeText,{datePickerToolbarTitle:o.localeText.toolbarTitle})},[o.localeText]);return y({},o,{localeText:s},Xb({views:o.views,openTo:o.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:o.disableFuture??!1,disablePast:o.disablePast??!1,minDate:Dt(n,o.minDate,r.minDate),maxDate:Dt(n,o.maxDate,r.maxDate),slots:y({toolbar:fE},o.slots)})}function pE(t){return Ie("MuiPickersPopper",t)}Ee("MuiPickersPopper",["root","paper"]);const mE=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],gE=t=>{const{classes:e}=t;return Te({root:["root"],paper:["paper"]},pE,e)},yE=K(Qy,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),vE=K(Ro,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:t})=>["top","top-start","top-end"].includes(t),style:{transformOrigin:"bottom center"}}]});function _E(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function bE(t,e){const n=v.useRef(!1),r=v.useRef(!1),o=v.useRef(null),s=v.useRef(!1);v.useEffect(()=>{if(!t)return;function l(){s.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),s.current=!1}},[t]);const i=le(l=>{if(!s.current)return;const c=r.current;r.current=!1;const u=Bt(o.current);if(!o.current||"clientX"in l&&_E(l,u))return;if(n.current){n.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(o.current)>-1:d=!u.documentElement.contains(l.target)||o.current.contains(l.target),!d&&!c&&e(l)}),a=()=>{r.current=!0};return v.useEffect(()=>{if(t){const l=Bt(o.current),c=()=>{n.current=!0};return l.addEventListener("touchstart",i),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",i),l.removeEventListener("touchmove",c)}}},[t,i]),v.useEffect(()=>{if(t){const l=Bt(o.current);return l.addEventListener("click",i),()=>{l.removeEventListener("click",i),r.current=!1}}},[t,i]),[o,a,a]}const wE=v.forwardRef((t,e)=>{const{PaperComponent:n,popperPlacement:r,ownerState:o,children:s,paperSlotProps:i,paperClasses:a,onPaperClick:l,onPaperTouchStart:c}=t,u=oe(t,mE),d=y({},o,{placement:r}),h=xe({elementType:n,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:a,ownerState:d});return w.jsx(n,y({},u,h,{onClick:f=>{var m;l(f),(m=h.onClick)==null||m.call(h,f)},onTouchStart:f=>{var m;c(f),(m=h.onTouchStart)==null||m.call(h,f)},ownerState:d,children:s}))});function TE(t){const e=ge({props:t,name:"MuiPickersPopper"}),{anchorEl:n,children:r,containerRef:o=null,shouldRestoreFocus:s,onBlur:i,onDismiss:a,open:l,role:c,placement:u,slots:d,slotProps:h,reduceAnimations:f}=e;v.useEffect(()=>{function C(A){l&&A.key==="Escape"&&a()}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[a,l]);const m=v.useRef(null);v.useEffect(()=>{c==="tooltip"||s&&!s()||(l?m.current=Et(document):m.current&&m.current instanceof HTMLElement&&setTimeout(()=>{m.current instanceof HTMLElement&&m.current.focus()}))},[l,c,s]);const[g,p,b]=bE(l,i??a),_=v.useRef(null),E=Ye(_,o),T=Ye(E,g),I=e,D=gE(I),x=qh(),M=f??x,j=C=>{C.key==="Escape"&&(C.stopPropagation(),a())},$=(d==null?void 0:d.desktopTransition)??M?Mo:ll,S=(d==null?void 0:d.desktopTrapFocus)??eg,F=(d==null?void 0:d.desktopPaper)??vE,k=(d==null?void 0:d.popper)??yE,R=xe({elementType:k,externalSlotProps:h==null?void 0:h.popper,additionalProps:{transition:!0,role:c,open:l,anchorEl:n,placement:u,onKeyDown:j},className:D.root,ownerState:e});return w.jsx(k,y({},R,{children:({TransitionProps:C,placement:A})=>w.jsx(S,y({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:c==="tooltip",isEnabled:()=>!0},h==null?void 0:h.desktopTrapFocus,{children:w.jsx($,y({},C,h==null?void 0:h.desktopTransition,{children:w.jsx(wE,{PaperComponent:F,ownerState:I,popperPlacement:A,ref:T,onPaperClick:p,onPaperTouchStart:b,paperClasses:D.paper,paperSlotProps:h==null?void 0:h.desktopPaper,children:r})}))}))}))}const EE=({open:t,onOpen:e,onClose:n})=>{const r=v.useRef(typeof t=="boolean").current,[o,s]=v.useState(!1);v.useEffect(()=>{if(r){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(t)}},[r,t]);const i=v.useCallback(a=>{r||s(a),a&&e&&e(),!a&&n&&n()},[r,e,n]);return{isOpen:o,setIsOpen:i}},IE=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:o}=t,s=!o&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?s?!0:n(r.lastPublishedValue):!1},CE=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:o,closeOnSelect:s}=t,i=!o&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?i&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&s?i?!0:n(r.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&n(r.lastCommittedValue):!1},PE=t=>{const{action:e,closeOnSelect:n}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&n:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},xE=({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:o})=>{const{onAccept:s,onChange:i,value:a,defaultValue:l,closeOnSelect:c=r==="desktop",timezone:u}=t,{current:d}=v.useRef(l),{current:h}=v.useRef(a!==void 0),f=Fe(),m=Un(),{isOpen:g,setIsOpen:p}=EE(t),[b,_]=v.useState(()=>{let W;return a!==void 0?W=a:d!==void 0?W=d:W=e.emptyValue,{draft:W,lastPublishedValue:W,lastCommittedValue:W,lastControlledValue:a,hasBeenModifiedSinceMount:!1}}),{timezone:E,handleValueChange:T}=yl({timezone:u,value:a,defaultValue:d,onChange:i,valueManager:e});xh(y({},t,{value:b.draft,timezone:E}),o,e.isSameError,e.defaultErrorState);const I=le(W=>{const G={action:W,dateState:b,hasChanged:U=>!e.areValuesEqual(f,W.value,U),isControlled:h,closeOnSelect:c},se=IE(G),ie=CE(G),B=PE(G);if(_(U=>y({},U,{draft:W.value,lastPublishedValue:se?W.value:U.lastPublishedValue,lastCommittedValue:ie?W.value:U.lastCommittedValue,hasBeenModifiedSinceMount:!0})),se){const X={validationError:W.name==="setValueFromField"?W.context.validationError:o({adapter:m,value:W.value,props:y({},t,{value:W.value,timezone:E})})};W.name==="setValueFromShortcut"&&(X.shortcut=W.shortcut),T(W.value,X)}ie&&s&&s(W.value),B&&p(!1)});if(a!==void 0&&(b.lastControlledValue===void 0||!e.areValuesEqual(f,b.lastControlledValue,a))){const W=e.areValuesEqual(f,b.draft,a);_(G=>y({},G,{lastControlledValue:a},W?{}:{lastCommittedValue:a,lastPublishedValue:a,draft:a,hasBeenModifiedSinceMount:!0}))}const D=le(()=>{I({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),x=le(()=>{I({value:b.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),M=le(()=>{I({value:b.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),j=le(()=>{I({value:b.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),$=le(()=>{I({value:e.getTodayValue(f,E,n),name:"setValueFromAction",pickerAction:"today"})}),S=le(W=>{W.preventDefault(),p(!0)}),F=le(W=>{W==null||W.preventDefault(),p(!1)}),k=le((W,G="partial")=>I({name:"setValueFromView",value:W,selectionState:G})),R=le((W,G,se)=>I({name:"setValueFromShortcut",value:W,changeImportance:G,shortcut:se})),C=le((W,G)=>I({name:"setValueFromField",value:W,context:G})),A={onClear:D,onAccept:x,onDismiss:M,onCancel:j,onSetToday:$,onOpen:S,onClose:F},L={value:b.draft,onChange:C},P=v.useMemo(()=>e.cleanValue(f,b.draft),[f,e,b.draft]),O={value:P,onChange:k,onClose:F,open:g},J=y({},A,{value:P,onChange:k,onSelectShortcut:R,isValid:W=>{const G=o({adapter:m,value:W,props:y({},t,{value:W,timezone:E})});return!e.hasError(G)}});return{open:g,fieldProps:L,viewProps:O,layoutProps:J,actions:A}},SE=["className","sx"],DE=({props:t,propsFromPickerValue:e,additionalViewProps:n,autoFocusView:r,rendererInterceptor:o,fieldRef:s})=>{const{onChange:i,open:a,onClose:l}=e,{views:c,openTo:u,onViewChange:d,disableOpenPicker:h,viewRenderers:f,timezone:m}=t,g=oe(t,SE),{view:p,setView:b,defaultView:_,focusedView:E,setFocusedView:T,setValueAndGoToNextView:I}=mh({view:void 0,views:c,openTo:u,onChange:i,onViewChange:d,autoFocus:r}),{hasUIView:D,viewModeLookup:x}=v.useMemo(()=>c.reduce((R,C)=>{let A;return h?A="field":f[C]!=null?A="UI":A="field",R.viewModeLookup[C]=A,A==="UI"&&(R.hasUIView=!0),R},{hasUIView:!1,viewModeLookup:{}}),[h,f,c]),M=v.useMemo(()=>c.reduce((R,C)=>f[C]!=null&&Jb(C)?R+1:R,0),[f,c]),j=x[p],$=le(()=>j==="UI"),[S,F]=v.useState(j==="UI"?p:null);return S!==p&&x[p]==="UI"&&F(p),Mt(()=>{j==="field"&&a&&(l(),setTimeout(()=>{var R;(R=s==null?void 0:s.current)==null||R.focusField(p)}))},[p]),Mt(()=>{if(!a)return;let R=p;j==="field"&&S!=null&&(R=S),R!==_&&x[R]==="UI"&&x[_]==="UI"&&(R=_),R!==p&&b(R),T(R,!0)},[a]),{hasUIView:D,shouldRestoreFocus:$,layoutProps:{views:c,view:S,onViewChange:b},renderCurrentView:()=>{if(S==null)return null;const R=f[S];if(R==null)return null;const C=y({},g,n,e,{views:c,timezone:m,onChange:I,view:S,onViewChange:b,focusedView:E,onFocusedViewChange:T,showViewSwitcher:M>1,timeViewsCount:M});return o?o(f,S,C):R(C)}}};function pu(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const AE=(t,e)=>{const[n,r]=v.useState(pu);return Mt(()=>{const s=()=>{r(pu())};return window.addEventListener("orientationchange",s),()=>{window.removeEventListener("orientationchange",s)}},[]),$w(t,["hours","minutes","seconds"])?!1:(e||n)==="landscape"},RE=({props:t,propsFromPickerValue:e,propsFromPickerViews:n,wrapperVariant:r})=>{const{orientation:o}=t,s=AE(n.views,o);return{layoutProps:y({},n,e,{isLandscape:s,wrapperVariant:r,disabled:t.disabled,readOnly:t.readOnly})}};uh(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const Gh=({props:t,valueManager:e,valueType:n,wrapperVariant:r,additionalViewProps:o,validator:s,autoFocusView:i,rendererInterceptor:a,fieldRef:l})=>{const c=xE({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:s}),u=DE({props:t,additionalViewProps:o,autoFocusView:i,fieldRef:l,propsFromPickerValue:c.viewProps,rendererInterceptor:a}),d=RE({props:t,wrapperVariant:r,propsFromPickerValue:c.layoutProps,propsFromPickerViews:u.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:d.layoutProps}};function Qh(t){return Ie("MuiPickersLayout",t)}const Kr=Ee("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),ME=["onAccept","onClear","onCancel","onSetToday","actions"];function kE(t){const{onAccept:e,onClear:n,onCancel:r,onSetToday:o,actions:s}=t,i=oe(t,ME),a=sn();if(s==null||s.length===0)return null;const l=s==null?void 0:s.map(c=>{switch(c){case"clear":return w.jsx(tr,{onClick:n,children:a.clearButtonLabel},c);case"cancel":return w.jsx(tr,{onClick:r,children:a.cancelButtonLabel},c);case"accept":return w.jsx(tr,{onClick:e,children:a.okButtonLabel},c);case"today":return w.jsx(tr,{onClick:o,children:a.todayButtonLabel},c);default:return null}});return w.jsx(xv,y({},i,{children:l}))}const VE=["items","changeImportance","isLandscape","onChange","isValid"],OE=["getValue"];function FE(t){const{items:e,changeImportance:n="accept",onChange:r,isValid:o}=t,s=oe(t,VE);if(e==null||e.length===0)return null;const i=e.map(a=>{let{getValue:l}=a,c=oe(a,OE);const u=l({isValid:o});return{label:c.label,onClick:()=>{r(u,n,c)},disabled:!o(u)}});return w.jsx(wd,y({dense:!0,sx:[{maxHeight:pl,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:i.map(a=>w.jsx(tg,{children:w.jsx(rv,y({},a))},a.label))}))}function NE(t){return t.view!==null}const LE=t=>{const{classes:e,isLandscape:n}=t;return Te({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},Qh,e)},$E=t=>{const{wrapperVariant:e,onAccept:n,onClear:r,onCancel:o,onSetToday:s,view:i,views:a,onViewChange:l,value:c,onChange:u,onSelectShortcut:d,isValid:h,isLandscape:f,disabled:m,readOnly:g,children:p,slots:b,slotProps:_}=t,E=LE(t),T=(b==null?void 0:b.actionBar)??kE,I=xe({elementType:T,externalSlotProps:_==null?void 0:_.actionBar,additionalProps:{onAccept:n,onClear:r,onCancel:o,onSetToday:s,actions:e==="desktop"?[]:["cancel","accept"],className:E.actionBar},ownerState:y({},t,{wrapperVariant:e})}),D=w.jsx(T,y({},I)),x=b==null?void 0:b.toolbar,M=xe({elementType:x,externalSlotProps:_==null?void 0:_.toolbar,additionalProps:{isLandscape:f,onChange:u,value:c,view:i,onViewChange:l,views:a,disabled:m,readOnly:g,className:E.toolbar},ownerState:y({},t,{wrapperVariant:e})}),j=NE(M)&&x?w.jsx(x,y({},M)):null,$=p,S=b==null?void 0:b.tabs,F=i&&S?w.jsx(S,y({view:i,onViewChange:l,className:E.tabs},_==null?void 0:_.tabs)):null,k=(b==null?void 0:b.shortcuts)??FE,R=xe({elementType:k,externalSlotProps:_==null?void 0:_.shortcuts,additionalProps:{isValid:h,isLandscape:f,onChange:d,className:E.shortcuts},ownerState:{isValid:h,isLandscape:f,onChange:d,className:E.shortcuts,wrapperVariant:e}}),C=i&&k?w.jsx(k,y({},R)):null;return{toolbar:j,content:$,tabs:F,actionBar:D,shortcuts:C}},BE=t=>{const{isLandscape:e,classes:n}=t;return Te({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},Qh,n)},Xh=K("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Kr.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${Kr.toolbar}`]:{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"},[`.${Kr.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!1},style:{[`& .${Kr.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${Kr.shortcuts}`]:{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"}}}]}));Xh.propTypes={as:N.elementType,ownerState:N.shape({isLandscape:N.bool.isRequired}).isRequired,sx:N.oneOfType([N.arrayOf(N.oneOfType([N.func,N.object,N.bool])),N.func,N.object])};const jE=K("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Zh=function(e){const n=ge({props:e,name:"MuiPickersLayout"}),{toolbar:r,content:o,tabs:s,actionBar:i,shortcuts:a}=$E(n),{sx:l,className:c,isLandscape:u,ref:d,wrapperVariant:h}=n,f=n,m=BE(f);return w.jsxs(Xh,{ref:d,sx:l,className:ye(c,m.root),ownerState:f,children:[u?a:r,u?r:a,w.jsx(jE,{className:m.contentWrapper,children:h==="desktop"?w.jsxs(v.Fragment,{children:[o,s]}):w.jsxs(v.Fragment,{children:[s,o]})}),i]})},UE=["props","getOpenDialogAriaText"],zE=["ownerState"],WE=["ownerState"],HE=t=>{var V;let{props:e,getOpenDialogAriaText:n}=t,r=oe(t,UE);const{slots:o,slotProps:s,className:i,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:f,name:m,label:g,inputRef:p,readOnly:b,disabled:_,autoFocus:E,localeText:T,reduceAnimations:I}=e,D=Fe(),x=v.useRef(null),M=v.useRef(null),j=vn(),$=((V=s==null?void 0:s.toolbar)==null?void 0:V.hidden)??!1,{open:S,actions:F,hasUIView:k,layoutProps:R,renderCurrentView:C,shouldRestoreFocus:A,fieldProps:L}=Gh(y({},r,{props:e,fieldRef:M,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),P=o.inputAdornment??Xd,O=xe({elementType:P,externalSlotProps:s==null?void 0:s.inputAdornment,additionalProps:{position:"end"},ownerState:e}),z=oe(O,zE),J=o.openPickerButton??Os,W=xe({elementType:J,externalSlotProps:s==null?void 0:s.openPickerButton,additionalProps:{disabled:_||b,onClick:S?F.onClose:F.onOpen,"aria-label":n(L.value,D),edge:z.position},ownerState:e}),G=oe(W,WE),se=o.openPickerIcon,ie=o.field,B=xe({elementType:ie,externalSlotProps:s==null?void 0:s.field,additionalProps:y({},L,$&&{id:j},{readOnly:b,disabled:_,className:i,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:f,label:g,name:m,autoFocus:E&&!e.open,focused:S?!0:void 0},p?{inputRef:p}:{}),ownerState:e});k&&(B.InputProps=y({},B.InputProps,{ref:x,[`${z.position}Adornment`]:w.jsx(P,y({},z,{children:w.jsx(J,y({},G,{children:w.jsx(se,y({},s==null?void 0:s.openPickerIcon))}))}))}));const U=y({textField:o.textField,clearIcon:o.clearIcon,clearButton:o.clearButton},B.slots),X=o.layout??Zh;let te=j;$&&(g?te=`${j}-label`:te=void 0);const H=y({},s,{toolbar:y({},s==null?void 0:s.toolbar,{titleId:j}),popper:y({"aria-labelledby":te},s==null?void 0:s.popper)}),ne=Ye(M,B.unstableFieldRef);return{renderPicker:()=>w.jsxs(Fo,{localeText:T,children:[w.jsx(ie,y({},B,{slots:U,slotProps:H,unstableFieldRef:ne})),w.jsx(TE,y({role:"dialog",placement:"bottom-start",anchorEl:x.current},F,{open:S,slots:o,slotProps:H,shouldRestoreFocus:A,reduceAnimations:I,children:w.jsx(X,y({},R,H==null?void 0:H.layout,{slots:o,slotProps:H,children:C()}))}))]})}},ir=({view:t,onViewChange:e,views:n,focusedView:r,onFocusedViewChange:o,value:s,defaultValue:i,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:f,maxDate:m,shouldDisableDate:g,shouldDisableMonth:p,shouldDisableYear:b,reduceAnimations:_,onMonthChange:E,monthsPerRow:T,onYearChange:I,yearsPerRow:D,slots:x,slotProps:M,loading:j,renderLoading:$,disableHighlightToday:S,readOnly:F,disabled:k,showDaysOutsideCurrentMonth:R,dayOfWeekFormatter:C,sx:A,autoFocus:L,fixedWeekNumber:P,displayWeekNumber:O,timezone:z})=>w.jsx(Yh,{view:t,onViewChange:e,views:n.filter(ou),focusedView:r&&ou(r)?r:null,onFocusedViewChange:o,value:s,defaultValue:i,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:f,maxDate:m,shouldDisableDate:g,shouldDisableMonth:p,shouldDisableYear:b,reduceAnimations:_,onMonthChange:E,monthsPerRow:T,onYearChange:I,yearsPerRow:D,slots:x,slotProps:M,loading:j,renderLoading:$,disableHighlightToday:S,readOnly:F,disabled:k,showDaysOutsideCurrentMonth:R,dayOfWeekFormatter:C,sx:A,autoFocus:L,fixedWeekNumber:P,displayWeekNumber:O,timezone:z}),Jh=v.forwardRef(function(e,n){var c,u;const r=sn(),o=Fe(),s=Kh(e,"MuiDesktopDatePicker"),i=y({day:ir,month:ir,year:ir},s.viewRenderers),a=y({},s,{viewRenderers:i,format:gl(o,s,!1),yearsPerRow:s.yearsPerRow??4,slots:y({openPickerIcon:jb,field:Uh},s.slots),slotProps:y({},s.slotProps,{field:d=>{var h;return y({},Id((h=s.slotProps)==null?void 0:h.field,d),Ah(s),{ref:n})},toolbar:y({hidden:!0},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=HE({props:a,valueManager:qt,valueType:"date",getOpenDialogAriaText:((u=a.localeText)==null?void 0:u.openDatePickerDialogue)??r.openDatePickerDialogue,validator:Js});return l()});Jh.propTypes={autoFocus:N.bool,className:N.string,closeOnSelect:N.bool,dayOfWeekFormatter:N.func,defaultValue:N.object,disabled:N.bool,disableFuture:N.bool,disableHighlightToday:N.bool,disableOpenPicker:N.bool,disablePast:N.bool,displayWeekNumber:N.bool,enableAccessibleFieldDOMStructure:N.any,fixedWeekNumber:N.number,format:N.string,formatDensity:N.oneOf(["dense","spacious"]),inputRef:Vd,label:N.node,loading:N.bool,localeText:N.object,maxDate:N.object,minDate:N.object,monthsPerRow:N.oneOf([3,4]),name:N.string,onAccept:N.func,onChange:N.func,onClose:N.func,onError:N.func,onMonthChange:N.func,onOpen:N.func,onSelectedSectionsChange:N.func,onViewChange:N.func,onYearChange:N.func,open:N.bool,openTo:N.oneOf(["day","month","year"]),orientation:N.oneOf(["landscape","portrait"]),readOnly:N.bool,reduceAnimations:N.bool,referenceDate:N.object,renderLoading:N.func,selectedSections:N.oneOfType([N.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),N.number]),shouldDisableDate:N.func,shouldDisableMonth:N.func,shouldDisableYear:N.func,showDaysOutsideCurrentMonth:N.bool,slotProps:N.object,slots:N.object,sx:N.oneOfType([N.arrayOf(N.oneOfType([N.func,N.object,N.bool])),N.func,N.object]),timezone:N.string,value:N.object,view:N.oneOf(["day","month","year"]),viewRenderers:N.shape({day:N.func,month:N.func,year:N.func}),views:N.arrayOf(N.oneOf(["day","month","year"]).isRequired),yearsPerRow:N.oneOf([3,4])};const qE=K(Tv)({[`& .${oo.container}`]:{outline:0},[`& .${oo.paper}`]:{outline:0,minWidth:Xs}}),YE=K(kv)({"&:first-of-type":{padding:0}});function KE(t){const{children:e,onDismiss:n,open:r,slots:o,slotProps:s}=t,i=(o==null?void 0:o.dialog)??qE,a=(o==null?void 0:o.mobileTransition)??Mo;return w.jsx(i,y({open:r,onClose:n},s==null?void 0:s.dialog,{TransitionComponent:a,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:o==null?void 0:o.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:w.jsx(YE,{children:e})}))}const GE=["props","getOpenDialogAriaText"],QE=t=>{var J;let{props:e,getOpenDialogAriaText:n}=t,r=oe(t,GE);const{slots:o,slotProps:s,className:i,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:f,name:m,label:g,inputRef:p,readOnly:b,disabled:_,localeText:E}=e,T=Fe(),I=v.useRef(null),D=vn(),x=((J=s==null?void 0:s.toolbar)==null?void 0:J.hidden)??!1,{open:M,actions:j,layoutProps:$,renderCurrentView:S,fieldProps:F}=Gh(y({},r,{props:e,fieldRef:I,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),k=o.field,R=xe({elementType:k,externalSlotProps:s==null?void 0:s.field,additionalProps:y({},F,x&&{id:D},!(_||b)&&{onClick:j.onOpen,onKeyDown:Bw(j.onOpen)},{readOnly:b??!0,disabled:_,className:i,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:f,label:g,name:m},p?{inputRef:p}:{}),ownerState:e});R.inputProps=y({},R.inputProps,{"aria-label":n(F.value,T)});const C=y({textField:o.textField},R.slots),A=o.layout??Zh;let L=D;x&&(g?L=`${D}-label`:L=void 0);const P=y({},s,{toolbar:y({},s==null?void 0:s.toolbar,{titleId:D}),mobilePaper:y({"aria-labelledby":L},s==null?void 0:s.mobilePaper)}),O=Ye(I,R.unstableFieldRef);return{renderPicker:()=>w.jsxs(Fo,{localeText:E,children:[w.jsx(k,y({},R,{slots:C,slotProps:P,unstableFieldRef:O})),w.jsx(KE,y({},j,{open:M,slots:o,slotProps:P,children:w.jsx(A,y({},$,P==null?void 0:P.layout,{slots:o,slotProps:P,children:S()}))}))]})}},ef=v.forwardRef(function(e,n){var c,u;const r=sn(),o=Fe(),s=Kh(e,"MuiMobileDatePicker"),i=y({day:ir,month:ir,year:ir},s.viewRenderers),a=y({},s,{viewRenderers:i,format:gl(o,s,!1),slots:y({field:Uh},s.slots),slotProps:y({},s.slotProps,{field:d=>{var h;return y({},Id((h=s.slotProps)==null?void 0:h.field,d),Ah(s),{ref:n})},toolbar:y({hidden:!1},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=QE({props:a,valueManager:qt,valueType:"date",getOpenDialogAriaText:((u=a.localeText)==null?void 0:u.openDatePickerDialogue)??r.openDatePickerDialogue,validator:Js});return l()});ef.propTypes={autoFocus:N.bool,className:N.string,closeOnSelect:N.bool,dayOfWeekFormatter:N.func,defaultValue:N.object,disabled:N.bool,disableFuture:N.bool,disableHighlightToday:N.bool,disableOpenPicker:N.bool,disablePast:N.bool,displayWeekNumber:N.bool,enableAccessibleFieldDOMStructure:N.any,fixedWeekNumber:N.number,format:N.string,formatDensity:N.oneOf(["dense","spacious"]),inputRef:Vd,label:N.node,loading:N.bool,localeText:N.object,maxDate:N.object,minDate:N.object,monthsPerRow:N.oneOf([3,4]),name:N.string,onAccept:N.func,onChange:N.func,onClose:N.func,onError:N.func,onMonthChange:N.func,onOpen:N.func,onSelectedSectionsChange:N.func,onViewChange:N.func,onYearChange:N.func,open:N.bool,openTo:N.oneOf(["day","month","year"]),orientation:N.oneOf(["landscape","portrait"]),readOnly:N.bool,reduceAnimations:N.bool,referenceDate:N.object,renderLoading:N.func,selectedSections:N.oneOfType([N.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),N.number]),shouldDisableDate:N.func,shouldDisableMonth:N.func,shouldDisableYear:N.func,showDaysOutsideCurrentMonth:N.bool,slotProps:N.object,slots:N.object,sx:N.oneOfType([N.arrayOf(N.oneOfType([N.func,N.object,N.bool])),N.func,N.object]),timezone:N.string,value:N.object,view:N.oneOf(["day","month","year"]),viewRenderers:N.shape({day:N.func,month:N.func,year:N.func}),views:N.arrayOf(N.oneOf(["day","month","year"]).isRequired),yearsPerRow:N.oneOf([3,4])};const XE=["desktopModeMediaQuery"],ZE=v.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:o=jw}=r,s=oe(r,XE);return Cd(o,{defaultMatches:!0})?w.jsx(Jh,y({ref:n},s)):w.jsx(ef,y({ref:n},s))});var El={},JE=rg;Object.defineProperty(El,"__esModule",{value:!0});var tf=El.default=void 0,eI=JE(ng()),tI=w;tf=El.default=(0,eI.default)((0,tI.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School");var nI={exports:{}};(function(t,e){(function(n,r){t.exports=r(oh())})(jn,function(n){function r(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var o=r(n),s="___________".split("_"),i="___________".split("_"),a=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function l(d,h,f){var m,g;return f==="m"?h?"":"":f==="h"?h?"":"":d+" "+(m=+d,g={ss:h?"__":"__",mm:h?"__":"__",hh:h?"__":"__",dd:"__",MM:"__",yy:"__"}[f].split("_"),m%10==1&&m%100!=11?g[0]:m%10>=2&&m%10<=4&&(m%100<10||m%100>=20)?g[1]:g[2])}var c=function(d,h){return a.test(h)?s[d.month()]:i[d.month()]};c.s=i,c.f=s;var u={name:"uk",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:c,monthsShort:"___________".split("_"),weekStart:1,relativeTime:{future:" %s",past:"%s ",s:" ",m:l,mm:l,h:l,hh:l,d:"",dd:l,M:"",MM:l,y:"",yy:l},ordinal:function(d){return d},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"}};return o.default.locale(u,null,!0),u})})(nI);const mu={hours:"",minutes:"",seconds:"",meridiem:""},rI={previousMonth:" ",nextMonth:" ",openPreviousView:"  ",openNextView:"  ",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"  ,    ":"  ,    ",start:"",end:"",startDate:" ",startTime:" ",endDate:" ",endTime:" ",cancelButtonLabel:"",clearButtonLabel:"",okButtonLabel:"OK",todayButtonLabel:"",datePickerToolbarTitle:" ",dateTimePickerToolbarTitle:"   ",timePickerToolbarTitle:" ",dateRangePickerToolbarTitle:"  ",clockLabelText:(t,e,n)=>` ${mu[t]}. ${e===null?"  ":`  ${n.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} `,minutesClockNumberText:t=>`${t} `,secondsClockNumberText:t=>`${t} `,selectViewText:t=>` ${mu[t]}`,calendarWeekNumberHeaderLabel:" ",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>` ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?` ,    ${e.format(t,"fullDate")}`:" ",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?` ,    ${e.format(t,"fullTime")}`:" ",fieldClearLabel:" ",timeTableLabel:" ",dateTableLabel:" ",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"",month:"",day:"",weekDay:" ",hours:"",minutes:"",seconds:"",meridiem:"",empty:""},nf=dh(rI);function rf({actualSchedule:t}){const{language:e}=v.useContext(xr),n=Qt(),r=({day:o})=>{const s=o.$d.toLocaleDateString();return t.includes(s)};return w.jsx(Fo,{dateAdapter:fl,localeText:e==="ua"?nf.components.MuiLocalizationProvider.defaultProps.localeText:fh.components.MuiLocalizationProvider.defaultProps.localeText,adapterLocale:e==="ua"?"uk":"en",children:w.jsx(Yh,{sx:{width:"100%",maxWidth:320},slots:{day:o=>{const s=r(o);return w.jsx(fv,{overlap:"circular",badgeContent:s&&w.jsx(tf,{fontSize:"small",sx:{color:n.palette.success.main}}),children:w.jsx(Ph,{...o,sx:{border:o.today?`solid 2px ${n.palette.info.main} !important`:s&&`solid 2px ${n.palette.success.main}`}})})}}},e)})}rf.propTypes={today:N.bool,actualSchedule:N.array};of.propTypes={actualSchedule:N.array};function of({actualSchedule:t}){const{language:e}=v.useContext(xr);return w.jsx(sb,{component:Ro,sx:{boxShadow:"1px 1px 10px 1px rgba(0,0,0,0.05)"},children:w.jsxs(z_,{children:[w.jsx(db,{children:w.jsxs(Jc,{children:[w.jsx(Kn,{align:"center",children:e==="en"?"Location":""}),w.jsx(Kn,{align:"center",children:e==="en"?"Date":""}),w.jsx(Kn,{align:"center",children:e==="en"?"Time":""})]})}),w.jsx(G_,{children:t.map(({date:n,time:r,location:o},s)=>w.jsxs(Jc,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[w.jsx(Kn,{align:"center",children:o}),w.jsx(Kn,{align:"center",children:n}),w.jsx(Kn,{align:"center",children:r})]},s))})]})})}sf.propTypes={setErrorDate:N.func,errorDate:N.bool,setValueDate:N.func};function sf({errorDate:t,setErrorDate:e,setValueDate:n}){const[r,o]=v.useState(We(new Date).$d.toLocaleDateString()??""),[s,i]=v.useState(null),{language:a}=v.useContext(xr),c=/^\d{2}\.\d{2}\.20\d{2}$/.test(r);v.useEffect(()=>{n(r)},[r,n]),v.useEffect(()=>{e(!!(r===""||r==="Invalid Date"||!c||s))},[r,s,e,c]);const u=()=>{if(t){if(!c&&r!=="")return a==="en"?"Year is incorrect":" ";if(r==="")return a==="en"?"Date is required":"  ";if(s)return a==="en"?"You cannot enter a past date":"    "}};return w.jsx(Fs,{sx:{width:"100%"},children:w.jsxs(Fo,{dateAdapter:fl,localeText:a==="ua"?nf.components.MuiLocalizationProvider.defaultProps.localeText:fh.components.MuiLocalizationProvider.defaultProps.localeText,adapterLocale:a==="ua"?"uk":"en",children:[w.jsx(ZE,{sx:{width:"100%"},label:a==="en"?"Select a date":" ",disablePast:!0,defaultValue:We(new Date),format:"DD/MM/YYYY",onChange:d=>o(d.$d.toLocaleDateString()),onError:d=>i(d)}),w.jsx(ko,{sx:{height:30},error:!0,children:u()})]})})}af.propTypes={register:N.func,errors:N.object};const Ui=We(new Date);function af({register:t,errors:e}){var r;const{language:n}=v.useContext(xr);return w.jsx(Fs,{sx:{width:"100%"},children:w.jsxs(Fo,{dateAdapter:fl,children:[w.jsx(jT,{fullWidth:!0,label:n==="en"?"Enter the time":" ",defaultValue:We(`${Ui.$y}-${Ui.$M+1}-${Ui.$D}T17:00`),format:"HH:mm",...t("time")}),w.jsx(ko,{sx:{height:30,ml:0},error:!0,children:(r=e.time)==null?void 0:r.message})]})})}lf.propTypes={register:N.func,errors:N.object};function lf({register:t,errors:e}){var r;const{language:n}=v.useContext(xr);return w.jsx(w.Fragment,{children:w.jsxs(Ka,{sx:{width:"100%",maxWidth:400},children:[w.jsx(Ga,{children:n==="en"?"Choose a place":" "}),w.jsxs(hl,{label:n==="en"?"Choose a place":" ",...t("location"),defaultValue:"Zwanenhof",children:[w.jsx(Hc,{value:"Zwanenhof",children:"Zwanenhof"}),w.jsx(Hc,{value:"Maria Mediatrix	",children:"Maria Mediatrix "})]}),w.jsx(ko,{sx:{height:30,ml:0},error:!0,children:(r=e.place)==null?void 0:r.message})]})})}const oI=t=>ag({location:xc().required(t==="en"?"Place is required":"  "),time:xc().required(t==="en"?"Time is required":"  ").matches(/^[\d:]+$/,t==="en"?"Time is required":"  ")});var gu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},sI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=t[n++];e[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=t[n++],i=t[n++],a=t[n++],l=((o&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],i=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|i&63)}}return e.join("")},uf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const s=t[o],i=o+1<t.length,a=i?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,i||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cf(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const s=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const d=o<t.length?n[t.charAt(o)]:64;if(++o,s==null||a==null||c==null||d==null)throw new iI;const h=s<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aI=function(t){const e=cf(t);return uf.encodeByteArray(e,!0)},vs=function(t){return aI(t).replace(/\./g,"")},lI=function(t){try{return uf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=()=>cI().__FIREBASE_DEFAULTS__,dI=()=>{if(typeof process>"u"||typeof gu>"u")return;const t=gu.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lI(t[1]);return e&&JSON.parse(e)},Il=()=>{try{return uI()||dI()||hI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fI=t=>{var e,n;return(n=(e=Il())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pI=t=>{const e=fI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},df=()=>{var t;return(t=Il())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vs(JSON.stringify(n)),vs(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vI(){var t;const e=(t=Il())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _I(){return!vI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bI(){try{return typeof indexedDB=="object"}catch{return!1}}function wI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;e(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TI,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hf.prototype.create)}}class hf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,s=this.errors[e],i=s?EI(s,r):"Error",a=`${this.serviceName}: ${i} (${o}).`;return new Dr(o,a,r)}}function EI(t,e){return t.replace(II,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const II=/\{\$([^}]+)}/g;function pa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const s=t[o],i=e[o];if(yu(s)&&yu(i)){if(!pa(s,i))return!1}else if(s!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function yu(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){return t&&t._delegate?t._delegate:t}class mo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xI(e))try{this.getOrInitializeService({instanceIdentifier:Dn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch{}}}}clearInstance(e=Dn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Dn){return this.instances.has(e)}getOptions(e=Dn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&i.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(o,s);const i=this.instances.get(o);return i&&e(i,o),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Dn){return this.component?this.component.multipleInstances?e:Dn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PI(t){return t===Dn?void 0:t}function xI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const DI={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},AI=Se.INFO,RI={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},MI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=RI[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ff{constructor(e){this.name=e,this._logLevel=AI,this._logHandler=MI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const kI=(t,e)=>e.some(n=>t instanceof n);let vu,_u;function VI(){return vu||(vu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OI(){return _u||(_u=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pf=new WeakMap,ma=new WeakMap,mf=new WeakMap,zi=new WeakMap,Cl=new WeakMap;function FI(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{n(un(t.result)),o()},i=()=>{r(t.error),o()};t.addEventListener("success",s),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&pf.set(n,t)}).catch(()=>{}),Cl.set(e,t),e}function NI(t){if(ma.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{n(),o()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});ma.set(t,e)}let ga={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ma.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mf.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LI(t){ga=t(ga)}function $I(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wi(this),e,...n);return mf.set(r,e.sort?e.sort():[e]),un(r)}:OI().includes(t)?function(...e){return t.apply(Wi(this),e),un(pf.get(this))}:function(...e){return un(t.apply(Wi(this),e))}}function BI(t){return typeof t=="function"?$I(t):(t instanceof IDBTransaction&&NI(t),kI(t,VI())?new Proxy(t,ga):t)}function un(t){if(t instanceof IDBRequest)return FI(t);if(zi.has(t))return zi.get(t);const e=BI(t);return e!==t&&(zi.set(t,e),Cl.set(e,t)),e}const Wi=t=>Cl.get(t);function jI(t,e,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const i=indexedDB.open(t,e),a=un(i);return r&&i.addEventListener("upgradeneeded",l=>{r(un(i.result),l.oldVersion,l.newVersion,un(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const UI=["get","getKey","getAll","getAllKeys","count"],zI=["put","add","delete","clear"],Hi=new Map;function bu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hi.get(e))return Hi.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=zI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||UI.includes(n)))return;const s=async function(i,...a){const l=this.transaction(i,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return Hi.set(e,s),s}LI(t=>({...t,get:(e,n,r)=>bu(e,n)||t.get(e,n,r),has:(e,n)=>!!bu(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ya="@firebase/app",wu="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn=new ff("@firebase/app"),qI="@firebase/app-compat",YI="@firebase/analytics-compat",KI="@firebase/analytics",GI="@firebase/app-check-compat",QI="@firebase/app-check",XI="@firebase/auth",ZI="@firebase/auth-compat",JI="@firebase/database",eC="@firebase/database-compat",tC="@firebase/functions",nC="@firebase/functions-compat",rC="@firebase/installations",oC="@firebase/installations-compat",sC="@firebase/messaging",iC="@firebase/messaging-compat",aC="@firebase/performance",lC="@firebase/performance-compat",cC="@firebase/remote-config",uC="@firebase/remote-config-compat",dC="@firebase/storage",hC="@firebase/storage-compat",fC="@firebase/firestore",pC="@firebase/firestore-compat",mC="firebase",gC="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]",yC={[ya]:"fire-core",[qI]:"fire-core-compat",[KI]:"fire-analytics",[YI]:"fire-analytics-compat",[QI]:"fire-app-check",[GI]:"fire-app-check-compat",[XI]:"fire-auth",[ZI]:"fire-auth-compat",[JI]:"fire-rtdb",[eC]:"fire-rtdb-compat",[tC]:"fire-fn",[nC]:"fire-fn-compat",[rC]:"fire-iid",[oC]:"fire-iid-compat",[sC]:"fire-fcm",[iC]:"fire-fcm-compat",[aC]:"fire-perf",[lC]:"fire-perf-compat",[cC]:"fire-rc",[uC]:"fire-rc-compat",[dC]:"fire-gcs",[hC]:"fire-gcs-compat",[fC]:"fire-fst",[pC]:"fire-fst-compat","fire-js":"fire-js",[mC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Map,vC=new Map,_a=new Map;function Tu(t,e){try{t.container.addComponent(e)}catch(n){Nn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bs(t){const e=t.name;if(_a.has(e))return Nn.debug(`There were multiple attempts to register component ${e}.`),!1;_a.set(e,t);for(const n of _s.values())Tu(n,t);for(const n of vC.values())Tu(n,t);return!0}function _C(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dn=new hf("app","Firebase",bC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=gC;function gf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:va,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw dn.create("bad-app-name",{appName:String(o)});if(n||(n=df()),!n)throw dn.create("no-options");const s=_s.get(o);if(s){if(pa(n,s.options)&&pa(r,s.config))return s;throw dn.create("duplicate-app",{appName:o})}const i=new SI(o);for(const l of _a.values())i.addComponent(l);const a=new wC(n,r,i);return _s.set(o,a),a}function EC(t=va){const e=_s.get(t);if(!e&&t===va&&df())return gf();if(!e)throw dn.create("no-app",{appName:t});return e}function ar(t,e,n){var r;let o=(r=yC[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${o}" with version "${e}":`];s&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nn.warn(a.join(" "));return}bs(new mo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="firebase-heartbeat-database",CC=1,go="firebase-heartbeat-store";let qi=null;function yf(){return qi||(qi=jI(IC,CC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(go)}catch(n){console.warn(n)}}}}).catch(t=>{throw dn.create("idb-open",{originalErrorMessage:t.message})})),qi}async function PC(t){try{const n=(await yf()).transaction(go),r=await n.objectStore(go).get(vf(t));return await n.done,r}catch(e){if(e instanceof Dr)Nn.warn(e.message);else{const n=dn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nn.warn(n.message)}}}async function Eu(t,e){try{const r=(await yf()).transaction(go,"readwrite");await r.objectStore(go).put(e,vf(t)),await r.done}catch(n){if(n instanceof Dr)Nn.warn(n.message);else{const r=dn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nn.warn(r.message)}}}function vf(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=1024,SC=30*24*60*60*1e3;class DC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Iu();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=SC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Iu(),{heartbeatsToSend:r,unsentEntries:o}=AC(this._heartbeatsCache.heartbeats),s=vs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Iu(){return new Date().toISOString().substring(0,10)}function AC(t,e=xC){const n=[];let r=t.slice();for(const o of t){const s=n.find(i=>i.agent===o.agent);if(s){if(s.dates.push(o.date),Cu(n)>e){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Cu(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bI()?wI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Eu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Eu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Cu(t){return vs(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t){bs(new mo("platform-logger",e=>new WI(e),"PRIVATE")),bs(new mo("heartbeat",e=>new DC(e),"PRIVATE")),ar(ya,wu,t),ar(ya,wu,"esm2017"),ar("fire-js","")}MC("");var kC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee,Pl=Pl||{},ve=kC||self;function ti(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ni(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function VC(t){return Object.prototype.hasOwnProperty.call(t,Yi)&&t[Yi]||(t[Yi]=++OC)}var Yi="closure_uid_"+(1e9*Math.random()>>>0),OC=0;function FC(t,e,n){return t.call.apply(t.bind,arguments)}function NC(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function dt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dt=FC:dt=NC,dt.apply(null,arguments)}function ts(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function tt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,o,s){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return e.prototype[o].apply(r,i)}}function wn(){this.s=this.s,this.o=this.o}var LC=0;wn.prototype.s=!1;wn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),LC!=0)&&VC(this)};wn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _f=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xl(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Pu(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ti(r)){const o=t.length||0,s=r.length||0;t.length=o+s;for(let i=0;i<s;i++)t[o+i]=r[i]}else t.push(r)}}function ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var $C=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ve.addEventListener("test",n,e),ve.removeEventListener("test",n,e)}catch{}return t}();function yo(t){return/^[\s\xa0]*$/.test(t)}function ri(){var t=ve.navigator;return t&&(t=t.userAgent)?t:""}function Nt(t){return ri().indexOf(t)!=-1}function Sl(t){return Sl[" "](t),t}Sl[" "]=function(){};function BC(t,e){var n=kP;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var jC=Nt("Opera"),gr=Nt("Trident")||Nt("MSIE"),bf=Nt("Edge"),ba=bf||gr,wf=Nt("Gecko")&&!(ri().toLowerCase().indexOf("webkit")!=-1&&!Nt("Edge"))&&!(Nt("Trident")||Nt("MSIE"))&&!Nt("Edge"),UC=ri().toLowerCase().indexOf("webkit")!=-1&&!Nt("Edge");function Tf(){var t=ve.document;return t?t.documentMode:void 0}var wa;e:{var Ki="",Gi=function(){var t=ri();if(wf)return/rv:([^\);]+)(\)|;)/.exec(t);if(bf)return/Edge\/([\d\.]+)/.exec(t);if(gr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(UC)return/WebKit\/(\S+)/.exec(t);if(jC)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Gi&&(Ki=Gi?Gi[1]:""),gr){var Qi=Tf();if(Qi!=null&&Qi>parseFloat(Ki)){wa=String(Qi);break e}}wa=Ki}var Ta;if(ve.document&&gr){var xu=Tf();Ta=xu||parseInt(wa,10)||void 0}else Ta=void 0;var zC=Ta;function vo(t,e){if(ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(wf){e:{try{Sl(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:WC[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vo.$.h.call(this)}}tt(vo,ht);var WC={2:"touch",3:"pen",4:"mouse"};vo.prototype.h=function(){vo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var oi="closure_listenable_"+(1e6*Math.random()|0),HC=0;function qC(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=o,this.key=++HC,this.fa=this.ia=!1}function si(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Dl(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function YC(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Ef(t){const e={};for(const n in t)e[n]=t[n];return e}const Su="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function If(t,e){let n,r;for(let o=1;o<arguments.length;o++){r=arguments[o];for(n in r)t[n]=r[n];for(let s=0;s<Su.length;s++)n=Su[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ii(t){this.src=t,this.g={},this.h=0}ii.prototype.add=function(t,e,n,r,o){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var i=Ia(t,e,r,o);return-1<i?(e=t[i],n||(e.ia=!1)):(e=new qC(e,this.src,s,!!r,o),e.ia=n,t.push(e)),e};function Ea(t,e){var n=e.type;if(n in t.g){var r=t.g[n],o=_f(r,e),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(si(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ia(t,e,n,r){for(var o=0;o<t.length;++o){var s=t[o];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return o}return-1}var Al="closure_lm_"+(1e6*Math.random()|0),Xi={};function Cf(t,e,n,r,o){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Cf(t,e[s],n,r,o);return null}return n=Sf(n),t&&t[oi]?t.O(e,n,ni(r)?!!r.capture:!!r,o):KC(t,e,n,!1,r,o)}function KC(t,e,n,r,o,s){if(!e)throw Error("Invalid event type");var i=ni(o)?!!o.capture:!!o,a=Ml(t);if(a||(t[Al]=a=new ii(t)),n=a.add(e,n,r,i,s),n.proxy)return n;if(r=GC(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$C||(o=i),o===void 0&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(xf(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function GC(){function t(n){return e.call(t.src,t.listener,n)}const e=QC;return t}function Pf(t,e,n,r,o){if(Array.isArray(e))for(var s=0;s<e.length;s++)Pf(t,e[s],n,r,o);else r=ni(r)?!!r.capture:!!r,n=Sf(n),t&&t[oi]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ia(s,n,r,o),-1<n&&(si(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ml(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ia(e,n,r,o)),(n=-1<t?e[t]:null)&&Rl(n))}function Rl(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[oi])Ea(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xf(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ml(e))?(Ea(n,t),n.h==0&&(n.src=null,e[Al]=null)):si(t)}}}function xf(t){return t in Xi?Xi[t]:Xi[t]="on"+t}function QC(t,e){if(t.fa)t=!0;else{e=new vo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Rl(t),t=n.call(r,e)}return t}function Ml(t){return t=t[Al],t instanceof ii?t:null}var Zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sf(t){return typeof t=="function"?t:(t[Zi]||(t[Zi]=function(e){return t.handleEvent(e)}),t[Zi])}function et(){wn.call(this),this.i=new ii(this),this.S=this,this.J=null}tt(et,wn);et.prototype[oi]=!0;et.prototype.removeEventListener=function(t,e,n,r){Pf(this,t,e,n,r)};function st(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ht(e,t);else if(e instanceof ht)e.target=e.target||t;else{var o=e;e=new ht(r,t),If(e,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var i=e.g=n[s];o=ns(i,r,!0,e)&&o}if(i=e.g=t,o=ns(i,r,!0,e)&&o,o=ns(i,r,!1,e)&&o,n)for(s=0;s<n.length;s++)i=e.g=n[s],o=ns(i,r,!1,e)&&o}et.prototype.N=function(){if(et.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)si(n[r]);delete t.g[e],t.h--}}this.J=null};et.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};et.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ns(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,s=0;s<e.length;++s){var i=e[s];if(i&&!i.fa&&i.capture==n){var a=i.listener,l=i.la||i.src;i.ia&&Ea(t.i,i),o=a.call(l,r)!==!1&&o}}return o&&!r.defaultPrevented}var kl=ve.JSON.stringify;class XC{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function ZC(){var t=Vl;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class JC{constructor(){this.h=this.g=null}add(e,n){const r=Df.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Df=new XC(()=>new eP,t=>t.reset());class eP{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tP(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function nP(t){ve.setTimeout(()=>{throw t},0)}let _o,bo=!1,Vl=new JC,Af=()=>{const t=ve.Promise.resolve(void 0);_o=()=>{t.then(rP)}};var rP=()=>{for(var t;t=ZC();){try{t.h.call(t.g)}catch(n){nP(n)}var e=Df;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}bo=!1};function ai(t,e){et.call(this),this.h=t||1,this.g=e||ve,this.j=dt(this.qb,this),this.l=Date.now()}tt(ai,et);ee=ai.prototype;ee.ga=!1;ee.T=null;ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),st(this,"tick"),this.ga&&(Ol(this),this.start()))}};ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ol(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ee.N=function(){ai.$.N.call(this),Ol(this),delete this.g};function Fl(t,e,n){if(typeof t=="function")n&&(t=dt(t,n));else if(t&&typeof t.handleEvent=="function")t=dt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ve.setTimeout(t,e||0)}function Rf(t){t.g=Fl(()=>{t.g=null,t.i&&(t.i=!1,Rf(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class oP extends wn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Rf(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wo(t){wn.call(this),this.h=t,this.g={}}tt(wo,wn);var Du=[];function Mf(t,e,n,r){Array.isArray(n)||(n&&(Du[0]=n.toString()),n=Du);for(var o=0;o<n.length;o++){var s=Cf(e,n[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function kf(t){Dl(t.g,function(e,n){this.g.hasOwnProperty(n)&&Rl(e)},t),t.g={}}wo.prototype.N=function(){wo.$.N.call(this),kf(this)};wo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function li(){this.g=!0}li.prototype.Ea=function(){this.g=!1};function sP(t,e,n,r,o,s){t.info(function(){if(t.g)if(s)for(var i="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");i=2<=d.length&&d[1]=="type"?i+(u+"="+c+"&"):i+(u+"=redacted&")}}else i=null;else i=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+`
`+n+`
`+i})}function iP(t,e,n,r,o,s,i){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+`
`+n+`
`+s+" "+i})}function rr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+lP(t,n)+(r?" "+r:"")})}function aP(t,e){t.info(function(){return"TIMEOUT: "+e})}li.prototype.info=function(){};function lP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var i=1;i<o.length;i++)o[i]=""}}}}return kl(n)}catch{return e}}var zn={},Au=null;function ci(){return Au=Au||new et}zn.Ta="serverreachability";function Vf(t){ht.call(this,zn.Ta,t)}tt(Vf,ht);function To(t){const e=ci();st(e,new Vf(e))}zn.STAT_EVENT="statevent";function Of(t,e){ht.call(this,zn.STAT_EVENT,t),this.stat=e}tt(Of,ht);function pt(t){const e=ci();st(e,new Of(e,t))}zn.Ua="timingevent";function Ff(t,e){ht.call(this,zn.Ua,t),this.size=e}tt(Ff,ht);function Lo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){t()},e)}var ui={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Nf={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Nl(){}Nl.prototype.h=null;function Ru(t){return t.h||(t.h=t.i())}function Lf(){}var $o={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ll(){ht.call(this,"d")}tt(Ll,ht);function $l(){ht.call(this,"c")}tt($l,ht);var Ca;function di(){}tt(di,Nl);di.prototype.g=function(){return new XMLHttpRequest};di.prototype.i=function(){return{}};Ca=new di;function Bo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new wo(this),this.P=cP,t=ba?125:void 0,this.V=new ai(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $f}function $f(){this.i=null,this.g="",this.h=!1}var cP=45e3,Bf={},Pa={};ee=Bo.prototype;ee.setTimeout=function(t){this.P=t};function xa(t,e,n){t.L=1,t.A=fi(nn(e)),t.u=n,t.S=!0,jf(t,null)}function jf(t,e){t.G=Date.now(),jo(t),t.B=nn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),Gf(n.i,"t",r),t.o=0,n=t.l.J,t.h=new $f,t.g=gp(t.l,n?e:null,!t.u),0<t.O&&(t.M=new oP(dt(t.Pa,t,t.g),t.O)),Mf(t.U,t.g,"readystatechange",t.nb),e=t.I?Ef(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),To(),sP(t.j,t.v,t.B,t.m,t.W,t.u)}ee.nb=function(t){t=t.target;const e=this.M;e&&Lt(t)==3?e.l():this.Pa(t)};ee.Pa=function(t){try{if(t==this.g)e:{const u=Lt(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||ba||this.g&&(this.h.h||this.g.ja()||Ou(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?To(3):To(2)),hi(this);var n=this.g.da();this.ca=n;t:if(Uf(this)){var r=Ou(this.g);t="";var o=r.length,s=Lt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),io(this);var i="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==o-1});r.length=0,this.h.g+=t,this.o=0,i=this.h.g}else i=this.g.ja();if(this.i=n==200,iP(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yo(a)){var c=a;break t}}c=null}if(n=c)rr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sa(this,n);else{this.i=!1,this.s=3,pt(12),An(this),io(this);break e}}this.S?(zf(this,u,i),ba&&this.i&&u==3&&(Mf(this.U,this.V,"tick",this.mb),this.V.start())):(rr(this.j,this.m,i,null),Sa(this,i)),u==4&&An(this),this.i&&!this.J&&(u==4?hp(this.l,this):(this.i=!1,jo(this)))}else AP(this.g),n==400&&0<i.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),An(this),io(this)}}}catch{}finally{}};function Uf(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function zf(t,e,n){let r=!0,o;for(;!t.J&&t.o<n.length;)if(o=uP(t,n),o==Pa){e==4&&(t.s=4,pt(14),r=!1),rr(t.j,t.m,null,"[Incomplete Response]");break}else if(o==Bf){t.s=4,pt(15),rr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else rr(t.j,t.m,o,null),Sa(t,o);Uf(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,pt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hl(e),e.M=!0,pt(11))):(rr(t.j,t.m,n,"[Invalid Chunked Response]"),An(t),io(t))}ee.mb=function(){if(this.g){var t=Lt(this.g),e=this.g.ja();this.o<e.length&&(hi(this),zf(this,t,e),this.i&&t!=4&&jo(this))}};function uP(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Pa:(n=Number(e.substring(n,r)),isNaN(n)?Bf:(r+=1,r+n>e.length?Pa:(e=e.slice(r,r+n),t.o=r+n,e)))}ee.cancel=function(){this.J=!0,An(this)};function jo(t){t.Y=Date.now()+t.P,Wf(t,t.P)}function Wf(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Lo(dt(t.lb,t),e)}function hi(t){t.C&&(ve.clearTimeout(t.C),t.C=null)}ee.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(aP(this.j,this.B),this.L!=2&&(To(),pt(17)),An(this),this.s=2,io(this)):Wf(this,this.Y-t)};function io(t){t.l.H==0||t.J||hp(t.l,t)}function An(t){hi(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ol(t.V),kf(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Sa(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Da(n.i,t))){if(!t.K&&Da(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Es(n),gi(n);else break e;Wl(n),pt(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=Lo(dt(n.ib,n),6e3));if(1>=Zf(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Rn(n,11)}else if((t.K||n.g==t)&&Es(n),!yo(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let c=o[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Bl(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,$e(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var i=t;if(r.wa=mp(r,r.J?r.pa:null,r.Y),i.K){Jf(r.i,i);var a=i,l=r.L;l&&a.setTimeout(l),a.C&&(hi(a),jo(a)),r.g=i}else up(r);0<n.j.length&&yi(n)}else c[0]!="stop"&&c[0]!="close"||Rn(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Rn(n,7):zl(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}To(4)}catch{}}function dP(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ti(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function hP(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ti(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Hf(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ti(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=hP(t),r=dP(t),o=r.length,s=0;s<o;s++)e.call(void 0,r[s],n&&n[s],t)}var qf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var s=t[n].substring(0,r);o=t[n].substring(r+1)}else s=t[n];e(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Vn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vn){this.h=t.h,ws(this,t.j),this.s=t.s,this.g=t.g,Ts(this,t.m),this.l=t.l;var e=t.i,n=new Eo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Mu(this,n),this.o=t.o}else t&&(e=String(t).match(qf))?(this.h=!1,ws(this,e[1]||"",!0),this.s=Zr(e[2]||""),this.g=Zr(e[3]||"",!0),Ts(this,e[4]),this.l=Zr(e[5]||"",!0),Mu(this,e[6]||"",!0),this.o=Zr(e[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}Vn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Jr(e,ku,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Jr(e,ku,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Jr(n,n.charAt(0)=="/"?gP:mP,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Jr(n,vP)),t.join("")};function nn(t){return new Vn(t)}function ws(t,e,n){t.j=n?Zr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ts(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Mu(t,e,n){e instanceof Eo?(t.i=e,_P(t.i,t.h)):(n||(e=Jr(e,yP)),t.i=new Eo(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function fi(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Jr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,pP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ku=/[#\/\?@]/g,mP=/[#\?:]/g,gP=/[#\?]/g,yP=/[#\?@]/g,vP=/#/g;function Eo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Tn(t){t.g||(t.g=new Map,t.h=0,t.i&&fP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=Eo.prototype;ee.add=function(t,e){Tn(this),this.i=null,t=Ar(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Yf(t,e){Tn(t),e=Ar(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Kf(t,e){return Tn(t),e=Ar(t,e),t.g.has(e)}ee.forEach=function(t,e){Tn(this),this.g.forEach(function(n,r){n.forEach(function(o){t.call(e,o,r,this)},this)},this)};ee.ta=function(){Tn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const o=t[r];for(let s=0;s<o.length;s++)n.push(e[r])}return n};ee.Z=function(t){Tn(this);let e=[];if(typeof t=="string")Kf(this,t)&&(e=e.concat(this.g.get(Ar(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ee.set=function(t,e){return Tn(this),this.i=null,t=Ar(this,t),Kf(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Gf(t,e,n){Yf(t,e),0<n.length&&(t.i=null,t.g.set(Ar(t,e),xl(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),i=this.Z(r);for(r=0;r<i.length;r++){var o=s;i[r]!==""&&(o+="="+encodeURIComponent(String(i[r]))),t.push(o)}}return this.i=t.join("&")};function Ar(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function _P(t,e){e&&!t.j&&(Tn(t),t.i=null,t.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(Yf(this,r),Gf(this,o,n))},t)),t.j=e}var bP=class{constructor(t,e){this.g=t,this.map=e}};function Qf(t){this.l=t||wP,ve.PerformanceNavigationTiming?(t=ve.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wP=10;function Xf(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Zf(t){return t.h?1:t.g?t.g.size:0}function Da(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Bl(t,e){t.g?t.g.add(e):t.h=e}function Jf(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Qf.prototype.cancel=function(){if(this.i=ep(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ep(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return xl(t.i)}var TP=class{stringify(t){return ve.JSON.stringify(t,void 0)}parse(t){return ve.JSON.parse(t,void 0)}};function EP(){this.g=new TP}function IP(t,e,n){const r=n||"";try{Hf(t,function(o,s){let i=o;ni(o)&&(i=kl(o)),e.push(r+s+"="+encodeURIComponent(i))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function CP(t,e){const n=new li;if(ve.Image){const r=new Image;r.onload=ts(rs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ts(rs,n,r,"TestLoadImage: error",!1,e),r.onabort=ts(rs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ts(rs,n,r,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function rs(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Uo(t){this.l=t.ec||null,this.j=t.ob||!1}tt(Uo,Nl);Uo.prototype.g=function(){return new pi(this.l,this.j)};Uo.prototype.i=function(t){return function(){return t}}({});function pi(t,e){et.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=jl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tt(pi,et);var jl=0;ee=pi.prototype;ee.open=function(t,e){if(this.readyState!=jl)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Io(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zo(this)),this.readyState=jl};ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Io(this)),this.g&&(this.readyState=3,Io(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tp(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function tp(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?zo(this):Io(this),this.readyState==3&&tp(this)}};ee.Za=function(t){this.g&&(this.response=this.responseText=t,zo(this))};ee.Ya=function(t){this.g&&(this.response=t,zo(this))};ee.ka=function(){this.g&&zo(this)};function zo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Io(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Io(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var PP=ve.JSON.parse;function He(t){et.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=np,this.L=this.M=!1}tt(He,et);var np="",xP=/^https?$/i,SP=["POST","PUT"];ee=He.prototype;ee.Oa=function(t){this.M=t};ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ca.g(),this.C=this.u?Ru(this.u):Ru(Ca),this.g.onreadystatechange=dt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Vu(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),o=ve.FormData&&t instanceof ve.FormData,!(0<=_f(SP,e))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,i]of n)this.g.setRequestHeader(s,i);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sp(this),0<this.B&&((this.L=DP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dt(this.ua,this)):this.A=Fl(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Vu(this,s)}};function DP(t){return gr&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ee.ua=function(){typeof Pl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,st(this,"timeout"),this.abort(8))};function Vu(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,rp(t),mi(t)}function rp(t){t.F||(t.F=!0,st(t,"complete"),st(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,st(this,"complete"),st(this,"abort"),mi(this))};ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mi(this,!0)),He.$.N.call(this)};ee.La=function(){this.s||(this.G||this.v||this.l?op(this):this.kb())};ee.kb=function(){op(this)};function op(t){if(t.h&&typeof Pl<"u"&&(!t.C[1]||Lt(t)!=4||t.da()!=2)){if(t.v&&Lt(t)==4)Fl(t.La,0,t);else if(st(t,"readystatechange"),Lt(t)==4){t.h=!1;try{const i=t.da();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=i===0){var o=String(t.I).match(qf)[1]||null;!o&&ve.self&&ve.self.location&&(o=ve.self.location.protocol.slice(0,-1)),r=!xP.test(o?o.toLowerCase():"")}n=r}if(n)st(t,"complete"),st(t,"success");else{t.m=6;try{var s=2<Lt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",rp(t)}}finally{mi(t)}}}}function mi(t,e){if(t.g){sp(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||st(t,"ready");try{n.onreadystatechange=r}catch{}}}function sp(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ve.clearTimeout(t.A),t.A=null)}ee.isActive=function(){return!!this.g};function Lt(t){return t.g?t.g.readyState:0}ee.da=function(){try{return 2<Lt(this)?this.g.status:-1}catch{return-1}};ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),PP(e)}};function Ou(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case np:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function AP(t){const e={};t=(t.g&&2<=Lt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(yo(t[r]))continue;var n=tP(t[r]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[o]||[];e[o]=s,s.push(n)}YC(e,function(r){return r.join(", ")})}ee.Ia=function(){return this.m};ee.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ip(t){let e="";return Dl(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ul(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ip(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$e(t,e,n))}function Gr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ap(t){this.Ga=0,this.j=[],this.l=new li,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gr("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gr("baseRetryDelayMs",5e3,t),this.hb=Gr("retryDelaySeedMs",1e4,t),this.eb=Gr("forwardChannelMaxRetries",2,t),this.xa=Gr("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Qf(t&&t.concurrentRequestLimit),this.Ja=new EP,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ee=ap.prototype;ee.ra=8;ee.H=1;function zl(t){if(lp(t),t.H==3){var e=t.W++,n=nn(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),Wo(t,n),e=new Bo(t,t.l,e),e.L=2,e.A=fi(nn(n)),n=!1,ve.navigator&&ve.navigator.sendBeacon)try{n=ve.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ve.Image&&(new Image().src=e.A,n=!0),n||(e.g=gp(e.l,null),e.g.ha(e.A)),e.G=Date.now(),jo(e)}pp(t)}function gi(t){t.g&&(Hl(t),t.g.cancel(),t.g=null)}function lp(t){gi(t),t.u&&(ve.clearTimeout(t.u),t.u=null),Es(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ve.clearTimeout(t.m),t.m=null)}function yi(t){if(!Xf(t.i)&&!t.m){t.m=!0;var e=t.Na;_o||Af(),bo||(_o(),bo=!0),Vl.add(e,t),t.C=0}}function RP(t,e){return Zf(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Lo(dt(t.Na,t,e),fp(t,t.C)),t.C++,!0)}ee.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new Bo(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Ef(s),If(s,this.U)):s=this.U),this.o!==null||this.O||(o.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=cp(this,o,e),n=nn(this.I),$e(n,"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),Wo(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(ip(s)))+"&"+e:this.o&&Ul(n,this.o,s)),Bl(this.i,o),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),o.aa=!0,xa(o,n,null)):xa(o,n,e),this.H=2}}else this.H==3&&(t?Fu(this,t):this.j.length==0||Xf(this.i)||Fu(this))};function Fu(t,e){var n;e?n=e.m:n=t.W++;const r=nn(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),Wo(t,r),t.o&&t.s&&Ul(r,t.o,t.s),n=new Bo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=cp(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Bl(t.i,n),xa(n,r,e)}function Wo(t,e){t.na&&Dl(t.na,function(n,r){$e(e,r,n)}),t.h&&Hf({},function(n,r){$e(e,r,n)})}function cp(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dt(t.h.Va,t.h,t):null;e:{var o=t.j;let s=-1;for(;;){const i=["count="+n];s==-1?0<n?(s=o[0].g,i.push("ofs="+s)):s=0:i.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=o[l].g;const u=o[l].map;if(c-=s,0>c)s=Math.max(0,o[l].g-100),a=!1;else try{IP(u,i,"req"+c+"_")}catch{r&&r(u)}}if(a){r=i.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function up(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;_o||Af(),bo||(_o(),bo=!0),Vl.add(e,t),t.A=0}}function Wl(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Lo(dt(t.Ma,t),fp(t,t.A)),t.A++,!0)}ee.Ma=function(){if(this.u=null,dp(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Lo(dt(this.jb,this),t)}};ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pt(10),gi(this),dp(this))};function Hl(t){t.B!=null&&(ve.clearTimeout(t.B),t.B=null)}function dp(t){t.g=new Bo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=nn(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),Wo(t,e),t.o&&t.s&&Ul(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=fi(nn(e)),n.u=null,n.S=!0,jf(n,t)}ee.ib=function(){this.v!=null&&(this.v=null,gi(this),Wl(this),pt(19))};function Es(t){t.v!=null&&(ve.clearTimeout(t.v),t.v=null)}function hp(t,e){var n=null;if(t.g==e){Es(t),Hl(t),t.g=null;var r=2}else if(Da(t.i,e))n=e.F,Jf(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var o=t.C;r=ci(),st(r,new Ff(r,n)),yi(t)}else up(t);else if(o=e.s,o==3||o==0&&0<e.ca||!(r==1&&RP(t,e)||r==2&&Wl(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Rn(t,5);break;case 4:Rn(t,10);break;case 3:Rn(t,6);break;default:Rn(t,2)}}}function fp(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Rn(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dt(t.pb,t);n||(n=new Vn("//www.google.com/images/cleardot.gif"),ve.location&&ve.location.protocol=="http"||ws(n,"https"),fi(n)),CP(n.toString(),r)}else pt(2);t.H=0,t.h&&t.h.za(e),pp(t),lp(t)}ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),pt(2)):(this.l.info("Failed to ping google.com"),pt(1))};function pp(t){if(t.H=0,t.ma=[],t.h){const e=ep(t.i);(e.length!=0||t.j.length!=0)&&(Pu(t.ma,e),Pu(t.ma,t.j),t.i.i.length=0,xl(t.j),t.j.length=0),t.h.ya()}}function mp(t,e,n){var r=n instanceof Vn?nn(n):new Vn(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ts(r,r.m);else{var o=ve.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var s=new Vn(null);r&&ws(s,r),e&&(s.g=e),o&&Ts(s,o),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&$e(r,n,e),$e(r,"VER",t.ra),Wo(t,r),r}function gp(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new He(new Uo({ob:n})):new He(t.va),e.Oa(t.J),e}ee.isActive=function(){return!!this.h&&this.h.isActive(this)};function yp(){}ee=yp.prototype;ee.Ba=function(){};ee.Aa=function(){};ee.za=function(){};ee.ya=function(){};ee.isActive=function(){return!0};ee.Va=function(){};function Is(){if(gr&&!(10<=Number(zC)))throw Error("Environmental error: no available transport.")}Is.prototype.g=function(t,e){return new wt(t,e)};function wt(t,e){et.call(this),this.g=new ap(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!yo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Rr(this)}tt(wt,et);wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;pt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=mp(t,null,t.Y),yi(t)};wt.prototype.close=function(){zl(this.g)};wt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=kl(t),t=n);e.j.push(new bP(e.fb++,t)),e.H==3&&yi(e)};wt.prototype.N=function(){this.g.h=null,delete this.j,zl(this.g),delete this.g,wt.$.N.call(this)};function vp(t){Ll.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}tt(vp,Ll);function _p(){$l.call(this),this.status=1}tt(_p,$l);function Rr(t){this.g=t}tt(Rr,yp);Rr.prototype.Ba=function(){st(this.g,"a")};Rr.prototype.Aa=function(t){st(this.g,new vp(t))};Rr.prototype.za=function(t){st(this.g,new _p)};Rr.prototype.ya=function(){st(this.g,"b")};function MP(){this.blockSize=-1}function kt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}tt(kt,MP);kt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ji(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var o=0;16>o;++o)r[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],o=t.g[2];var s=t.g[3],i=e+(s^n&(o^s))+r[0]+3614090360&4294967295;e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[1]+3905402710&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[2]+606105819&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[3]+3250441966&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(s^n&(o^s))+r[4]+4118548399&4294967295,e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[5]+1200080426&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[6]+2821735955&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[7]+4249261313&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(s^n&(o^s))+r[8]+1770035416&4294967295,e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[9]+2336552879&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[10]+4294925233&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[11]+2304563134&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(s^n&(o^s))+r[12]+1804603682&4294967295,e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[13]+4254626195&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[14]+2792965006&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[15]+1236535329&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(o^s&(n^o))+r[1]+4129170786&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[6]+3225465664&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[11]+643717713&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[0]+3921069994&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(o^s&(n^o))+r[5]+3593408605&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[10]+38016083&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[15]+3634488961&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[4]+3889429448&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(o^s&(n^o))+r[9]+568446438&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[14]+3275163606&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[3]+4107603335&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[8]+1163531501&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(o^s&(n^o))+r[13]+2850285829&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[2]+4243563512&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[7]+1735328473&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[12]+2368359562&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(n^o^s)+r[5]+4294588738&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[8]+2272392833&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[11]+1839030562&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[14]+4259657740&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(n^o^s)+r[1]+2763975236&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[4]+1272893353&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[7]+4139469664&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[10]+3200236656&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(n^o^s)+r[13]+681279174&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[0]+3936430074&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[3]+3572445317&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[6]+76029189&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(n^o^s)+r[9]+3654602809&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[12]+3873151461&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[15]+530742520&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[2]+3299628645&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(o^(n|~s))+r[0]+4096336452&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[7]+1126891415&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[14]+2878612391&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[5]+4237533241&4294967295,n=o+(i<<21&4294967295|i>>>11),i=e+(o^(n|~s))+r[12]+1700485571&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[3]+2399980690&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[10]+4293915773&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[1]+2240044497&4294967295,n=o+(i<<21&4294967295|i>>>11),i=e+(o^(n|~s))+r[8]+1873313359&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[15]+4264355552&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[6]+2734768916&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[13]+1309151649&4294967295,n=o+(i<<21&4294967295|i>>>11),i=e+(o^(n|~s))+r[4]+4149444226&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[11]+3174756917&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[2]+718787259&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(i<<21&4294967295|i>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+s&4294967295}kt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,o=this.h,s=0;s<e;){if(o==0)for(;s<=n;)Ji(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[o++]=t.charCodeAt(s++),o==this.blockSize){Ji(this,r),o=0;break}}else for(;s<e;)if(r[o++]=t[s++],o==this.blockSize){Ji(this,r),o=0;break}}this.h=o,this.i+=e};kt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ve(t,e){this.h=e;for(var n=[],r=!0,o=t.length-1;0<=o;o--){var s=t[o]|0;r&&s==e||(n[o]=s,r=!1)}this.g=n}var kP={};function ql(t){return-128<=t&&128>t?BC(t,function(e){return new Ve([e|0],0>e?-1:0)}):new Ve([t|0],0>t?-1:0)}function $t(t){if(isNaN(t)||!isFinite(t))return lr;if(0>t)return rt($t(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Aa;return new Ve(e,0)}function bp(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return rt(bp(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=$t(Math.pow(e,8)),r=lr,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),i=parseInt(t.substring(o,o+s),e);8>s?(s=$t(Math.pow(e,s)),r=r.R(s).add($t(i))):(r=r.R(n),r=r.add($t(i)))}return r}var Aa=4294967296,lr=ql(0),Ra=ql(1),Nu=ql(16777216);ee=Ve.prototype;ee.ea=function(){if(It(this))return-rt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Aa+r)*e,e*=Aa}return t};ee.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Jt(this))return"0";if(It(this))return"-"+rt(this).toString(t);for(var e=$t(Math.pow(t,6)),n=this,r="";;){var o=Ps(n,e).g;n=Cs(n,o.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=o,Jt(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Jt(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function It(t){return t.h==-1}ee.X=function(t){return t=Cs(this,t),It(t)?-1:Jt(t)?0:1};function rt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(Ra)}ee.abs=function(){return It(this)?rt(this):this};ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,o=0;o<=e;o++){var s=r+(this.D(o)&65535)+(t.D(o)&65535),i=(s>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);r=i>>>16,s&=65535,i&=65535,n[o]=i<<16|s}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function Cs(t,e){return t.add(rt(e))}ee.R=function(t){if(Jt(this)||Jt(t))return lr;if(It(this))return It(t)?rt(this).R(rt(t)):rt(rt(this).R(t));if(It(t))return rt(this.R(rt(t)));if(0>this.X(Nu)&&0>t.X(Nu))return $t(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<t.g.length;o++){var s=this.D(r)>>>16,i=this.D(r)&65535,a=t.D(o)>>>16,l=t.D(o)&65535;n[2*r+2*o]+=i*l,os(n,2*r+2*o),n[2*r+2*o+1]+=s*l,os(n,2*r+2*o+1),n[2*r+2*o+1]+=i*a,os(n,2*r+2*o+1),n[2*r+2*o+2]+=s*a,os(n,2*r+2*o+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)};function os(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Qr(t,e){this.g=t,this.h=e}function Ps(t,e){if(Jt(e))throw Error("division by zero");if(Jt(t))return new Qr(lr,lr);if(It(t))return e=Ps(rt(t),e),new Qr(rt(e.g),rt(e.h));if(It(e))return e=Ps(t,rt(e)),new Qr(rt(e.g),e.h);if(30<t.g.length){if(It(t)||It(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ra,r=e;0>=r.X(t);)n=Lu(n),r=Lu(r);var o=Qn(n,1),s=Qn(r,1);for(r=Qn(r,2),n=Qn(n,2);!Jt(r);){var i=s.add(r);0>=i.X(t)&&(o=o.add(n),s=i),r=Qn(r,1),n=Qn(n,1)}return e=Cs(t,o.R(e)),new Qr(o,e)}for(o=lr;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=$t(n),i=s.R(e);It(i)||0<i.X(t);)n-=r,s=$t(n),i=s.R(e);Jt(s)&&(s=Ra),o=o.add(s),t=Cs(t,i)}return new Qr(o,t)}ee.gb=function(t){return Ps(this,t).h};ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)};ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)};ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)};function Lu(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function Qn(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,o=[],s=0;s<r;s++)o[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ve(o,t.h)}Is.prototype.createWebChannel=Is.prototype.g;wt.prototype.send=wt.prototype.u;wt.prototype.open=wt.prototype.m;wt.prototype.close=wt.prototype.close;ui.NO_ERROR=0;ui.TIMEOUT=8;ui.HTTP_ERROR=6;Nf.COMPLETE="complete";Lf.EventType=$o;$o.OPEN="a";$o.CLOSE="b";$o.ERROR="c";$o.MESSAGE="d";et.prototype.listen=et.prototype.O;He.prototype.listenOnce=He.prototype.P;He.prototype.getLastError=He.prototype.Sa;He.prototype.getLastErrorCode=He.prototype.Ia;He.prototype.getStatus=He.prototype.da;He.prototype.getResponseJson=He.prototype.Wa;He.prototype.getResponseText=He.prototype.ja;He.prototype.send=He.prototype.ha;He.prototype.setWithCredentials=He.prototype.Oa;kt.prototype.digest=kt.prototype.l;kt.prototype.reset=kt.prototype.reset;kt.prototype.update=kt.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=$t;Ve.fromString=bp;var VP=function(){return new Is},OP=function(){return ci()},ea=ui,FP=Nf,NP=zn,$u={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},LP=Uo,ss=Lf,$P=He,BP=kt,cr=Ve;const Bu="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mr="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new ff("@firebase/firestore");function Xr(){return Ln.logLevel}function ae(t,...e){if(Ln.logLevel<=Se.DEBUG){const n=e.map(Yl);Ln.debug(`Firestore (${Mr}): ${t}`,...n)}}function rn(t,...e){if(Ln.logLevel<=Se.ERROR){const n=e.map(Yl);Ln.error(`Firestore (${Mr}): ${t}`,...n)}}function yr(t,...e){if(Ln.logLevel<=Se.WARN){const n=e.map(Yl);Ln.warn(`Firestore (${Mr}): ${t}`,...n)}}function Yl(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e=`FIRESTORE (${Mr}) INTERNAL ASSERTION FAILED: `+t;throw rn(e),new Error(e)}function Le(t,e){t||me()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ct.UNAUTHENTICATED))}shutdown(){}}class UP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zP{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const o=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new hn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hn,e.enqueueRetryable(()=>o(this.currentUser))};const i=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hn)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new wp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new ct(e)}}class WP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new WP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.R;return this.R=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const o=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?o(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new qP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=KP(40);for(let s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=e.charAt(o[s]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function vr(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Xe(0,0))}static max(){return new _e(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(),r===void 0?r=e.length-n:r>e.length-n&&me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Co.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Co?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const s=e.get(o),i=n.get(o);if(s<i)return-1;if(s>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Be extends Co{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const GP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends Co{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return GP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const s=()=>{if(r.length===0)throw new de(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;o<e.length;){const a=e[o];if(a==="\\"){if(o+1===e.length)throw new de(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,o+=2}else a==="`"?(i=!i,o++):a!=="."||i?(r+=a,o++):(s(),o++)}if(s(),i)throw new de(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Be.fromString(e))}static fromName(e){return new fe(Be.fromString(e).popFirst(5))}static empty(){return new fe(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Be(e.slice()))}}function QP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=_e.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new mn(o,fe.empty(),e)}function XP(t){return new mn(t.readTime,t.key,-1)}class mn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mn(_e.min(),fe.empty(),-1)}static max(){return new mn(_e.max(),fe.empty(),-1)}}function ZP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==JP)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,o)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,o)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let o=0,s=0,i=!1;e.forEach(a=>{++o,a.next(()=>{++s,i&&s===o&&n()},l=>r(l))}),i=!0,s===o&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(o=>o?Y.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,s)=>{r.push(n.call(this,o,s))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,o)=>{const s=e.length,i=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{i[c]=u,++a,a===s&&r(i)},u=>o(u))}})}static doWhile(e,n){return new Y((r,o)=>{const s=()=>{e()===!0?n().next(()=>{s()},o):r()};s()})}}function tx(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kl.oe=-1;function vi(t){return t==null}function xs(t){return t===0&&1/t==-1/0}function nx(t){return typeof t=="number"&&Number.isInteger(t)&&!xs(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wn(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ep(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new is(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new is(this.root,e,this.comparator,!1)}getReverseIterator(){return new is(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new is(this.root,e,this.comparator,!0)}}class is{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&o&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,r,o,s){this.key=e,this.value=n,this.color=r??nt.RED,this.left=o??nt.EMPTY,this.right=s??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,s){return new nt(e??this.key,n??this.value,r??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return nt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,n,r,o,s){return this}insert(e,n,r){return new nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uu(this.data.getIterator())}getIteratorFrom(e){return new Uu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class Uu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new _t([])}unionWith(e){let n=new it(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _t(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ip("Invalid base64 string: "+s):s}}(e);return new ft(n)}static fromUint8Array(e){const n=function(o){let s="";for(let i=0;i<o.length;++i)s+=String.fromCharCode(o[i]);return s}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const rx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gn(t){if(Le(!!t),typeof t=="string"){let e=0;const n=rx.exec(t);if(Le(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $n(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ql(t){const e=t.mapValue.fields.__previous_value__;return Gl(e)?Ql(e):e}function Po(t){const e=gn(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r,o,s,i,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class xo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gl(t)?4:sx(t)?9007199254740991:10:me()}function Yt(t,e){if(t===e)return!0;const n=Bn(t);if(n!==Bn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Po(t).isEqual(Po(e));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const i=gn(o.timestampValue),a=gn(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,s){return $n(o.bytesValue).isEqual($n(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,s){return Ge(o.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(o.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return Ge(o.integerValue)===Ge(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const i=Ge(o.doubleValue),a=Ge(s.doubleValue);return i===a?xs(i)===xs(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return vr(t.arrayValue.values||[],e.arrayValue.values||[],Yt);case 10:return function(o,s){const i=o.mapValue.fields||{},a=s.mapValue.fields||{};if(ju(i)!==ju(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!Yt(i[l],a[l])))return!1;return!0}(t,e);default:return me()}}function So(t,e){return(t.values||[]).find(n=>Yt(n,e))!==void 0}function _r(t,e){if(t===e)return 0;const n=Bn(t),r=Bn(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(s,i){const a=Ge(s.integerValue||s.doubleValue),l=Ge(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return zu(t.timestampValue,e.timestampValue);case 4:return zu(Po(t),Po(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(s,i){const a=$n(s),l=$n(i);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const a=s.split("/"),l=i.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Re(a[c],l[c]);if(u!==0)return u}return Re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const a=Re(Ge(s.latitude),Ge(i.latitude));return a!==0?a:Re(Ge(s.longitude),Ge(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const a=s.values||[],l=i.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=_r(a[c],l[c]);if(u)return u}return Re(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===as.mapValue&&i===as.mapValue)return 0;if(s===as.mapValue)return 1;if(i===as.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=i.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Re(l[d],u[d]);if(h!==0)return h;const f=_r(a[l[d]],c[u[d]]);if(f!==0)return f}return Re(l.length,u.length)}(t.mapValue,e.mapValue);default:throw me()}}function zu(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=gn(t),r=gn(e),o=Re(n.seconds,r.seconds);return o!==0?o:Re(n.nanos,r.nanos)}function br(t){return Ma(t)}function Ma(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $n(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const s of n.values||[])o?o=!1:r+=",",r+=Ma(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",s=!0;for(const i of r)s?s=!1:o+=",",o+=`${i}:${Ma(n.fields[i])}`;return o+"}"}(t.mapValue):me()}function ka(t){return!!t&&"integerValue"in t}function Xl(t){return!!t&&"arrayValue"in t}function Wu(t){return!!t&&"nullValue"in t}function Hu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ds(t){return!!t&&"mapValue"in t}function ao(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wn(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ao(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ao(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.value=e}static empty(){return new gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ds(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ao(n)}setAll(e){let n=ot.emptyPath(),r={},o=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,o),r={},o=[],n=a.popLast()}i?r[a.lastSegment()]=ao(i):o.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,o)}delete(e){const n=this.field(e.popLast());ds(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];ds(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Wn(n,(o,s)=>e[o]=s);for(const o of r)delete e[o]}clone(){return new gt(ao(this.value))}}function Cp(t){const e=[];return Wn(t.fields,(n,r)=>{const o=new ot([n]);if(ds(r)){const s=Cp(r.mapValue).fields;if(s.length===0)e.push(o);else for(const i of s)e.push(o.child(i))}else e.push(o)}),new _t(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n,r,o,s,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new ut(e,0,_e.min(),_e.min(),_e.min(),gt.empty(),0)}static newFoundDocument(e,n,r,o){return new ut(e,1,n,_e.min(),r,o,0)}static newNoDocument(e,n){return new ut(e,2,n,_e.min(),_e.min(),gt.empty(),0)}static newUnknownDocument(e,n){return new ut(e,3,n,_e.min(),_e.min(),gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.position=e,this.inclusive=n}}function qu(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const s=e[o],i=t.position[o];if(s.field.isKeyField()?r=fe.comparator(fe.fromName(i.referenceValue),n.key):r=_r(i,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yu(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n="asc"){this.field=e,this.dir=n}}function ix(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{}class Qe extends Pp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lx(e,n,r):n==="array-contains"?new dx(e,r):n==="in"?new hx(e,r):n==="not-in"?new fx(e,r):n==="array-contains-any"?new px(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cx(e,r):new ux(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_r(n,this.value)):n!==null&&Bn(this.value)===Bn(n)&&this.matchesComparison(_r(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kt extends Pp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Kt(e,n)}matches(e){return xp(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xp(t){return t.op==="and"}function Sp(t){return ax(t)&&xp(t)}function ax(t){for(const e of t.filters)if(e instanceof Kt)return!1;return!0}function Va(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+br(t.value);if(Sp(t))return t.filters.map(e=>Va(e)).join(",");{const e=t.filters.map(n=>Va(n)).join(",");return`${t.op}(${e})`}}function Dp(t,e){return t instanceof Qe?function(r,o){return o instanceof Qe&&r.op===o.op&&r.field.isEqual(o.field)&&Yt(r.value,o.value)}(t,e):t instanceof Kt?function(r,o){return o instanceof Kt&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((s,i,a)=>s&&Dp(i,o.filters[a]),!0):!1}(t,e):void me()}function Ap(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${br(n.value)}`}(t):t instanceof Kt?function(n){return n.op.toString()+" {"+n.getFilters().map(Ap).join(" ,")+"}"}(t):"Filter"}class lx extends Qe{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class cx extends Qe{constructor(e,n){super(e,"in",n),this.keys=Rp("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ux extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=Rp("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Rp(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class dx extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xl(n)&&So(n.arrayValue,this.value)}}class hx extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&So(this.value.arrayValue,n)}}class fx extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!So(this.value.arrayValue,n)}}class px extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>So(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n=null,r=[],o=[],s=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=s,this.startAt=i,this.endAt=a,this.ue=null}}function Ku(t,e=null,n=[],r=[],o=null,s=null,i=null){return new mx(t,e,n,r,o,s,i)}function Zl(t){const e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Va(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),vi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>br(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>br(r)).join(",")),e.ue=n}return e.ue}function Jl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ix(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Dp(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yu(t.startAt,e.startAt)&&Yu(t.endAt,e.endAt)}function Oa(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n=null,r=[],o=[],s=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gx(t,e,n,r,o,s,i,a){return new _i(t,e,n,r,o,s,i,a)}function Mp(t){return new _i(t)}function Gu(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yx(t){return t.collectionGroup!==null}function lo(t){const e=we(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new it(ot.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ds(s,r))}),n.has(ot.keyField().canonicalString())||e.ce.push(new Ds(ot.keyField(),r))}return e.ce}function Ut(t){const e=we(t);return e.le||(e.le=vx(e,lo(t))),e.le}function vx(t,e){if(t.limitType==="F")return Ku(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const s=o.dir==="desc"?"asc":"desc";return new Ds(o.field,s)});const n=t.endAt?new Ss(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ss(t.startAt.position,t.startAt.inclusive):null;return Ku(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fa(t,e,n){return new _i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bi(t,e){return Jl(Ut(t),Ut(e))&&t.limitType===e.limitType}function kp(t){return`${Zl(Ut(t))}|lt:${t.limitType}`}function Zn(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>Ap(o)).join(", ")}]`),vi(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>br(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>br(o)).join(",")),`Target(${r})`}(Ut(t))}; limitType=${t.limitType})`}function wi(t,e){return e.isFoundDocument()&&function(r,o){const s=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,o){for(const s of lo(r))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const s of r.filters)if(!s.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(i,a,l){const c=qu(i,a,l);return i.inclusive?c<=0:c<0}(r.startAt,lo(r),o)||r.endAt&&!function(i,a,l){const c=qu(i,a,l);return i.inclusive?c>=0:c>0}(r.endAt,lo(r),o))}(t,e)}function _x(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Vp(t){return(e,n)=>{let r=!1;for(const o of lo(t)){const s=bx(o,e,n);if(s!==0)return s;r=r||o.field.isKeyField()}return 0}}function bx(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(s,i,a){const l=i.data.field(s),c=a.data.field(s);return l!==null&&c!==null?_r(l,c):me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,s]of r)if(this.equalsFn(o,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return void(o[s]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wn(this.inner,(n,r)=>{for(const[o,s]of r)e(o,s)})}isEmpty(){return Ep(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new Ue(fe.comparator);function on(){return wx}const Op=new Ue(fe.comparator);function eo(...t){let e=Op;for(const n of t)e=e.insert(n.key,n);return e}function Fp(t){let e=Op;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mn(){return co()}function Np(){return co()}function co(){return new kr(t=>t.toString(),(t,e)=>t.isEqual(e))}const Tx=new Ue(fe.comparator),Ex=new it(fe.comparator);function Ce(...t){let e=Ex;for(const n of t)e=e.add(n);return e}const Ix=new it(Re);function Cx(){return Ix}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xs(e)?"-0":e}}function $p(t){return{integerValue:""+t}}function Px(t,e){return nx(e)?$p(e):Lp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this._=void 0}}function xx(t,e,n){return t instanceof As?function(o,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&Gl(s)&&(s=Ql(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof Do?jp(t,e):t instanceof Ao?Up(t,e):function(o,s){const i=Bp(o,s),a=Qu(i)+Qu(o.Pe);return ka(i)&&ka(o.Pe)?$p(a):Lp(o.serializer,a)}(t,e)}function Sx(t,e,n){return t instanceof Do?jp(t,e):t instanceof Ao?Up(t,e):n}function Bp(t,e){return t instanceof Rs?function(r){return ka(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class As extends Ti{}class Do extends Ti{constructor(e){super(),this.elements=e}}function jp(t,e){const n=zp(e);for(const r of t.elements)n.some(o=>Yt(o,r))||n.push(r);return{arrayValue:{values:n}}}class Ao extends Ti{constructor(e){super(),this.elements=e}}function Up(t,e){let n=zp(e);for(const r of t.elements)n=n.filter(o=>!Yt(o,r));return{arrayValue:{values:n}}}class Rs extends Ti{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Qu(t){return Ge(t.integerValue||t.doubleValue)}function zp(t){return Xl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Dx(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof Do&&o instanceof Do||r instanceof Ao&&o instanceof Ao?vr(r.elements,o.elements,Yt):r instanceof Rs&&o instanceof Rs?Yt(r.Pe,o.Pe):r instanceof As&&o instanceof As}(t.transform,e.transform)}class Ax{constructor(e,n){this.version=e,this.transformResults=n}}class zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zt}static exists(e){return new zt(void 0,e)}static updateTime(e){return new zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hs(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ei{}function Wp(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qp(t.key,zt.none()):new Yo(t.key,t.data,zt.none());{const n=t.data,r=gt.empty();let o=new it(ot.comparator);for(let s of e.fields)if(!o.has(s)){let i=n.field(s);i===null&&s.length>1&&(s=s.popLast(),i=n.field(s)),i===null?r.delete(s):r.set(s,i),o=o.add(s)}return new En(t.key,r,new _t(o.toArray()),zt.none())}}function Rx(t,e,n){t instanceof Yo?function(o,s,i){const a=o.value.clone(),l=Zu(o.fieldTransforms,s,i.transformResults);a.setAll(l),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):t instanceof En?function(o,s,i){if(!hs(o.precondition,s))return void s.convertToUnknownDocument(i.version);const a=Zu(o.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(Hp(o)),l.setAll(a),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):function(o,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function uo(t,e,n,r){return t instanceof Yo?function(s,i,a,l){if(!hs(s.precondition,i))return a;const c=s.value.clone(),u=Ju(s.fieldTransforms,l,i);return c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof En?function(s,i,a,l){if(!hs(s.precondition,i))return a;const c=Ju(s.fieldTransforms,l,i),u=i.data;return u.setAll(Hp(s)),u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,i,a){return hs(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,e,n)}function Mx(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),s=Bp(r.transform,o||null);s!=null&&(n===null&&(n=gt.empty()),n.set(r.field,s))}return n||null}function Xu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&vr(r,o,(s,i)=>Dx(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yo extends Ei{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class En extends Ei{constructor(e,n,r,o,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Hp(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Zu(t,e,n){const r=new Map;Le(t.length===n.length);for(let o=0;o<n.length;o++){const s=t[o],i=s.transform,a=e.data.field(s.field);r.set(s.field,Sx(i,a,n[o]))}return r}function Ju(t,e,n){const r=new Map;for(const o of t){const s=o.transform,i=n.data.field(o.field);r.set(o.field,xx(s,i,e))}return r}class qp extends Ei{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kx extends Ei{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(e.key)&&Rx(s,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Np();return this.mutations.forEach(o=>{const s=e.get(o.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=n.has(o.key)?null:a;const l=Wp(i,a);l!==null&&r.set(o.key,l),i.isValidDocument()||i.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&vr(this.mutations,e.mutations,(n,r)=>Xu(n,r))&&vr(this.baseMutations,e.baseMutations,(n,r)=>Xu(n,r))}}class ec{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Le(e.mutations.length===r.length);let o=function(){return Tx}();const s=e.mutations;for(let i=0;i<s.length;i++)o=o.insert(s[i].key,r[i].version);return new ec(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,Pe;function Nx(t){switch(t){default:return me();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function Yp(t){if(t===void 0)return rn("GRPC error has no .code"),q.UNKNOWN;switch(t){case Ke.OK:return q.OK;case Ke.CANCELLED:return q.CANCELLED;case Ke.UNKNOWN:return q.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return q.INTERNAL;case Ke.UNAVAILABLE:return q.UNAVAILABLE;case Ke.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Ke.NOT_FOUND:return q.NOT_FOUND;case Ke.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Ke.ABORTED:return q.ABORTED;case Ke.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Ke.DATA_LOSS:return q.DATA_LOSS;default:return me()}}(Pe=Ke||(Ke={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new cr([4294967295,4294967295],0);function ed(t){const e=Lx().encode(t),n=new BP;return n.update(e),new Uint8Array(n.digest())}function td(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cr([n,r],0),new cr([o,s],0)]}class tc{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new to(`Invalid padding: ${n}`);if(r<0)throw new to(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new to(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new to(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=cr.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(cr.fromNumber(r)));return o.compare($x)===1&&(o=new cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=ed(e),[r,o]=td(n);for(let s=0;s<this.hashCount;s++){const i=this.Ee(r,o,s);if(!this.de(i))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new tc(s,o,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.Ie===0)return;const n=ed(e),[r,o]=td(n);for(let s=0;s<this.hashCount;s++){const i=this.Ee(r,o,s);this.Ae(i)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class to extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n,r,o,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ii(_e.min(),o,new Ue(Re),on(),Ce())}}class Ko{constructor(e,n,r,o,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ko(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class Kp{constructor(e,n){this.targetId=e,this.me=n}}class Gp{constructor(e,n,r=ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class nd{constructor(){this.fe=0,this.ge=od(),this.pe=ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ce(),n=Ce(),r=Ce();return this.ge.forEach((o,s)=>{switch(s){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:me()}}),new Ko(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=od()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Bx{constructor(e){this.Le=e,this.Be=new Map,this.ke=on(),this.qe=rd(),this.Qe=new Ue(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const s=o.target;if(Oa(s))if(r===0){const i=new fe(s.path);this.Ue(n,i,ut.newNoDocument(i,_e.min()))}else Le(r===1);else{const i=this.Ye(n);if(i!==r){const a=this.Ze(e),l=a?this.Xe(a,e,i):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:s=0}=n;let i,a;try{i=$n(r).toUint8Array()}catch(l){if(l instanceof Ip)return yr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new tc(i,o,s)}catch(l){return yr(l instanceof to?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach(s=>{const i=this.Le.tt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((s,i)=>{const a=this.Je(i);if(a){if(s.current&&Oa(a.target)){const l=new fe(a.target.path);this.ke.get(l)!==null||this.it(i,l)||this.Ue(i,l,ut.newNoDocument(l,e))}s.be&&(n.set(i,s.Ce()),s.ve())}});let r=Ce();this.qe.forEach((s,i)=>{let a=!0;i.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,i)=>i.setReadTime(e));const o=new Ii(e,n,this.Qe,this.ke,r);return this.ke=on(),this.qe=rd(),this.Qe=new Ue(Re),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new nd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new it(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function rd(){return new Ue(fe.comparator)}function od(){return new Ue(fe.comparator)}const jx={asc:"ASCENDING",desc:"DESCENDING"},Ux={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zx={and:"AND",or:"OR"};class Wx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Na(t,e){return t.useProto3Json||vi(e)?e:{value:e}}function Ms(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qp(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hx(t,e){return Ms(t,e.toTimestamp())}function Wt(t){return Le(!!t),_e.fromTimestamp(function(n){const r=gn(n);return new Xe(r.seconds,r.nanos)}(t))}function nc(t,e){return La(t,e).canonicalString()}function La(t,e){const n=function(o){return new Be(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Xp(t){const e=Be.fromString(t);return Le(nm(e)),e}function $a(t,e){return nc(t.databaseId,e.path)}function ta(t,e){const n=Xp(e);if(n.get(1)!==t.databaseId.projectId)throw new de(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(Jp(n))}function Zp(t,e){return nc(t.databaseId,e)}function qx(t){const e=Xp(t);return e.length===4?Be.emptyPath():Jp(e)}function Ba(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jp(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sd(t,e,n){return{name:$a(t,e),fields:n.value.mapValue.fields}}function Yx(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Le(u===void 0||typeof u=="string"),ft.fromBase64String(u||"")):(Le(u===void 0||u instanceof Buffer||u instanceof Uint8Array),ft.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(c){const u=c.code===void 0?q.UNKNOWN:Yp(c.code);return new de(u,c.message||"")}(i);n=new Gp(r,o,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=ta(t,r.document.name),s=Wt(r.document.updateTime),i=r.document.createTime?Wt(r.document.createTime):_e.min(),a=new gt({mapValue:{fields:r.document.fields}}),l=ut.newFoundDocument(o,s,i,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new fs(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=ta(t,r.document),s=r.readTime?Wt(r.readTime):_e.min(),i=ut.newNoDocument(o,s),a=r.removedTargetIds||[];n=new fs([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=ta(t,r.document),s=r.removedTargetIds||[];n=new fs([],s,o,null)}else{if(!("filter"in e))return me();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:s}=r,i=new Fx(o,s),a=r.targetId;n=new Kp(a,i)}}return n}function Kx(t,e){let n;if(e instanceof Yo)n={update:sd(t,e.key,e.value)};else if(e instanceof qp)n={delete:$a(t,e.key)};else if(e instanceof En)n={update:sd(t,e.key,e.data),updateMask:rS(e.fieldMask)};else{if(!(e instanceof kx))return me();n={verify:$a(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const a=i.transform;if(a instanceof As)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Do)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ao)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rs)return{fieldPath:i.field.canonicalString(),increment:a.Pe};throw me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:Hx(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:me()}(t,e.precondition)),n}function Gx(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(o,s){let i=o.updateTime?Wt(o.updateTime):Wt(s);return i.isEqual(_e.min())&&(i=Wt(s)),new Ax(i,o.transformResults||[])}(n,e))):[]}function Qx(t,e){return{documents:[Zp(t,e.path)]}}function Xx(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Zp(t,o);const s=function(c){if(c.length!==0)return tm(Kt.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Jn(h.field),direction:eS(h.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const a=Na(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:o}}function Zx(t){let e=qx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Le(r===1);const u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=em(d);return h instanceof Kt&&Sp(h)?h.getFilters():[h]}(n.where));let i=[];n.orderBy&&(i=function(d){return d.map(h=>function(m){return new Ds(er(m.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,vi(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Ss(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new Ss(f,h)}(n.endAt)),gx(e,o,i,s,a,"F",l,c)}function Jx(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function em(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=er(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=er(n.unaryFilter.field);return Qe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=er(n.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=er(n.unaryFilter.field);return Qe.create(i,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(er(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kt.create(n.compositeFilter.filters.map(r=>em(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(t):me()}function eS(t){return jx[t]}function tS(t){return Ux[t]}function nS(t){return zx[t]}function Jn(t){return{fieldPath:t.canonicalString()}}function er(t){return ot.fromServerFormat(t.fieldPath)}function tm(t){return t instanceof Qe?function(n){if(n.op==="=="){if(Hu(n.value))return{unaryFilter:{field:Jn(n.field),op:"IS_NAN"}};if(Wu(n.value))return{unaryFilter:{field:Jn(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hu(n.value))return{unaryFilter:{field:Jn(n.field),op:"IS_NOT_NAN"}};if(Wu(n.value))return{unaryFilter:{field:Jn(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jn(n.field),op:tS(n.op),value:n.value}}}(t):t instanceof Kt?function(n){const r=n.getFilters().map(o=>tm(o));return r.length===1?r[0]:{compositeFilter:{op:nS(n.op),filters:r}}}(t):me()}function rS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nm(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r,o,s=_e.min(),i=_e.min(),a=ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new cn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.ut=e}}function sS(t){const e=Zx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fa(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.on=new aS}addToCollectionParentIndex(e,n){return this.on.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(mn.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(mn.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class aS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new it(Be.comparator),s=!o.has(r);return this.index[n]=o.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new it(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new wr(0)}static Nn(){return new wr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.changes=new kr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&uo(r.mutation,o,_t.empty(),Xe.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const o=Mn();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(s=>{let i=eo();return s.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=Mn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const o=[];return r.forEach(s=>{n.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(e,o).next(s=>{s.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,o){let s=on();const i=co(),a=function(){return co()}();return n.forEach((l,c)=>{const u=r.get(c.key);o.has(c.key)&&(u===void 0||u.mutation instanceof En)?s=s.insert(c.key,c):u!==void 0?(i.set(c.key,u.mutation.getFieldMask()),uo(u.mutation,c,u.mutation.getFieldMask(),Xe.now())):i.set(c.key,_t.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>i.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new cS(u,(d=i.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=co();let o=new Ue((i,a)=>i-a),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||_t.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(o.get(a.batchId)||Ce()).add(l);o=o.insert(a.batchId,d)})}).next(()=>{const i=[],a=o.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=Np();u.forEach(h=>{if(!s.has(h)){const f=Wp(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),i.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Y.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(i){return fe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(s=>{const i=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-s.size):Y.resolve(Mn());let a=-1,l=s;return i.next(c=>Y.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?Y.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ce())).next(u=>({batchId:a,changes:Fp(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let o=eo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const s=n.collectionGroup;let i=eo();return this.indexManager.getCollectionParents(e,s).next(a=>Y.forEach(a,l=>{const c=function(d,h){return new _i(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,o).next(u=>{u.forEach((d,h)=>{i=i.insert(d,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,o){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,o))).next(i=>{s.forEach((l,c)=>{const u=c.getKey();i.get(u)===null&&(i=i.insert(u,ut.newInvalidDocument(u)))});let a=eo();return i.forEach((l,c)=>{const u=s.get(l);u!==void 0&&uo(u.mutation,c,_t.empty(),Xe.now()),wi(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Y.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Wt(o.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(o){return{name:o.name,query:sS(o.bundledQuery),readTime:Wt(o.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.overlays=new Ue(fe.comparator),this.lr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mn();return Y.forEach(n,o=>this.getOverlay(e,o).next(s=>{s!==null&&r.set(o,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,s)=>{this.lt(e,n,s)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.lr.get(r);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const o=Mn(),s=n.length+1,i=new fe(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&o.set(l.getKey(),l)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let s=new Ue((c,u)=>c-u);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Mn(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Mn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=o)););return Y.resolve(a)}lt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const i=this.lr.get(o.largestBatchId).delete(r.key);this.lr.set(o.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new Ox(n,r));let s=this.lr.get(n);s===void 0&&(s=Ce(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.hr=new it(Je.Pr),this.Ir=new it(Je.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Je(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Je(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new fe(new Be([])),r=new Je(n,e),o=new Je(n,e+1),s=[];return this.Ir.forEachInRange([r,o],i=>{this.dr(i),s.push(i.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new fe(new Be([])),r=new Je(n,e),o=new Je(n,e+1);let s=Ce();return this.Ir.forEachInRange([r,o],i=>{s=s.add(i.key)}),s}containsKey(e){const n=new Je(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Je{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return fe.comparator(e.key,n.key)||Re(e.gr,n.gr)}static Tr(e,n){return Re(e.gr,n.gr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new it(Je.Pr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Vx(s,n,r,o);this.mutationQueue.push(i);for(const a of o)this.yr=this.yr.add(new Je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Y.resolve(i)}lookupMutationBatch(e,n){return Y.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Sr(r),s=o<0?0:o;return Y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Je(n,0),o=new Je(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,o],i=>{const a=this.wr(i.gr);s.push(a)}),Y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(Re);return n.forEach(o=>{const s=new Je(o,0),i=new Je(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,i],a=>{r=r.add(a.gr)})}),Y.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let s=r;fe.isDocumentKey(s)||(s=s.child(""));const i=new Je(new fe(s),0);let a=new it(Re);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===o&&(a=a.add(l.gr)),!0)},i),Y.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const o=this.wr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Le(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return Y.forEach(n.mutations,o=>{const s=new Je(o.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Je(n,0),o=this.yr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.Cr=e,this.docs=function(){return new Ue(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),s=o?o.size:0,i=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():ut.newInvalidDocument(n))}getEntries(e,n){let r=on();return n.forEach(o=>{const s=this.docs.get(o);r=r.insert(o,s?s.document.mutableCopy():ut.newInvalidDocument(o))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let s=on();const i=n.path,a=new fe(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||ZP(XP(u),r)<=0||(o.has(u.key)||wi(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,n,r,o){me()}vr(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mS(this)}getSize(e){return Y.resolve(this.size)}}class mS extends lS{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this._r.addEntry(e,o)):this._r.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.persistence=e,this.Fr=new kr(n=>Zl(n),Jl),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Mr=0,this.Or=new rc,this.targetCount=0,this.Nr=wr.On()}forEachTarget(e,n){return this.Fr.forEach((r,o)=>n(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),Y.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new wr(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.kn(n),Y.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let o=0;const s=[];return this.Fr.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),Y.waitFor(s).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(i=>{s.push(o.markPotentiallyOrphaned(e,i))}),Y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n){this.Lr={},this.overlays={},this.Br=new Kl(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new gS(this),this.indexManager=new iS,this.remoteDocumentCache=function(o){return new pS(o)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new oS(n),this.Kr=new dS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new fS(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const o=new vS(this.Br.next());return this.referenceDelegate.$r(),r(o).next(s=>this.referenceDelegate.Ur(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Wr(e,n){return Y.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class vS extends ex{constructor(e){super(),this.currentSequenceNumber=e}}class oc{constructor(e){this.persistence=e,this.Gr=new rc,this.zr=null}static jr(e){return new oc(e)}get Hr(){if(this.zr)return this.zr;throw me()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(o=>this.Hr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Hr,r=>{const o=fe.fromPath(r);return this.Jr(e,o).next(s=>{s||n.removeEntry(o,_e.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Y.or([()=>Y.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=o}static Qi(e,n){let r=Ce(),o=Ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new sc(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return _I()?8:tx(yI())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,o){const s={result:null};return this.zi(e,n).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.ji(e,n,o,r).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new _S;return this.Hi(e,n,i).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,i,a.size)})}).next(()=>s.result)}Ji(e,n,r,o){return r.documentReadCount<this.Ui?(Xr()<=Se.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Zn(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Y.resolve()):(Xr()<=Se.DEBUG&&ae("QueryEngine","Query:",Zn(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Wi*o?(Xr()<=Se.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Zn(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ut(n))):Y.resolve())}zi(e,n){if(Gu(n))return Y.resolve(null);let r=Ut(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Fa(n,null,"F"),r=Ut(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const i=Ce(...s);return this.Gi.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,i,l.readTime)?this.zi(e,Fa(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,o){return Gu(n)||o.isEqual(_e.min())?Y.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const i=this.Yi(n,s);return this.Zi(n,i,r,o)?Y.resolve(null):(Xr()<=Se.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zn(n)),this.Xi(e,i,n,QP(o,-1)).next(a=>a))})}Yi(e,n){let r=new it(Vp(e));return n.forEach((o,s)=>{wi(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Hi(e,n,r){return Xr()<=Se.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Zn(n)),this.Gi.getDocumentsMatchingQuery(e,n,mn.min(),r)}Xi(e,n,r,o){return this.Gi.getDocumentsMatchingQuery(e,r,o).next(s=>(n.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n,r,o){this.persistence=e,this.es=n,this.serializer=o,this.ts=new Ue(Re),this.ns=new kr(s=>Zl(s),Jl),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uS(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function TS(t,e,n,r){return new wS(t,e,n,r)}async function rm(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(s=>(o=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const i=[],a=[];let l=Ce();for(const c of o){i.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:i,addedBatchIds:a}))})})}function ES(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=Y.resolve();return h.forEach(m=>{f=f.next(()=>u.getEntry(l,m)).next(g=>{const p=c.docVersions.get(m);Le(p!==null),g.version.compareTo(p)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function om(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function IS(t,e){const n=we(t),r=e.snapshotVersion;let o=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=n.ss.newChangeBuffer({trackRemovals:!0});o=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const h=o.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(ft.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),o=o.insert(d,f),function(g,p,b){return g.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,f,u)&&a.push(n.qr.updateTargetData(s,f))});let l=on(),c=Ce();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(CS(s,i,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(_e.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return Y.waitFor(a).next(()=>i.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=o,s))}function CS(t,e,n){let r=Ce(),o=Ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let i=on();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(o=o.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:i,cs:o}})}function PS(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xS(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.qr.getTargetData(r,e).next(s=>s?(o=s,Y.resolve(o)):n.qr.allocateTargetId(r).next(i=>(o=new cn(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function ja(t,e,n){const r=we(t),o=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,i=>r.persistence.referenceDelegate.removeTarget(i,o))}catch(i){if(!qo(i))throw i;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.ts=r.ts.remove(e),r.ns.delete(o.target)}function id(t,e,n){const r=we(t);let o=_e.min(),s=Ce();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,c,u){const d=we(l),h=d.ns.get(u);return h!==void 0?Y.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(r,i,Ut(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(i,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(i,e,n?o:_e.min(),n?s:Ce())).next(a=>(SS(r,_x(e),a),{documents:a,ls:s})))}function SS(t,e,n){let r=t.rs.get(e)||_e.min();n.forEach((o,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class ad{constructor(){this.activeTargetIds=Cx()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DS{constructor(){this.eo=new ad,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ad,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ls=null;function na(){return ls===null?ls=function(){return 268435456+Math.round(2147483648*Math.random())}():ls++,"0x"+ls.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt="WebChannelConnection";class kS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${o}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${s}`}get bo(){return!1}Do(n,r,o,s,i){const a=na(),l=this.Co(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,l,o);const c={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(c,s,i),this.Fo(n,l,c,o).then(u=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw yr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",o),u})}Mo(n,r,o,s,i,a){return this.Do(n,r,o,s,i)}vo(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,i)=>n[i]=s),o&&o.headers.forEach((s,i)=>n[i]=s)}Co(n,r){const o=RS[n];return`${this.yo}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,o){const s=na();return new Promise((i,a)=>{const l=new $P;l.setWithCredentials(!0),l.listenOnce(FP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ea.NO_ERROR:const u=l.getResponseJson();ae(lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),i(u);break;case ea.TIMEOUT:ae(lt,`RPC '${e}' ${s} timed out`),a(new de(q.DEADLINE_EXCEEDED,"Request time out"));break;case ea.HTTP_ERROR:const d=l.getStatus();if(ae(lt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const m=function(p){const b=p.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(b)>=0?b:q.UNKNOWN}(f.status);a(new de(m,f.message))}else a(new de(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new de(q.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{ae(lt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(o);ae(lt,`RPC '${e}' ${s} sending request:`,o),l.send(n,"POST",c,r,15)})}xo(e,n,r){const o=na(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=VP(),a=OP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new LP({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ae(lt,`Creating RPC '${e}' stream ${o}: ${u}`,l);const d=i.createWebChannel(u,l);let h=!1,f=!1;const m=new MS({co:p=>{f?ae(lt,`Not sending because RPC '${e}' stream ${o} is closed:`,p):(h||(ae(lt,`Opening RPC '${e}' stream ${o} transport.`),d.open(),h=!0),ae(lt,`RPC '${e}' stream ${o} sending:`,p),d.send(p))},lo:()=>d.close()}),g=(p,b,_)=>{p.listen(b,E=>{try{_(E)}catch(T){setTimeout(()=>{throw T},0)}})};return g(d,ss.EventType.OPEN,()=>{f||(ae(lt,`RPC '${e}' stream ${o} transport opened.`),m.Vo())}),g(d,ss.EventType.CLOSE,()=>{f||(f=!0,ae(lt,`RPC '${e}' stream ${o} transport closed`),m.fo())}),g(d,ss.EventType.ERROR,p=>{f||(f=!0,yr(lt,`RPC '${e}' stream ${o} transport errored:`,p),m.fo(new de(q.UNAVAILABLE,"The operation could not be completed")))}),g(d,ss.EventType.MESSAGE,p=>{var b;if(!f){const _=p.data[0];Le(!!_);const E=_,T=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(T){ae(lt,`RPC '${e}' stream ${o} received error:`,T);const I=T.status;let D=function(j){const $=Ke[j];if($!==void 0)return Yp($)}(I),x=T.message;D===void 0&&(D=q.INTERNAL,x="Unknown error status: "+I+" with message "+T.message),f=!0,m.fo(new de(D,x)),d.close()}else ae(lt,`RPC '${e}' stream ${o} received:`,_),m.po(_)}}),g(a,NP.STAT_EVENT,p=>{p.stat===$u.PROXY?ae(lt,`RPC '${e}' stream ${o} detected buffering proxy`):p.stat===$u.NOPROXY&&ae(lt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{m.mo()},0),m}}function ra(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t){return new Wx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r=1e3,o=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=o,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),o=Math.max(0,n-r);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n,r,o,s,i,a,l){this.si=e,this.Wo=r,this.Go=o,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new sm(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(rn(n.toString()),rn("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.zo===n&&this.a_(r,o)},r=>{e(()=>{const o=new de(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(o)})})}a_(e,n){const r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(o=>{r(()=>this.u_(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VS extends im{constructor(e,n,r,o,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();const n=Yx(this.serializer,e),r=function(s){if(!("targetChange"in s))return _e.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?_e.min():i.readTime?Wt(i.readTime):_e.min()}(e);return this.listener.l_(n,r)}h_(e){const n={};n.database=Ba(this.serializer),n.addTarget=function(s,i){let a;const l=i.target;if(a=Oa(l)?{documents:Qx(s,l)}:{query:Xx(s,l)._t},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=Qp(s,i.resumeToken);const c=Na(s,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(_e.min())>0){a.readTime=Ms(s,i.snapshotVersion.toTimestamp());const c=Na(s,i.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Jx(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){const n={};n.database=Ba(this.serializer),n.removeTarget=e,this.r_(n)}}class OS extends im{constructor(e,n,r,o,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const n=Gx(e.writeResults,e.commitTime),r=Wt(e.commitTime);return this.listener.d_(r,n)}return Le(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Ba(this.serializer),this.r_(e)}E_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Kx(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.V_=!1}m_(){if(this.V_)throw new de(q.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Do(e,La(n,r),o,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(q.UNKNOWN,s.toString())})}Mo(e,n,r,o,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,La(n,r),o,i,a,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(q.UNKNOWN,i.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class NS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(rn(n),this.y_=!1):ae("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,r,o,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(i=>{r.enqueueAndForget(async()=>{Hn(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=we(l);c.M_.add(4),await Go(c),c.N_.set("Unknown"),c.M_.delete(4),await Pi(c)}(this))})}),this.N_=new NS(r,o)}}async function Pi(t){if(Hn(t))for(const e of t.x_)await e(!0)}async function Go(t){for(const e of t.x_)await e(!1)}function am(t,e){const n=we(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),cc(n)?lc(n):Vr(n).Zo()&&ac(n,e))}function ic(t,e){const n=we(t),r=Vr(n);n.F_.delete(e),r.Zo()&&lm(n,e),n.F_.size===0&&(r.Zo()?r.t_():Hn(n)&&n.N_.set("Unknown"))}function ac(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vr(t).h_(e)}function lm(t,e){t.L_.xe(e),Vr(t).P_(e)}function lc(t){t.L_=new Bx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Vr(t).start(),t.N_.w_()}function cc(t){return Hn(t)&&!Vr(t).Yo()&&t.F_.size>0}function Hn(t){return we(t).M_.size===0}function cm(t){t.L_=void 0}async function $S(t){t.N_.set("Online")}async function BS(t){t.F_.forEach((e,n)=>{ac(t,e)})}async function jS(t,e){cm(t),cc(t)?(t.N_.D_(e),lc(t)):t.N_.set("Unknown")}async function US(t,e,n){if(t.N_.set("Online"),e instanceof Gp&&e.state===2&&e.cause)try{await async function(o,s){const i=s.cause;for(const a of s.targetIds)o.F_.has(a)&&(await o.remoteSyncer.rejectListen(a,i),o.F_.delete(a),o.L_.removeTarget(a))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ks(t,r)}else if(e instanceof fs?t.L_.Ke(e):e instanceof Kp?t.L_.He(e):t.L_.We(e),!n.isEqual(_e.min()))try{const r=await om(t.localStore);n.compareTo(r)>=0&&await function(s,i){const a=s.L_.rt(i);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.F_.get(c);u&&s.F_.set(c,u.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,c)=>{const u=s.F_.get(l);if(!u)return;s.F_.set(l,u.withResumeToken(ft.EMPTY_BYTE_STRING,u.snapshotVersion)),lm(s,l);const d=new cn(u.target,l,c,u.sequenceNumber);ac(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await ks(t,r)}}async function ks(t,e,n){if(!qo(e))throw e;t.M_.add(1),await Go(t),t.N_.set("Offline"),n||(n=()=>om(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Pi(t)})}function um(t,e){return e().catch(n=>ks(t,n,e))}async function xi(t){const e=we(t),n=yn(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;zS(e);)try{const o=await PS(e.localStore,r);if(o===null){e.v_.length===0&&n.t_();break}r=o.batchId,WS(e,o)}catch(o){await ks(e,o)}dm(e)&&hm(e)}function zS(t){return Hn(t)&&t.v_.length<10}function WS(t,e){t.v_.push(e);const n=yn(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function dm(t){return Hn(t)&&!yn(t).Yo()&&t.v_.length>0}function hm(t){yn(t).start()}async function HS(t){yn(t).R_()}async function qS(t){const e=yn(t);for(const n of t.v_)e.E_(n.mutations)}async function YS(t,e,n){const r=t.v_.shift(),o=ec.from(r,e,n);await um(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await xi(t)}async function KS(t,e){e&&yn(t).T_&&await async function(r,o){if(function(i){return Nx(i)&&i!==q.ABORTED}(o.code)){const s=r.v_.shift();yn(r).e_(),await um(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),await xi(r)}}(t,e),dm(t)&&hm(t)}async function cd(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=Hn(n);n.M_.add(3),await Go(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Pi(n)}async function GS(t,e){const n=we(t);e?(n.M_.delete(2),await Pi(n)):e||(n.M_.add(2),await Go(n),n.N_.set("Unknown"))}function Vr(t){return t.B_||(t.B_=function(n,r,o){const s=we(n);return s.m_(),new VS(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(t.datastore,t.asyncQueue,{ho:$S.bind(null,t),Io:BS.bind(null,t),Eo:jS.bind(null,t),l_:US.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.e_(),cc(t)?lc(t):t.N_.set("Unknown")):(await t.B_.stop(),cm(t))})),t.B_}function yn(t){return t.k_||(t.k_=function(n,r,o){const s=we(n);return s.m_(),new OS(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:HS.bind(null,t),Eo:KS.bind(null,t),A_:qS.bind(null,t),d_:YS.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.e_(),await xi(t)):(await t.k_.stop(),t.v_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r,o,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,s){const i=Date.now()+r,a=new uc(e,n,i,o,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dc(t,e){if(rn("AsyncQueue",`${e}: ${t}`),qo(t))return new de(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=eo(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new ur(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ur)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ur;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.q_=new Ue(fe.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):me():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Tr{constructor(e,n,r,o,s,i,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,o,s){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new Tr(e,n,ur.emptySet(n),i,r,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class XS{constructor(){this.queries=new kr(e=>kp(e),bi),this.onlineState="Unknown",this.z_=new Set}}async function ZS(t,e){const n=we(t);let r=3;const o=e.query;let s=n.queries.get(o);s?!s.W_()&&e.G_()&&(r=2):(s=new QS,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(o,!0);break;case 1:s.K_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(i){const a=dc(i,`Initialization of query '${Zn(e.query)}' failed`);return void e.onError(a)}n.queries.set(o,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&hc(n)}async function JS(t,e){const n=we(t),r=e.query;let o=3;const s=n.queries.get(r);if(s){const i=s.U_.indexOf(e);i>=0&&(s.U_.splice(i,1),s.U_.length===0?o=e.G_()?0:1:!s.W_()&&e.G_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eD(t,e){const n=we(t);let r=!1;for(const o of e){const s=o.query,i=n.queries.get(s);if(i){for(const a of i.U_)a.H_(o)&&(r=!0);i.K_=o}}r&&hc(n)}function tD(t,e,n){const r=we(t),o=r.queries.get(e);if(o)for(const s of o.U_)s.onError(n);r.queries.delete(e)}function hc(t){t.z_.forEach(e=>{e.next()})}var Ua,dd;(dd=Ua||(Ua={})).J_="default",dd.Cache="cache";class nD{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Tr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Tr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Ua.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.key=e}}class pm{constructor(e){this.key=e}}class rD{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ce(),this.mutatedKeys=Ce(),this.Ia=Vp(e),this.Ta=new ur(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new ud,o=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,i=o,a=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,c=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((u,d)=>{const h=o.get(u),f=wi(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let p=!1;h&&f?h.data.isEqual(f.data)?m!==g&&(r.track({type:3,doc:f}),p=!0):this.Ra(h,f)||(r.track({type:2,doc:f}),p=!0,(l&&this.Ia(f,l)>0||c&&this.Ia(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),p=!0):h&&!f&&(r.track({type:1,doc:h}),p=!0,(l||c)&&(a=!0)),p&&(f?(i=i.add(f),s=g?s.add(u):s.delete(u)):(i=i.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const u=this.query.limitType==="F"?i.last():i.first();i=i.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ta:i,Aa:r,Zi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const i=e.Aa.Q_();i.sort((u,d)=>function(f,m){const g=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return g(f)-g(m)}(u.type,d.type)||this.Ia(u.doc,d.doc)),this.Va(r),o=o!=null&&o;const a=n&&!o?this.ma():[],l=this.Pa.size===0&&this.current&&!o?1:0,c=l!==this.ha;return this.ha=l,i.length!==0||c?{snapshot:new Tr(this.query,e.Ta,s,i,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new ud,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Ce(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new pm(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new fm(r))}),n}pa(e){this.la=e.ls,this.Pa=Ce();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Tr.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class oD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sD{constructor(e){this.key=e,this.wa=!1}}class iD{constructor(e,n,r,o,s,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Sa={},this.ba=new kr(a=>kp(a),bi),this.Da=new Map,this.Ca=new Set,this.va=new Ue(fe.comparator),this.Fa=new Map,this.Ma=new rc,this.xa={},this.Oa=new Map,this.Na=wr.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function aD(t,e,n=!0){const r=bm(t);let o;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),o=s.view.ya()):o=await mm(r,e,n,!0),o}async function lD(t,e){const n=bm(t);await mm(n,e,!0,!1)}async function mm(t,e,n,r){const o=await xS(t.localStore,Ut(e)),s=o.targetId,i=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await cD(t,e,s,i==="current",o.resumeToken)),t.isPrimaryClient&&n&&am(t.remoteStore,o),a}async function cD(t,e,n,r,o){t.Ba=(d,h,f)=>async function(g,p,b,_){let E=p.view.da(b);E.Zi&&(E=await id(g.localStore,p.query,!1).then(({documents:x})=>p.view.da(x,E)));const T=_&&_.targetChanges.get(p.targetId),I=_&&_.targetMismatches.get(p.targetId)!=null,D=p.view.applyChanges(E,g.isPrimaryClient,T,I);return fd(g,p.targetId,D.fa),D.snapshot}(t,d,h,f);const s=await id(t.localStore,e,!0),i=new rD(e,s.ls),a=i.da(s.documents),l=Ko.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),c=i.applyChanges(a,t.isPrimaryClient,l);fd(t,n,c.fa);const u=new oD(e,n,i);return t.ba.set(e,u),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function uD(t,e,n){const r=we(t),o=r.ba.get(e),s=r.Da.get(o.targetId);if(s.length>1)return r.Da.set(o.targetId,s.filter(i=>!bi(i,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ja(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&ic(r.remoteStore,o.targetId),za(r,o.targetId)}).catch(Ho)):(za(r,o.targetId),await ja(r.localStore,o.targetId,!0))}async function dD(t,e){const n=we(t),r=n.ba.get(e),o=n.Da.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ic(n.remoteStore,r.targetId))}async function hD(t,e,n){const r=_D(t);try{const o=await function(i,a){const l=we(i),c=Xe.now(),u=a.reduce((f,m)=>f.add(m.key),Ce());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=on(),g=Ce();return l.ss.getEntries(f,u).next(p=>{m=p,m.forEach((b,_)=>{_.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(p=>{d=p;const b=[];for(const _ of a){const E=Mx(_,d.get(_.key).overlayedDocument);E!=null&&b.push(new En(_.key,E,Cp(E.value.mapValue),zt.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,b,a)}).next(p=>{h=p;const b=p.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,p.batchId,b)})}).then(()=>({batchId:h.batchId,changes:Fp(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(i,a,l){let c=i.xa[i.currentUser.toKey()];c||(c=new Ue(Re)),c=c.insert(a,l),i.xa[i.currentUser.toKey()]=c}(r,o.batchId,n),await Qo(r,o.changes),await xi(r.remoteStore)}catch(o){const s=dc(o,"Failed to persist write");n.reject(s)}}async function gm(t,e){const n=we(t);try{const r=await IS(n.localStore,e);e.targetChanges.forEach((o,s)=>{const i=n.Fa.get(s);i&&(Le(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?i.wa=!0:o.modifiedDocuments.size>0?Le(i.wa):o.removedDocuments.size>0&&(Le(i.wa),i.wa=!1))}),await Qo(n,r,e)}catch(r){await Ho(r)}}function hd(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.ba.forEach((s,i)=>{const a=i.view.j_(e);a.snapshot&&o.push(a.snapshot)}),function(i,a){const l=we(i);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.U_)h.j_(a)&&(c=!0)}),c&&hc(l)}(r.eventManager,e),o.length&&r.Sa.l_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fD(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Fa.get(e),s=o&&o.key;if(s){let i=new Ue(fe.comparator);i=i.insert(s,ut.newNoDocument(s,_e.min()));const a=Ce().add(s),l=new Ii(_e.min(),new Map,new Ue(Re),i,a);await gm(r,l),r.va=r.va.remove(s),r.Fa.delete(e),fc(r)}else await ja(r.localStore,e,!1).then(()=>za(r,e,n)).catch(Ho)}async function pD(t,e){const n=we(t),r=e.batch.batchId;try{const o=await ES(n.localStore,e);vm(n,r,null),ym(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qo(n,o)}catch(o){await Ho(o)}}async function mD(t,e,n){const r=we(t);try{const o=await function(i,a){const l=we(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Le(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);vm(r,e,n),ym(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qo(r,o)}catch(o){await Ho(o)}}function ym(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function vm(t,e,n){const r=we(t);let o=r.xa[r.currentUser.toKey()];if(o){const s=o.get(e);s&&(n?s.reject(n):s.resolve(),o=o.remove(e)),r.xa[r.currentUser.toKey()]=o}}function za(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||_m(t,r)})}function _m(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(ic(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),fc(t))}function fd(t,e,n){for(const r of n)r instanceof fm?(t.Ma.addReference(r.key,e),gD(t,r)):r instanceof pm?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||_m(t,r.key)):me()}function gD(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.Ca.add(r),fc(t))}function fc(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new fe(Be.fromString(e)),r=t.Na.next();t.Fa.set(r,new sD(n)),t.va=t.va.insert(n,r),am(t.remoteStore,new cn(Ut(Mp(n.path)),r,"TargetPurposeLimboResolution",Kl.oe))}}async function Qo(t,e,n){const r=we(t),o=[],s=[],i=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{i.push(r.Ba(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){o.push(c);const u=sc.Qi(l.targetId,c);s.push(u)}}))}),await Promise.all(i),r.Sa.l_(o),await async function(l,c){const u=we(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Y.forEach(c,h=>Y.forEach(h.ki,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>Y.forEach(h.qi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!qo(d))throw d;ae("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.ts.get(h),m=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(m);u.ts=u.ts.insert(h,g)}}}(r.localStore,s))}async function yD(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await rm(n.localStore,e);n.currentUser=e,function(s,i){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new de(q.CANCELLED,i))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qo(n,r._s)}}function vD(t,e){const n=we(t),r=n.Fa.get(e);if(r&&r.wa)return Ce().add(r.key);{let o=Ce();const s=n.Da.get(e);if(!s)return o;for(const i of s){const a=n.ba.get(i);o=o.unionWith(a.view.Ea)}return o}}function bm(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fD.bind(null,e),e.Sa.l_=eD.bind(null,e.eventManager),e.Sa.ka=tD.bind(null,e.eventManager),e}function _D(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mD.bind(null,e),e}class pd{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ci(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return TS(this.persistence,new bS,e.initialUser,this.serializer)}createPersistence(e){return new yS(oc.jr,this.serializer)}createSharedClientState(e){return new DS}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yD.bind(null,this.syncEngine),await GS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XS}()}createDatastore(e){const n=Ci(e.databaseInfo.databaseId),r=function(s){return new kS(s)}(e.databaseInfo);return function(s,i,a,l){return new FS(s,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,s,i,a){return new LS(r,o,s,i,a)}(this.localStore,this.datastore,e.asyncQueue,n=>hd(this.syncEngine,n,0),function(){return ld.D()?new ld:new AS}())}createSyncEngine(e,n){return function(o,s,i,a,l,c,u){const d=new iD(o,s,i,a,l,c);return u&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const o=we(r);ae("RemoteStore","RemoteStore shutting down."),o.M_.add(5),await Go(o),o.O_.shutdown(),o.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):rn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=ct.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ae("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ae("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function oa(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await rm(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function md(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ID(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cd(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>cd(e.remoteStore,o)),t._onlineComponents=e}function ED(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function ID(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await oa(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ED(n))throw n;yr("Error using user provided cache. Falling back to memory cache: "+n),await oa(t,new pd)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await oa(t,new pd);return t._offlineComponents}async function wm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await md(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await md(t,new bD))),t._onlineComponents}function CD(t){return wm(t).then(e=>e.syncEngine)}async function PD(t){const e=await wm(t),n=e.eventManager;return n.onListen=aD.bind(null,e.syncEngine),n.onUnlisten=uD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dD.bind(null,e.syncEngine),n}function xD(t,e,n={}){const r=new hn;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,a,l,c){const u=new wD({next:h=>{i.enqueueAndForget(()=>JS(s,d)),h.fromCache&&l.source==="server"?c.reject(new de(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new nD(a,u,{includeMetadataChanges:!0,ra:!0});return ZS(s,d)}(await PD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t,e,n){if(!n)throw new de(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SD(t,e,n,r){if(e===!0&&r===!0)throw new de(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yd(t){if(!fe.isDocumentKey(t))throw new de(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vd(t){if(fe.isDocumentKey(t))throw new de(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function Er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pc(t);throw new de(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tm((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Si{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _d({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _d(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jP;switch(r.type){case"firstParty":return new HP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=gd.get(n);r&&(ae("ComponentProvider","Removing Datastore"),gd.delete(n),r.terminate())}(this),Promise.resolve()}}function DD(t,e,n,r={}){var o;const s=(t=Er(t,Si))._getSettings(),i=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==i&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ct.MOCK_USER;else{a=gI(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new de(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ct(c)}t._authCredentials=new UP(new wp(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Di(this.firestore,e,this._query)}}class Pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}}class fn extends Di{constructor(e,n,r){super(e,n,Mp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new fe(e))}withConverter(e){return new fn(this.firestore,e,this._path)}}function Im(t,e,...n){if(t=pn(t),Em("collection","path",e),t instanceof Si){const r=Be.fromString(e,...n);return vd(r),new fn(t,null,r)}{if(!(t instanceof Pt||t instanceof fn))throw new de(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return vd(r),new fn(t.firestore,null,r)}}function Cm(t,e,...n){if(t=pn(t),arguments.length===1&&(e=Tp.newId()),Em("doc","path",e),t instanceof Si){const r=Be.fromString(e,...n);return yd(r),new Pt(t,null,new fe(r))}{if(!(t instanceof Pt||t instanceof fn))throw new de(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return yd(r),new Pt(t.firestore,t instanceof fn?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new sm(this,"async_queue_retry"),this.hu=()=>{const n=ra();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=ra();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=ra();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new hn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!qo(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const o=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw rn("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const o=uc.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(o),o}Pu(){this.au&&me()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Ai extends Si{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=function(){return new AD}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xm(this),this._firestoreClient.terminate()}}function RD(t,e){const n=typeof t=="object"?t:EC(),r=typeof t=="string"?t:"(default)",o=_C(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const s=pI("firestore");s&&DD(o,...s)}return o}function Pm(t){return t._firestoreClient||xm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xm(t){var e,n,r;const o=t._freezeSettings(),s=function(a,l,c,u){return new ox(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Tm(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new TD(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ir(ft.fromBase64String(e))}catch(n){throw new de(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ir(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=/^__.*__$/;class kD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new En(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yo(e,this.data,n,this.fieldTransforms)}}class Sm{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new En(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Dm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class yc{constructor(e,n,r,o,s,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new yc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.gu({path:r,yu:!1});return o.wu(e),o}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.gu({path:r,yu:!1});return o.mu(),o}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Vs(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Dm(this.fu)&&MD.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class VD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ci(e)}Fu(e,n,r,o=!1){return new yc({fu:e,methodName:n,vu:r,path:ot.emptyPath(),yu:!1,Cu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Am(t){const e=t._freezeSettings(),n=Ci(t._databaseId);return new VD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OD(t,e,n,r,o,s={}){const i=t.Fu(s.merge||s.mergeFields?2:0,e,n,o);vc("Data must be an object, but it was:",i,r);const a=Rm(r,i);let l,c;if(s.merge)l=new _t(i.fieldMask),c=i.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Wa(e,d,n);if(!i.contains(h))throw new de(q.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);km(u,h)||u.push(h)}l=new _t(u),c=i.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=i.fieldTransforms;return new kD(new gt(a),l,c)}class Mi extends mc{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mi}}function FD(t,e,n,r){const o=t.Fu(1,e,n);vc("Data must be an object, but it was:",o,r);const s=[],i=gt.empty();Wn(r,(l,c)=>{const u=_c(e,l,n);c=pn(c);const d=o.Su(u);if(c instanceof Mi)s.push(u);else{const h=ki(c,d);h!=null&&(s.push(u),i.set(u,h))}});const a=new _t(s);return new Sm(i,a,o.fieldTransforms)}function ND(t,e,n,r,o,s){const i=t.Fu(1,e,n),a=[Wa(e,r,n)],l=[o];if(s.length%2!=0)throw new de(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Wa(e,s[h])),l.push(s[h+1]);const c=[],u=gt.empty();for(let h=a.length-1;h>=0;--h)if(!km(c,a[h])){const f=a[h];let m=l[h];m=pn(m);const g=i.Su(f);if(m instanceof Mi)c.push(f);else{const p=ki(m,g);p!=null&&(c.push(f),u.set(f,p))}}const d=new _t(c);return new Sm(u,d,i.fieldTransforms)}function ki(t,e){if(Mm(t=pn(t)))return vc("Unsupported field value:",e,t),Rm(t,e);if(t instanceof mc)return function(r,o){if(!Dm(o.fu))throw o.Du(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,o){const s=[];let i=0;for(const a of r){let l=ki(a,o.bu(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(t,e)}return function(r,o){if((r=pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Px(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xe.fromDate(r);return{timestampValue:Ms(o.serializer,s)}}if(r instanceof Xe){const s=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ms(o.serializer,s)}}if(r instanceof gc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ir)return{bytesValue:Qp(o.serializer,r._byteString)};if(r instanceof Pt){const s=o.databaseId,i=r.firestore._databaseId;if(!i.isEqual(s))throw o.Du(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:nc(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.Du(`Unsupported field value: ${pc(r)}`)}(t,e)}function Rm(t,e){const n={};return Ep(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wn(t,(r,o)=>{const s=ki(o,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Mm(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof gc||t instanceof Ir||t instanceof Pt||t instanceof mc)}function vc(t,e,n){if(!Mm(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=pc(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Wa(t,e,n){if((e=pn(e))instanceof Ri)return e._internalPath;if(typeof e=="string")return _c(t,e);throw Vs("Field path arguments must be of type string or ",t,!1,void 0,n)}const LD=new RegExp("[~\\*/\\[\\]]");function _c(t,e,n){if(e.search(LD)>=0)throw Vs(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ri(...e.split("."))._internalPath}catch{throw Vs(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vs(t,e,n,r,o){const s=r&&!r.isEmpty(),i=o!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${r}`),i&&(l+=` in document ${o}`),l+=")"),new de(q.INVALID_ARGUMENT,a+t+l)}function km(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n,r,o,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $D(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Om("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $D extends Vm{data(){return super.data()}}function Om(t,e){return typeof e=="string"?_c(t,e):e instanceof Ri?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jD{convertValue(e,n="none"){switch(Bn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($n(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wn(e,(o,s)=>{r[o]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new gc(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ql(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const n=gn(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Le(nm(r));const o=new xo(r.get(1),r.get(3)),s=new fe(r.popFirst(5));return o.isEqual(n)||rn(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zD extends Vm{constructor(e,n,r,o,s,i){super(e,n,r,o,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ps(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Om("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ps extends zD{data(e={}){return super.data(e)}}class WD{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new cs(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ps(this._firestore,this._userDataWriter,r.key,r,new cs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let i=0;return o._snapshot.docChanges.map(a=>{const l=new ps(o._firestore,o._userDataWriter,a.doc.key,a.doc,new cs(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ps(o._firestore,o._userDataWriter,a.doc.key,a.doc,new cs(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let c=-1,u=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),u=i.indexOf(a.doc.key)),{type:HD(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}class qD extends jD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ir(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function YD(t){t=Er(t,Di);const e=Er(t.firestore,Ai),n=Pm(e),r=new qD(e);return BD(t._query),xD(n,t._query).then(o=>new WD(e,r,t,o))}function KD(t,e,n,...r){t=Er(t,Pt);const o=Er(t.firestore,Ai),s=Am(o);let i;return i=typeof(e=pn(e))=="string"||e instanceof Ri?ND(s,"updateDoc",t._key,e,n,r):FD(s,"updateDoc",t._key,e),Fm(o,[i.toMutation(t._key,zt.exists(!0))])}function GD(t,e){const n=Er(t.firestore,Ai),r=Cm(t),o=UD(t.converter,e);return Fm(n,[OD(Am(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,zt.exists(!1))]).then(()=>r)}function Fm(t,e){return function(r,o){const s=new hn;return r.asyncQueue.enqueueAndForget(async()=>hD(await CD(r),o,s)),s.promise}(Pm(t),e)}(function(e,n=!0){(function(o){Mr=o})(TC),bs(new mo("firestore",(r,{instanceIdentifier:o,options:s})=>{const i=r.getProvider("app").getImmediate(),a=new Ai(new zP(r.getProvider("auth-internal")),new YP(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new de(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(c.options.projectId,u)}(i,o),i);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ar(Bu,"4.6.1",e),ar(Bu,"4.6.1","esm2017")})();var QD="firebase",XD="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(QD,XD,"app");var ZD={VITE_apiKey:"AIzaSyAz1IuDZ2VRkXR-hzZ5W7WaZVrb1o_-qlM",VITE_authDomain:"languagelift-91570.firebaseapp.com",VITE_projectId:"languagelift-91570",VITE_storageBucket:"languagelift-91570.appspot.com",VITE_messagingSenderId:"598651717153",VITE_appId:"1:598651717153:web:476e9d51ce2c750eaa4560",BASE_URL:"/languagelift",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Xn=ZD,JD={apiKey:Xn.VITE_apiKey,authDomain:Xn.VITE_authDomain,projectId:Xn.VITE_projectId,storageBucket:Xn.VITE_storageBucket,messagingSenderId:Xn.VITE_messagingSenderId,appId:Xn.VITE_appId};console.log(import.meta);const eA=gf(JD),Ha=RD(eA),tA=async(t,e)=>{try{const n=await GD(Im(Ha,t),e),r=Cm(Ha,t,n.id);await KD(r,{id:n.id})}catch(n){throw console.error("Error adding document: ",n),n}},nA=async(t,e)=>{const r=[...(await YD(Im(Ha,t))).docs.map(o=>o.data())];e(r)},rA=K(Fs)`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: 400px;
  background-color: ${({theme:t})=>t.palette.background.paper};
  box-shadow: ${({theme:t})=>t.shadows[11]};
  padding: 50px;
  border-radius: 5px;
`,hA=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState([]),[o,s]=v.useState(!1),[i,a]=v.useState(!1),{language:l}=v.useContext(xr);v.useEffect(()=>{nA("lessonsWithJill",r)},[]);const{register:c,handleSubmit:u,formState:{errors:d}}=lg({resolver:cg(oI(l)),mode:"onBlur"}),h=async f=>{t||(r(m=>[...m,{...f,date:o}]),tA("lessonsWithJill",{...f,date:o}))};return w.jsx(w.Fragment,{children:w.jsxs(Fs,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:5,mb:5,gap:2},children:[w.jsx(_n,{variant:"h5",children:l==="en"?"Schedule of lessons":" "}),w.jsx(rf,{actualSchedule:n==null?void 0:n.map(({date:f})=>f)}),w.jsx(of,{actualSchedule:n}),w.jsx(tr,{onClick:()=>a(!0),variant:"contained",children:l==="en"?"Add a lesson":" "}),w.jsx(qa,{open:i,onClose:()=>a(!1),children:w.jsx(rA,{children:w.jsxs("form",{style:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:400},onSubmit:u(h),children:[w.jsx(lf,{errors:d,register:c}),w.jsx(sf,{errorDate:t,setErrorDate:e,setValueDate:s}),w.jsx(af,{errors:d,register:c}),w.jsx(tr,{type:"submit",variant:"contained",fullWidth:!0,size:"large",children:l==="en"?"Submit":""})]})})})]})})};export{hA as default};
