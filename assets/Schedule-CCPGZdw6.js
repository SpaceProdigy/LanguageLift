import{g as Ua,h as Xg,P as B,r as y,k as ge,_ as Jg,l as Zg,n as se,e as Ne,o as yh,p as v,q as ey,t as nn,j as w,v as ty,w as Ge,x as Yt,y as De,z as we,A as ny,s as Y,C as dn,D as Ee,E as Ie,F as ue,G as Ze,H as Ws,I as de,J as ry,K as kl,O as Br,Q as Qt,S as wn,U as es,V as jr,W as Vl,X as yo,Y as oy,Z as gu,T as Kt,$ as sy,a0 as vh,a1 as yu,a2 as iy,a3 as ay,a4 as _h,a5 as vu,a6 as _u,a7 as bu,a8 as wu,a9 as ly,aa as an,ab as le,ac as cy,ad as bs,ae as uy,af as dy,ag as hy,ah as sr,ai as Ur,aj as zr,ak as py,al as bh,am as wh,an as fy,ao as my,ap as Th,c as gy,i as yy,R as $n,B as Wr}from"./index-iFAAAiE2.js";import{u as Ol}from"./useMediaQuery-DCr76kXG.js";import{d as Eh,P as vy}from"./Password-sPH1Znfg.js";import{i as Ih,b as Ch,r as xh,c as Ph,d as Sh,e as Dh,u as Hr,f as _y,g as by,O as Rh,h as wy,F as pi,I as fi,a as ts}from"./OutlinedInput-BPcY08-B.js";import{B as yr}from"./Button-BNNcN0hb.js";import{c as Ty,a as Ey,u as Iy,o as Cy}from"./index.esm-vnVNVDth.js";function xy(t,e=0,n=1){return Xg(t,e,n)}function Py(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ah(t){if(t.type)return t;if(t.charAt(0)==="#")return Ah(Py(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Ua(9,t));let r=t.substring(e+1,t.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(Ua(10,o))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:o}}function Sy(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((o,s)=>s<3?parseInt(o,10):o):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Pr(t,e){return t=Ah(t),e=xy(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Sy(t)}const Mh=B.oneOfType([B.func,B.object]),kh=t=>{const e=y.useRef({});return y.useEffect(()=>{e.current=t}),e.current},Dy={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};var Fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $l=Symbol.for("react.element"),Nl=Symbol.for("react.portal"),mi=Symbol.for("react.fragment"),gi=Symbol.for("react.strict_mode"),yi=Symbol.for("react.profiler"),vi=Symbol.for("react.provider"),_i=Symbol.for("react.context"),Ry=Symbol.for("react.server_context"),bi=Symbol.for("react.forward_ref"),wi=Symbol.for("react.suspense"),Ti=Symbol.for("react.suspense_list"),Ei=Symbol.for("react.memo"),Ii=Symbol.for("react.lazy"),Ay=Symbol.for("react.offscreen"),Vh;Vh=Symbol.for("react.module.reference");function Ut(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $l:switch(t=t.type,t){case mi:case yi:case gi:case wi:case Ti:return t;default:switch(t=t&&t.$$typeof,t){case Ry:case _i:case bi:case Ii:case Ei:case vi:return t;default:return e}}case Nl:return e}}}Fe.ContextConsumer=_i;Fe.ContextProvider=vi;Fe.Element=$l;Fe.ForwardRef=bi;Fe.Fragment=mi;Fe.Lazy=Ii;Fe.Memo=Ei;Fe.Portal=Nl;Fe.Profiler=yi;Fe.StrictMode=gi;Fe.Suspense=wi;Fe.SuspenseList=Ti;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(t){return Ut(t)===_i};Fe.isContextProvider=function(t){return Ut(t)===vi};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$l};Fe.isForwardRef=function(t){return Ut(t)===bi};Fe.isFragment=function(t){return Ut(t)===mi};Fe.isLazy=function(t){return Ut(t)===Ii};Fe.isMemo=function(t){return Ut(t)===Ei};Fe.isPortal=function(t){return Ut(t)===Nl};Fe.isProfiler=function(t){return Ut(t)===yi};Fe.isStrictMode=function(t){return Ut(t)===gi};Fe.isSuspense=function(t){return Ut(t)===wi};Fe.isSuspenseList=function(t){return Ut(t)===Ti};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===mi||t===yi||t===gi||t===wi||t===Ti||t===Ay||typeof t=="object"&&t!==null&&(t.$$typeof===Ii||t.$$typeof===Ei||t.$$typeof===vi||t.$$typeof===_i||t.$$typeof===bi||t.$$typeof===Vh||t.getModuleId!==void 0)};Fe.typeOf=Ut;function My(t){return ge}function ky(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Vy(t,e){t.classList?t.classList.add(e):ky(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Tu(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Oy(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Tu(t.className,e):t.setAttribute("class",Tu(t.className&&t.className.baseVal||"",e))}var $y=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Vy(e,r)})},ya=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Oy(e,r)})},Ll=function(t){Jg(e,t);function e(){for(var r,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return r=t.call.apply(t,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],h=d?"appear":"enter";r.addClass(u,h,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],h=d?"appear":"enter";r.removeClasses(u,h),r.addClass(u,h,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+a:l[a],h=c?d+"-active":l[a+"Active"],p=c?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:h,doneClassName:p}},r}var n=e.prototype;return n.addClass=function(o,s,i){var a=this.getClassNames(s)[i+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;s==="appear"&&i==="done"&&c&&(a+=" "+c),i==="active"&&o&&Zg(o),a&&(this.appliedClasses[s][i]=a,$y(o,a))},n.removeClasses=function(o,s){var i=this.appliedClasses[s],a=i.base,l=i.active,c=i.done;this.appliedClasses[s]={},a&&ya(o,a),l&&ya(o,l),c&&ya(o,c)},n.render=function(){var o=this.props;o.classNames;var s=se(o,["classNames"]);return Ne.createElement(yh,v({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Ne.Component);Ll.defaultProps={classNames:""};Ll.propTypes={};const Ny={disableDefaultClasses:!1},Ly=y.createContext(Ny);function Fy(t){const{disableDefaultClasses:e}=y.useContext(Ly);return n=>e?"":t(n)}function By(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:o=!1}=t,s=kh({badgeContent:e,max:r});let i=n;n===!1&&e===0&&!o&&(i=!0);const{badgeContent:a,max:l=r}=i?s:t,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:i,max:l,displayValue:c}}const Oh="base";function jy(t){return`${Oh}--${t}`}function Uy(t,e){return`${Oh}-${t}-${e}`}function $h(t,e){const n=ey[e];return n?jy(n):Uy(t,e)}function zy(t,e){const n={};return e.forEach(r=>{n[r]=$h(t,r)}),n}var It="top",Ft="bottom",Bt="right",Ct="left",Fl="auto",ns=[It,Ft,Bt,Ct],Sr="start",Mo="end",Wy="clippingParents",Nh="viewport",to="popper",Hy="reference",Eu=ns.reduce(function(t,e){return t.concat([e+"-"+Sr,e+"-"+Mo])},[]),Lh=[].concat(ns,[Fl]).reduce(function(t,e){return t.concat([e,e+"-"+Sr,e+"-"+Mo])},[]),qy="beforeRead",Yy="read",Ky="afterRead",Gy="beforeMain",Qy="main",Xy="afterMain",Jy="beforeWrite",Zy="write",ev="afterWrite",tv=[qy,Yy,Ky,Gy,Qy,Xy,Jy,Zy,ev];function ln(t){return t?(t.nodeName||"").toLowerCase():null}function Dt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Jn(t){var e=Dt(t).Element;return t instanceof e||t instanceof Element}function Nt(t){var e=Dt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Bl(t){if(typeof ShadowRoot>"u")return!1;var e=Dt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function nv(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},s=e.elements[n];!Nt(s)||!ln(s)||(Object.assign(s.style,r),Object.keys(o).forEach(function(i){var a=o[i];a===!1?s.removeAttribute(i):s.setAttribute(i,a===!0?"":a)}))})}function rv(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],s=e.attributes[r]||{},i=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=i.reduce(function(l,c){return l[c]="",l},{});!Nt(o)||!ln(o)||(Object.assign(o.style,a),Object.keys(s).forEach(function(l){o.removeAttribute(l)}))})}}const ov={name:"applyStyles",enabled:!0,phase:"write",fn:nv,effect:rv,requires:["computeStyles"]};function rn(t){return t.split("-")[0]}var Gn=Math.max,Hs=Math.min,Dr=Math.round;function za(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Fh(){return!/^((?!chrome|android).)*safari/i.test(za())}function Rr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),o=1,s=1;e&&Nt(t)&&(o=t.offsetWidth>0&&Dr(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Dr(r.height)/t.offsetHeight||1);var i=Jn(t)?Dt(t):window,a=i.visualViewport,l=!Fh()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/o,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/o,h=r.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function jl(t){var e=Rr(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Bh(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Bl(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function gn(t){return Dt(t).getComputedStyle(t)}function sv(t){return["table","td","th"].indexOf(ln(t))>=0}function Nn(t){return((Jn(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ci(t){return ln(t)==="html"?t:t.assignedSlot||t.parentNode||(Bl(t)?t.host:null)||Nn(t)}function Iu(t){return!Nt(t)||gn(t).position==="fixed"?null:t.offsetParent}function iv(t){var e=/firefox/i.test(za()),n=/Trident/i.test(za());if(n&&Nt(t)){var r=gn(t);if(r.position==="fixed")return null}var o=Ci(t);for(Bl(o)&&(o=o.host);Nt(o)&&["html","body"].indexOf(ln(o))<0;){var s=gn(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function rs(t){for(var e=Dt(t),n=Iu(t);n&&sv(n)&&gn(n).position==="static";)n=Iu(n);return n&&(ln(n)==="html"||ln(n)==="body"&&gn(n).position==="static")?e:n||iv(t)||e}function Ul(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function To(t,e,n){return Gn(t,Hs(e,n))}function av(t,e,n){var r=To(t,e,n);return r>n?n:r}function jh(){return{top:0,right:0,bottom:0,left:0}}function Uh(t){return Object.assign({},jh(),t)}function zh(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var lv=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Uh(typeof e!="number"?e:zh(e,ns))};function cv(t){var e,n=t.state,r=t.name,o=t.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,a=rn(n.placement),l=Ul(a),c=[Ct,Bt].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!i)){var d=lv(o.padding,n),h=jl(s),p=l==="y"?It:Ct,m=l==="y"?Ft:Bt,g=n.rects.reference[u]+n.rects.reference[l]-i[l]-n.rects.popper[u],f=i[l]-n.rects.reference[l],b=rs(s),_=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,T=g/2-f/2,E=d[p],I=_-h[u]-d[m],D=_/2-h[u]/2+T,C=To(E,D,I),x=l;n.modifiersData[r]=(e={},e[x]=C,e.centerOffset=C-D,e)}}function uv(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||Bh(e.elements.popper,o)&&(e.elements.arrow=o))}const dv={name:"arrow",enabled:!0,phase:"main",fn:cv,effect:uv,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ar(t){return t.split("-")[1]}var hv={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pv(t,e){var n=t.x,r=t.y,o=e.devicePixelRatio||1;return{x:Dr(n*o)/o||0,y:Dr(r*o)/o||0}}function Cu(t){var e,n=t.popper,r=t.popperRect,o=t.placement,s=t.variation,i=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=i.x,p=h===void 0?0:h,m=i.y,g=m===void 0?0:m,f=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=f.x,g=f.y;var b=i.hasOwnProperty("x"),_=i.hasOwnProperty("y"),T=Ct,E=It,I=window;if(c){var D=rs(n),C="clientHeight",x="clientWidth";if(D===Dt(n)&&(D=Nn(n),gn(D).position!=="static"&&a==="absolute"&&(C="scrollHeight",x="scrollWidth")),D=D,o===It||(o===Ct||o===Bt)&&s===Mo){E=Ft;var V=d&&D===I&&I.visualViewport?I.visualViewport.height:D[C];g-=V-r.height,g*=l?1:-1}if(o===Ct||(o===It||o===Ft)&&s===Mo){T=Bt;var $=d&&D===I&&I.visualViewport?I.visualViewport.width:D[x];p-=$-r.width,p*=l?1:-1}}var R=Object.assign({position:a},c&&hv),L=u===!0?pv({x:p,y:g},Dt(n)):{x:p,y:g};if(p=L.x,g=L.y,l){var k;return Object.assign({},R,(k={},k[E]=_?"0":"",k[T]=b?"0":"",k.transform=(I.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",k))}return Object.assign({},R,(e={},e[E]=_?g+"px":"",e[T]=b?p+"px":"",e.transform="",e))}function fv(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,s=n.adaptive,i=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:rn(e.placement),variation:Ar(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Cu(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Cu(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const mv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:fv,data:{}};var ws={passive:!0};function gv(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,s=o===void 0?!0:o,i=r.resize,a=i===void 0?!0:i,l=Dt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,ws)}),a&&l.addEventListener("resize",n.update,ws),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,ws)}),a&&l.removeEventListener("resize",n.update,ws)}}const yv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:gv,data:{}};var vv={left:"right",right:"left",bottom:"top",top:"bottom"};function Ls(t){return t.replace(/left|right|bottom|top/g,function(e){return vv[e]})}var _v={start:"end",end:"start"};function xu(t){return t.replace(/start|end/g,function(e){return _v[e]})}function zl(t){var e=Dt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Wl(t){return Rr(Nn(t)).left+zl(t).scrollLeft}function bv(t,e){var n=Dt(t),r=Nn(t),o=n.visualViewport,s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;var c=Fh();(c||!c&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a+Wl(t),y:l}}function wv(t){var e,n=Nn(t),r=zl(t),o=(e=t.ownerDocument)==null?void 0:e.body,s=Gn(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=Gn(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+Wl(t),l=-r.scrollTop;return gn(o||n).direction==="rtl"&&(a+=Gn(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:i,x:a,y:l}}function Hl(t){var e=gn(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Wh(t){return["html","body","#document"].indexOf(ln(t))>=0?t.ownerDocument.body:Nt(t)&&Hl(t)?t:Wh(Ci(t))}function Eo(t,e){var n;e===void 0&&(e=[]);var r=Wh(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),s=Dt(r),i=o?[s].concat(s.visualViewport||[],Hl(r)?r:[]):r,a=e.concat(i);return o?a:a.concat(Eo(Ci(i)))}function Wa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Tv(t,e){var n=Rr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Pu(t,e,n){return e===Nh?Wa(bv(t,n)):Jn(e)?Tv(e,n):Wa(wv(Nn(t)))}function Ev(t){var e=Eo(Ci(t)),n=["absolute","fixed"].indexOf(gn(t).position)>=0,r=n&&Nt(t)?rs(t):t;return Jn(r)?e.filter(function(o){return Jn(o)&&Bh(o,r)&&ln(o)!=="body"}):[]}function Iv(t,e,n,r){var o=e==="clippingParents"?Ev(t):[].concat(e),s=[].concat(o,[n]),i=s[0],a=s.reduce(function(l,c){var u=Pu(t,c,r);return l.top=Gn(u.top,l.top),l.right=Hs(u.right,l.right),l.bottom=Hs(u.bottom,l.bottom),l.left=Gn(u.left,l.left),l},Pu(t,i,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Hh(t){var e=t.reference,n=t.element,r=t.placement,o=r?rn(r):null,s=r?Ar(r):null,i=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(o){case It:l={x:i,y:e.y-n.height};break;case Ft:l={x:i,y:e.y+e.height};break;case Bt:l={x:e.x+e.width,y:a};break;case Ct:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=o?Ul(o):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Sr:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Mo:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function ko(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,s=n.strategy,i=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Wy:a,c=n.rootBoundary,u=c===void 0?Nh:c,d=n.elementContext,h=d===void 0?to:d,p=n.altBoundary,m=p===void 0?!1:p,g=n.padding,f=g===void 0?0:g,b=Uh(typeof f!="number"?f:zh(f,ns)),_=h===to?Hy:to,T=t.rects.popper,E=t.elements[m?_:h],I=Iv(Jn(E)?E:E.contextElement||Nn(t.elements.popper),l,u,i),D=Rr(t.elements.reference),C=Hh({reference:D,element:T,strategy:"absolute",placement:o}),x=Wa(Object.assign({},T,C)),V=h===to?x:D,$={top:I.top-V.top+b.top,bottom:V.bottom-I.bottom+b.bottom,left:I.left-V.left+b.left,right:V.right-I.right+b.right},R=t.modifiersData.offset;if(h===to&&R){var L=R[o];Object.keys($).forEach(function(k){var M=[Bt,Ft].indexOf(k)>=0?1:-1,P=[It,Ft].indexOf(k)>=0?"y":"x";$[k]+=L[P]*M})}return $}function Cv(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,s=n.rootBoundary,i=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Lh:l,u=Ar(r),d=u?a?Eu:Eu.filter(function(m){return Ar(m)===u}):ns,h=d.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=d);var p=h.reduce(function(m,g){return m[g]=ko(t,{placement:g,boundary:o,rootBoundary:s,padding:i})[rn(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function xv(t){if(rn(t)===Fl)return[];var e=Ls(t);return[xu(t),e,xu(e)]}function Pv(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,i=n.altAxis,a=i===void 0?!0:i,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,f=e.options.placement,b=rn(f),_=b===f,T=l||(_||!m?[Ls(f)]:xv(f)),E=[f].concat(T).reduce(function(ee,oe){return ee.concat(rn(oe)===Fl?Cv(e,{placement:oe,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:g}):oe)},[]),I=e.rects.reference,D=e.rects.popper,C=new Map,x=!0,V=E[0],$=0;$<E.length;$++){var R=E[$],L=rn(R),k=Ar(R)===Sr,M=[It,Ft].indexOf(L)>=0,P=M?"width":"height",A=ko(e,{placement:R,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),F=M?k?Bt:Ct:k?Ft:It;I[P]>D[P]&&(F=Ls(F));var S=Ls(F),O=[];if(s&&O.push(A[L]<=0),a&&O.push(A[F]<=0,A[S]<=0),O.every(function(ee){return ee})){V=R,x=!1;break}C.set(R,O)}if(x)for(var W=m?3:1,J=function(oe){var j=E.find(function(U){var Q=C.get(U);if(Q)return Q.slice(0,oe).every(function(ne){return ne})});if(j)return V=j,"break"},z=W;z>0;z--){var H=J(z);if(H==="break")break}e.placement!==V&&(e.modifiersData[r]._skip=!0,e.placement=V,e.reset=!0)}}const Sv={name:"flip",enabled:!0,phase:"main",fn:Pv,requiresIfExists:["offset"],data:{_skip:!1}};function Su(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Du(t){return[It,Bt,Ft,Ct].some(function(e){return t[e]>=0})}function Dv(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,i=ko(e,{elementContext:"reference"}),a=ko(e,{altBoundary:!0}),l=Su(i,r),c=Su(a,o,s),u=Du(l),d=Du(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Rv={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Dv};function Av(t,e,n){var r=rn(t),o=[Ct,It].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,i=s[0],a=s[1];return i=i||0,a=(a||0)*o,[Ct,Bt].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}function Mv(t){var e=t.state,n=t.options,r=t.name,o=n.offset,s=o===void 0?[0,0]:o,i=Lh.reduce(function(u,d){return u[d]=Av(d,e.rects,s),u},{}),a=i[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=i}const kv={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Mv};function Vv(t){var e=t.state,n=t.name;e.modifiersData[n]=Hh({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Ov={name:"popperOffsets",enabled:!0,phase:"read",fn:Vv,data:{}};function $v(t){return t==="x"?"y":"x"}function Nv(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,s=o===void 0?!0:o,i=n.altAxis,a=i===void 0?!1:i,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,g=m===void 0?0:m,f=ko(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),b=rn(e.placement),_=Ar(e.placement),T=!_,E=Ul(b),I=$v(E),D=e.modifiersData.popperOffsets,C=e.rects.reference,x=e.rects.popper,V=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,$=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(D){if(s){var k,M=E==="y"?It:Ct,P=E==="y"?Ft:Bt,A=E==="y"?"height":"width",F=D[E],S=F+f[M],O=F-f[P],W=p?-x[A]/2:0,J=_===Sr?C[A]:x[A],z=_===Sr?-x[A]:-C[A],H=e.elements.arrow,ee=p&&H?jl(H):{width:0,height:0},oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:jh(),j=oe[M],U=oe[P],Q=To(0,C[A],ee[A]),ne=T?C[A]/2-W-Q-j-$.mainAxis:J-Q-j-$.mainAxis,q=T?-C[A]/2+W+Q+U+$.mainAxis:z+Q+U+$.mainAxis,re=e.elements.arrow&&rs(e.elements.arrow),X=re?E==="y"?re.clientTop||0:re.clientLeft||0:0,N=(k=R==null?void 0:R[E])!=null?k:0,Z=F+ne-N-X,te=F+q-N,ye=To(p?Hs(S,Z):S,F,p?Gn(O,te):O);D[E]=ye,L[E]=ye-F}if(a){var Oe,ae=E==="x"?It:Ct,he=E==="x"?Ft:Bt,Pe=D[I],Ae=I==="y"?"height":"width",Xe=Pe+f[ae],rt=Pe-f[he],We=[It,Ct].indexOf(b)!==-1,zt=(Oe=R==null?void 0:R[I])!=null?Oe:0,Tt=We?Xe:Pe-C[Ae]-x[Ae]-zt+$.altAxis,At=We?Pe+C[Ae]+x[Ae]-zt-$.altAxis:rt,hn=p&&We?av(Tt,Pe,At):To(p?Tt:Xe,Pe,p?At:rt);D[I]=hn,L[I]=hn-Pe}e.modifiersData[r]=L}}const Lv={name:"preventOverflow",enabled:!0,phase:"main",fn:Nv,requiresIfExists:["offset"]};function Fv(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Bv(t){return t===Dt(t)||!Nt(t)?zl(t):Fv(t)}function jv(t){var e=t.getBoundingClientRect(),n=Dr(e.width)/t.offsetWidth||1,r=Dr(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Uv(t,e,n){n===void 0&&(n=!1);var r=Nt(e),o=Nt(e)&&jv(e),s=Nn(e),i=Rr(t,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((ln(e)!=="body"||Hl(s))&&(a=Bv(e)),Nt(e)?(l=Rr(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Wl(s))),{x:i.left+a.scrollLeft-l.x,y:i.top+a.scrollTop-l.y,width:i.width,height:i.height}}function zv(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function o(s){n.add(s.name);var i=[].concat(s.requires||[],s.requiresIfExists||[]);i.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&o(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||o(s)}),r}function Wv(t){var e=zv(t);return tv.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function Hv(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function qv(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ru={placement:"bottom",modifiers:[],strategy:"absolute"};function Au(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Yv(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,s=o===void 0?Ru:o;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ru,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:u,setOptions:function(b){var _=typeof b=="function"?b(u.options):b;g(),u.options=Object.assign({},s,u.options,_),u.scrollParents={reference:Jn(a)?Eo(a):a.contextElement?Eo(a.contextElement):[],popper:Eo(l)};var T=Wv(qv([].concat(r,u.options.modifiers)));return u.orderedModifiers=T.filter(function(E){return E.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var b=u.elements,_=b.reference,T=b.popper;if(Au(_,T)){u.rects={reference:Uv(_,rs(T),u.options.strategy==="fixed"),popper:jl(T)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function($){return u.modifiersData[$.name]=Object.assign({},$.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var I=u.orderedModifiers[E],D=I.fn,C=I.options,x=C===void 0?{}:C,V=I.name;typeof D=="function"&&(u=D({state:u,options:x,name:V,instance:p})||u)}}}},update:Hv(function(){return new Promise(function(f){p.forceUpdate(),f(u)})}),destroy:function(){g(),h=!0}};if(!Au(a,l))return p;p.setOptions(c).then(function(f){!h&&c.onFirstUpdate&&c.onFirstUpdate(f)});function m(){u.orderedModifiers.forEach(function(f){var b=f.name,_=f.options,T=_===void 0?{}:_,E=f.effect;if(typeof E=="function"){var I=E({state:u,name:b,instance:p,options:T}),D=function(){};d.push(I||D)}})}function g(){d.forEach(function(f){return f()}),d=[]}return p}}var Kv=[yv,Ov,mv,ov,kv,Sv,Lv,dv,Rv],Gv=Yv({defaultModifiers:Kv});const qh="Popper";function Qv(t){return $h(qh,t)}zy(qh,["root"]);const Xv=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Jv=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Zv(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function Ha(t){return typeof t=="function"?t():t}function e_(t){return t.nodeType!==void 0}const t_=()=>we({root:["root"]},Fy(Qv)),n_={},r_=y.forwardRef(function(e,n){var r;const{anchorEl:o,children:s,direction:i,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:p={},slots:m={},TransitionProps:g}=e,f=se(e,Xv),b=y.useRef(null),_=Ge(b,n),T=y.useRef(null),E=Ge(T,h),I=y.useRef(E);Yt(()=>{I.current=E},[E]),y.useImperativeHandle(h,()=>T.current,[]);const D=Zv(u,i),[C,x]=y.useState(D),[V,$]=y.useState(Ha(o));y.useEffect(()=>{T.current&&T.current.forceUpdate()}),y.useEffect(()=>{o&&$(Ha(o))},[o]),Yt(()=>{if(!V||!c)return;const P=S=>{x(S.placement)};let A=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:S})=>{P(S)}}];l!=null&&(A=A.concat(l)),d&&d.modifiers!=null&&(A=A.concat(d.modifiers));const F=Gv(V,b.current,v({placement:D},d,{modifiers:A}));return I.current(F),()=>{F.destroy(),I.current(null)}},[V,a,l,c,d,D]);const R={placement:C};g!==null&&(R.TransitionProps=g);const L=t_(),k=(r=m.root)!=null?r:"div",M=De({elementType:k,externalSlotProps:p.root,externalForwardedProps:f,additionalProps:{role:"tooltip",ref:_},ownerState:e,className:L.root});return w.jsx(k,v({},M,{children:typeof s=="function"?s(R):s}))}),o_=y.forwardRef(function(e,n){const{anchorEl:r,children:o,container:s,direction:i="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=n_,popperRef:p,style:m,transition:g=!1,slotProps:f={},slots:b={}}=e,_=se(e,Jv),[T,E]=y.useState(!0),I=()=>{E(!1)},D=()=>{E(!0)};if(!l&&!u&&(!g||T))return null;let C;if(s)C=s;else if(r){const $=Ha(r);C=$&&e_($)?nn($).body:nn(null).body}const x=!u&&l&&(!g||T)?"none":void 0,V=g?{in:u,onEnter:I,onExited:D}:void 0;return w.jsx(ty,{disablePortal:a,container:C,children:w.jsx(r_,v({anchorEl:r,direction:i,disablePortal:a,modifiers:c,ref:n,open:g?!T:u,placement:d,popperOptions:h,popperRef:p,slotProps:f,slots:b},_,{style:v({position:"fixed",top:0,left:0,display:x},m),TransitionProps:V,children:o}))})});var ql={};Object.defineProperty(ql,"__esModule",{value:!0});var Yh=ql.default=void 0,s_=a_(y),i_=ny;function Kh(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Kh=function(r){return r?n:e})(t)}function a_(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Kh(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var i=o?Object.getOwnPropertyDescriptor(t,s):null;i&&(i.get||i.set)?Object.defineProperty(r,s,i):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function l_(t){return Object.keys(t).length===0}function c_(t=null){const e=s_.useContext(i_.ThemeContext);return!e||l_(e)?t:e}Yh=ql.default=c_;const u_=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],d_=Y(o_,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Yl=y.forwardRef(function(e,n){var r;const o=Yh(),s=ge({props:e,name:"MuiPopper"}),{anchorEl:i,component:a,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:m,placement:g,popperOptions:f,popperRef:b,transition:_,slots:T,slotProps:E}=s,I=se(s,u_),D=(r=T==null?void 0:T.root)!=null?r:l==null?void 0:l.Root,C=v({anchorEl:i,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:m,placement:g,popperOptions:f,popperRef:b,transition:_},I);return w.jsx(d_,v({as:a,direction:o==null?void 0:o.direction,slots:{root:D},slotProps:E??c},C,{ref:n}))}),h_=dn(w.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function p_(t){return Ie("MuiChip",t)}const ke=Ee("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),f_=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],m_=t=>{const{classes:e,disabled:n,size:r,color:o,iconColor:s,onDelete:i,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${ue(r)}`,`color${ue(o)}`,a&&"clickable",a&&`clickableColor${ue(o)}`,i&&"deletable",i&&`deletableColor${ue(o)}`,`${l}${ue(o)}`],label:["label",`label${ue(r)}`],avatar:["avatar",`avatar${ue(r)}`,`avatarColor${ue(o)}`],icon:["icon",`icon${ue(r)}`,`iconColor${ue(s)}`],deleteIcon:["deleteIcon",`deleteIcon${ue(r)}`,`deleteIconColor${ue(o)}`,`deleteIcon${ue(l)}Color${ue(o)}`]};return we(c,p_,e)},g_=Y("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:o,clickable:s,onDelete:i,size:a,variant:l}=n;return[{[`& .${ke.avatar}`]:e.avatar},{[`& .${ke.avatar}`]:e[`avatar${ue(a)}`]},{[`& .${ke.avatar}`]:e[`avatarColor${ue(r)}`]},{[`& .${ke.icon}`]:e.icon},{[`& .${ke.icon}`]:e[`icon${ue(a)}`]},{[`& .${ke.icon}`]:e[`iconColor${ue(o)}`]},{[`& .${ke.deleteIcon}`]:e.deleteIcon},{[`& .${ke.deleteIcon}`]:e[`deleteIcon${ue(a)}`]},{[`& .${ke.deleteIcon}`]:e[`deleteIconColor${ue(r)}`]},{[`& .${ke.deleteIcon}`]:e[`deleteIcon${ue(l)}Color${ue(r)}`]},e.root,e[`size${ue(a)}`],e[`color${ue(r)}`],s&&e.clickable,s&&r!=="default"&&e[`clickableColor${ue(r)})`],i&&e.deletable,i&&r!=="default"&&e[`deletableColor${ue(r)}`],e[l],e[`${l}${ue(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return v({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ke.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ke.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${ke.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${ke.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${ke.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${ke.icon}`]:v({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&v({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${ke.deleteIcon}`]:v({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Ze(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Ze(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:Ze(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${ke.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ze(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${ke.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>v({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ze(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${ke.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ze(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${ke.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>v({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${ke.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${ke.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${ke.avatar}`]:{marginLeft:4},[`& .${ke.avatarSmall}`]:{marginLeft:2},[`& .${ke.icon}`]:{marginLeft:4},[`& .${ke.iconSmall}`]:{marginLeft:2},[`& .${ke.deleteIcon}`]:{marginRight:5},[`& .${ke.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Ze(t.palette[e.color].main,.7)}`,[`&.${ke.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ze(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${ke.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Ze(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${ke.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Ze(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),y_=Y("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${ue(r)}`]]}})(({ownerState:t})=>v({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function Mu(t){return t.key==="Backspace"||t.key==="Delete"}const v_=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiChip"}),{avatar:o,className:s,clickable:i,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:p,onDelete:m,onKeyDown:g,onKeyUp:f,size:b="medium",variant:_="filled",tabIndex:T,skipFocusWhenDisabled:E=!1}=r,I=se(r,f_),D=y.useRef(null),C=Ge(D,n),x=O=>{O.stopPropagation(),m&&m(O)},V=O=>{O.currentTarget===O.target&&Mu(O)&&O.preventDefault(),g&&g(O)},$=O=>{O.currentTarget===O.target&&(m&&Mu(O)?m(O):O.key==="Escape"&&D.current&&D.current.blur()),f&&f(O)},R=i!==!1&&p?!0:i,L=R||m?Ws:l||"div",k=v({},r,{component:L,disabled:u,size:b,color:a,iconColor:y.isValidElement(d)&&d.props.color||a,onDelete:!!m,clickable:R,variant:_}),M=m_(k),P=L===Ws?v({component:l||"div",focusVisibleClassName:M.focusVisible},m&&{disableRipple:!0}):{};let A=null;m&&(A=c&&y.isValidElement(c)?y.cloneElement(c,{className:de(c.props.className,M.deleteIcon),onClick:x}):w.jsx(h_,{className:de(M.deleteIcon),onClick:x}));let F=null;o&&y.isValidElement(o)&&(F=y.cloneElement(o,{className:de(M.avatar,o.props.className)}));let S=null;return d&&y.isValidElement(d)&&(S=y.cloneElement(d,{className:de(M.icon,d.props.className)})),w.jsxs(g_,v({as:L,className:de(M.root,s),disabled:R&&u?!0:void 0,onClick:p,onKeyDown:V,onKeyUp:$,ref:C,tabIndex:E&&u?-1:T,ownerState:k},P,I,{children:[F||S,w.jsx(y_,{className:de(M.label),ownerState:k,children:h}),A]}))});function __(t){return Ie("MuiInput",t)}const no=v({},Ih,Ee("MuiInput",["root","underline","input"]));function b_(t){return Ie("MuiFilledInput",t)}const Un=v({},Ih,Ee("MuiFilledInput",["root","underline","input"])),w_=dn(w.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function T_(t){return Ie("MuiBadge",t)}const In=Ee("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),E_=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],va=10,_a=4,I_=My(),C_=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:o,variant:s,classes:i={}}=t,a={root:["root"],badge:["badge",s,r&&"invisible",`anchorOrigin${ue(n.vertical)}${ue(n.horizontal)}`,`anchorOrigin${ue(n.vertical)}${ue(n.horizontal)}${ue(o)}`,`overlap${ue(o)}`,e!=="default"&&`color${ue(e)}`]};return we(a,T_,i)},x_=Y("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),P_=Y("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${ue(n.anchorOrigin.vertical)}${ue(n.anchorOrigin.horizontal)}${ue(n.overlap)}`],n.color!=="default"&&e[`color${ue(n.color)}`],n.invisible&&e.invisible]}})(({theme:t})=>{var e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:va*2,lineHeight:1,padding:"0 6px",height:va*2,borderRadius:va,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(n=>{var r,o;return((r=t.vars)!=null?r:t).palette[n].main&&((o=t.vars)!=null?o:t).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:_a,height:_a*2,minWidth:_a*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${In.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${In.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${In.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${In.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${In.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${In.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${In.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${In.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}}),S_=y.forwardRef(function(e,n){var r,o,s,i,a,l;const c=I_({props:e,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:d,component:h,components:p={},componentsProps:m={},children:g,overlap:f="rectangular",color:b="default",invisible:_=!1,max:T=99,badgeContent:E,slots:I,slotProps:D,showZero:C=!1,variant:x="standard"}=c,V=se(c,E_),{badgeContent:$,invisible:R,max:L,displayValue:k}=By({max:T,invisible:_,badgeContent:E,showZero:C}),M=kh({anchorOrigin:u,color:b,overlap:f,variant:x,badgeContent:E}),P=R||$==null&&x!=="dot",{color:A=b,overlap:F=f,anchorOrigin:S=u,variant:O=x}=P?M:c,W=O!=="dot"?k:void 0,J=v({},c,{badgeContent:$,invisible:P,max:L,displayValue:W,showZero:C,anchorOrigin:S,color:A,overlap:F,variant:O}),z=C_(J),H=(r=(o=I==null?void 0:I.root)!=null?o:p.Root)!=null?r:x_,ee=(s=(i=I==null?void 0:I.badge)!=null?i:p.Badge)!=null?s:P_,oe=(a=D==null?void 0:D.root)!=null?a:m.root,j=(l=D==null?void 0:D.badge)!=null?l:m.badge,U=De({elementType:H,externalSlotProps:oe,externalForwardedProps:V,additionalProps:{ref:n,as:h},ownerState:J,className:de(oe==null?void 0:oe.className,z.root,d)}),Q=De({elementType:ee,externalSlotProps:j,ownerState:J,className:de(z.badge,j==null?void 0:j.className)});return w.jsxs(H,v({},U,{children:[g,w.jsx(ee,v({},Q,{children:W}))]}))});function D_(t){return Ie("MuiDialog",t)}const Io=Ee("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),R_=y.createContext({}),A_=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],M_=Y(ry,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),k_=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:o,fullScreen:s}=t,i={root:["root"],container:["container",`scroll${ue(n)}`],paper:["paper",`paperScroll${ue(n)}`,`paperWidth${ue(String(r))}`,o&&"paperFullWidth",s&&"paperFullScreen"]};return we(i,D_,e)},V_=Y(kl,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),O_=Y("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${ue(n.scroll)}`]]}})(({ownerState:t})=>v({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),$_=Y(Br,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${ue(n.scroll)}`],e[`paperWidth${ue(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>v({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Io.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${Io.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Io.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),N_=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDialog"}),o=Qt(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:m=!1,maxWidth:g="sm",onBackdropClick:f,onClose:b,open:_,PaperComponent:T=Br,PaperProps:E={},scroll:I="paper",TransitionComponent:D=es,transitionDuration:C=s,TransitionProps:x}=r,V=se(r,A_),$=v({},r,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:m,maxWidth:g,scroll:I}),R=k_($),L=y.useRef(),k=F=>{L.current=F.target===F.currentTarget},M=F=>{L.current&&(L.current=null,f&&f(F),b&&b(F,"backdropClick"))},P=wn(a),A=y.useMemo(()=>({titleId:P}),[P]);return w.jsx(V_,v({className:de(R.root,d),closeAfterTransition:!0,components:{Backdrop:M_},componentsProps:{backdrop:v({transitionDuration:C,as:l},c)},disableEscapeKeyDown:h,onClose:b,open:_,ref:n,onClick:M,ownerState:$},V,{children:w.jsx(D,v({appear:!0,in:_,timeout:C,role:"presentation"},x,{children:w.jsx(O_,{className:de(R.container),onMouseDown:k,ownerState:$,children:w.jsx($_,v({as:T,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":P},E,{className:de(R.paper,E.className),ownerState:$,children:w.jsx(R_.Provider,{value:A,children:u})}))})}))}))});function L_(t){return Ie("MuiDialogActions",t)}Ee("MuiDialogActions",["root","spacing"]);const F_=["className","disableSpacing"],B_=t=>{const{classes:e,disableSpacing:n}=t;return we({root:["root",!n&&"spacing"]},L_,e)},j_=Y("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>v({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),U_=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDialogActions"}),{className:o,disableSpacing:s=!1}=r,i=se(r,F_),a=v({},r,{disableSpacing:s}),l=B_(a);return w.jsx(j_,v({className:de(l.root,o),ownerState:a,ref:n},i))});function z_(t){return Ie("MuiDialogContent",t)}Ee("MuiDialogContent",["root","dividers"]);const W_=Ee("MuiDialogTitle",["root"]),H_=["className","dividers"],q_=t=>{const{classes:e,dividers:n}=t;return we({root:["root",n&&"dividers"]},z_,e)},Y_=Y("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>v({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${W_.root} + &`]:{paddingTop:0}})),K_=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDialogContent"}),{className:o,dividers:s=!1}=r,i=se(r,H_),a=v({},r,{dividers:s}),l=q_(a);return w.jsx(Y_,v({className:de(l.root,o),ownerState:a,ref:n},i))}),G_=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Q_=t=>{const{classes:e,disableUnderline:n}=t,o=we({root:["root",!n&&"underline"],input:["input"]},b_,e);return v({},e,o)},X_=Y(Ch,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...xh(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",o=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return v({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Un.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Un.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Un.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Un.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Un.disabled}, .${Un.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Un.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&v({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),J_=Y(Ph,{name:"MuiFilledInput",slot:"Input",overridesResolver:Sh})(({theme:t,ownerState:e})=>v({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Kl=y.forwardRef(function(e,n){var r,o,s,i;const a=ge({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:m={},type:g="text"}=a,f=se(a,G_),b=v({},a,{fullWidth:u,inputComponent:d,multiline:h,type:g}),_=Q_(a),T={root:{ownerState:b},input:{ownerState:b}},E=p??c?Vl(T,p??c):T,I=(r=(o=m.root)!=null?o:l.Root)!=null?r:X_,D=(s=(i=m.input)!=null?i:l.Input)!=null?s:J_;return w.jsx(Dh,v({slots:{root:I,input:D},componentsProps:E,fullWidth:u,inputComponent:d,multiline:h,ref:n,type:g},f,{classes:_}))});Kl.muiName="Input";const Z_=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function qa(t){return`scale(${t}, ${t**2})`}const eb={entering:{opacity:1,transform:qa(1)},entered:{opacity:1,transform:"none"}},ba=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Vo=y.forwardRef(function(e,n){const{addEndListener:r,appear:o=!0,children:s,easing:i,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:m,timeout:g="auto",TransitionComponent:f=yh}=e,b=se(e,Z_),_=yo(),T=y.useRef(),E=Qt(),I=y.useRef(null),D=Ge(I,s.ref,n),C=P=>A=>{if(P){const F=I.current;A===void 0?P(F):P(F,A)}},x=C(u),V=C((P,A)=>{oy(P);const{duration:F,delay:S,easing:O}=gu({style:m,timeout:g,easing:i},{mode:"enter"});let W;g==="auto"?(W=E.transitions.getAutoHeightDuration(P.clientHeight),T.current=W):W=F,P.style.transition=[E.transitions.create("opacity",{duration:W,delay:S}),E.transitions.create("transform",{duration:ba?W:W*.666,delay:S,easing:O})].join(","),l&&l(P,A)}),$=C(c),R=C(p),L=C(P=>{const{duration:A,delay:F,easing:S}=gu({style:m,timeout:g,easing:i},{mode:"exit"});let O;g==="auto"?(O=E.transitions.getAutoHeightDuration(P.clientHeight),T.current=O):O=A,P.style.transition=[E.transitions.create("opacity",{duration:O,delay:F}),E.transitions.create("transform",{duration:ba?O:O*.666,delay:ba?F:F||O*.333,easing:S})].join(","),P.style.opacity=0,P.style.transform=qa(.75),d&&d(P)}),k=C(h),M=P=>{g==="auto"&&_.start(T.current||0,P),r&&r(I.current,P)};return w.jsx(f,v({appear:o,in:a,nodeRef:I,onEnter:V,onEntered:$,onEntering:x,onExit:L,onExited:k,onExiting:R,addEndListener:M,timeout:g==="auto"?null:g},b,{children:(P,A)=>y.cloneElement(s,v({style:v({opacity:0,transform:qa(.75),visibility:P==="exited"&&!a?"hidden":void 0},eb[P],m,s.props.style),ref:D},A))}))});Vo.muiSupportAuto=!0;const tb=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],nb=t=>{const{classes:e,disableUnderline:n}=t,o=we({root:["root",!n&&"underline"],input:["input"]},__,e);return v({},e,o)},rb=Y(Ch,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...xh(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),v({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${no.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${no.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${no.disabled}, .${no.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${no.disabled}:before`]:{borderBottomStyle:"dotted"}})}),ob=Y(Ph,{name:"MuiInput",slot:"Input",overridesResolver:Sh})({}),Gl=y.forwardRef(function(e,n){var r,o,s,i;const a=ge({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:m,slots:g={},type:f="text"}=a,b=se(a,tb),_=nb(a),E={root:{ownerState:{disableUnderline:l}}},I=m??u?Vl(m??u,E):E,D=(r=(o=g.root)!=null?o:c.Root)!=null?r:rb,C=(s=(i=g.input)!=null?i:c.Input)!=null?s:ob;return w.jsx(Dh,v({slots:{root:D,input:C},slotProps:I,fullWidth:d,inputComponent:h,multiline:p,ref:n,type:f},b,{classes:_}))});Gl.muiName="Input";function sb(t){return Ie("MuiInputAdornment",t)}const ku=Ee("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Vu;const ib=["children","className","component","disablePointerEvents","disableTypography","position","variant"],ab=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${ue(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},lb=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:o,size:s,variant:i}=t,a={root:["root",n&&"disablePointerEvents",o&&`position${ue(o)}`,i,r&&"hiddenLabel",s&&`size${ue(s)}`]};return we(a,sb,e)},cb=Y("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:ab})(({theme:t,ownerState:e})=>v({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${ku.positionStart}&:not(.${ku.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),Gh=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiInputAdornment"}),{children:o,className:s,component:i="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u}=r,d=se(r,ib),h=Hr()||{};let p=u;u&&h.variant,h&&!p&&(p=h.variant);const m=v({},r,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:c,variant:p}),g=lb(m);return w.jsx(_y.Provider,{value:null,children:w.jsx(cb,v({as:i,ownerState:m,className:de(g.root,s),ref:n},d,{children:typeof o=="string"&&!l?w.jsx(Kt,{color:"text.secondary",children:o}):w.jsxs(y.Fragment,{children:[c==="start"?Vu||(Vu=w.jsx("span",{className:"notranslate",children:""})):null,o]})}))})}),ub=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function wa(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function Ou(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Qh(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function ro(t,e,n,r,o,s){let i=!1,a=o(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(i)return!1;i=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Qh(a,s)||l)a=o(t,a,n);else return a.focus(),!0}return!1}const db=y.forwardRef(function(e,n){const{actions:r,autoFocus:o=!1,autoFocusItem:s=!1,children:i,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=se(e,ub),p=y.useRef(null),m=y.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Yt(()=>{o&&p.current.focus()},[o]),y.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(T,{direction:E})=>{const I=!p.current.style.width;if(T.clientHeight<p.current.clientHeight&&I){const D=`${sy(nn(T))}px`;p.current.style[E==="rtl"?"paddingLeft":"paddingRight"]=D,p.current.style.width=`calc(100% + ${D})`}return p.current}}),[]);const g=T=>{const E=p.current,I=T.key,D=nn(E).activeElement;if(I==="ArrowDown")T.preventDefault(),ro(E,D,c,l,wa);else if(I==="ArrowUp")T.preventDefault(),ro(E,D,c,l,Ou);else if(I==="Home")T.preventDefault(),ro(E,null,c,l,wa);else if(I==="End")T.preventDefault(),ro(E,null,c,l,Ou);else if(I.length===1){const C=m.current,x=I.toLowerCase(),V=performance.now();C.keys.length>0&&(V-C.lastTime>500?(C.keys=[],C.repeating=!0,C.previousKeyMatched=!0):C.repeating&&x!==C.keys[0]&&(C.repeating=!1)),C.lastTime=V,C.keys.push(x);const $=D&&!C.repeating&&Qh(D,C);C.previousKeyMatched&&($||ro(E,D,!1,l,wa,C))?T.preventDefault():C.previousKeyMatched=!1}u&&u(T)},f=Ge(p,n);let b=-1;y.Children.forEach(i,(T,E)=>{if(!y.isValidElement(T)){b===E&&(b+=1,b>=i.length&&(b=-1));return}T.props.disabled||(d==="selectedMenu"&&T.props.selected||b===-1)&&(b=E),b===E&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(b+=1,b>=i.length&&(b=-1))});const _=y.Children.map(i,(T,E)=>{if(E===b){const I={};return s&&(I.autoFocus=!0),T.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),y.cloneElement(T,I)}return T});return w.jsx(vh,v({role:"menu",ref:f,className:a,onKeyDown:g,tabIndex:o?0:-1},h,{children:_}))});function hb(t){return Ie("MuiPopover",t)}Ee("MuiPopover",["root","paper"]);const pb=["onEntering"],fb=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],mb=["slotProps"];function $u(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function Nu(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function Lu(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Ta(t){return typeof t=="function"?t():t}const gb=t=>{const{classes:e}=t;return we({root:["root"],paper:["paper"]},hb,e)},yb=Y(kl,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Xh=Y(Br,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),vb=y.forwardRef(function(e,n){var r,o,s;const i=ge({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:m,elevation:g=8,marginThreshold:f=16,open:b,PaperProps:_={},slots:T,slotProps:E,transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:D=Vo,transitionDuration:C="auto",TransitionProps:{onEntering:x}={},disableScrollLock:V=!1}=i,$=se(i.TransitionProps,pb),R=se(i,fb),L=(r=E==null?void 0:E.paper)!=null?r:_,k=y.useRef(),M=Ge(k,L.ref),P=v({},i,{anchorOrigin:c,anchorReference:d,elevation:g,marginThreshold:f,externalPaperSlotProps:L,transformOrigin:I,TransitionComponent:D,transitionDuration:C,TransitionProps:$}),A=gb(P),F=y.useCallback(()=>{if(d==="anchorPosition")return u;const N=Ta(l),te=(N&&N.nodeType===1?N:nn(k.current).body).getBoundingClientRect();return{top:te.top+$u(te,c.vertical),left:te.left+Nu(te,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),S=y.useCallback(N=>({vertical:$u(N,I.vertical),horizontal:Nu(N,I.horizontal)}),[I.horizontal,I.vertical]),O=y.useCallback(N=>{const Z={width:N.offsetWidth,height:N.offsetHeight},te=S(Z);if(d==="none")return{top:null,left:null,transformOrigin:Lu(te)};const ye=F();let Oe=ye.top-te.vertical,ae=ye.left-te.horizontal;const he=Oe+Z.height,Pe=ae+Z.width,Ae=yu(Ta(l)),Xe=Ae.innerHeight-f,rt=Ae.innerWidth-f;if(f!==null&&Oe<f){const We=Oe-f;Oe-=We,te.vertical+=We}else if(f!==null&&he>Xe){const We=he-Xe;Oe-=We,te.vertical+=We}if(f!==null&&ae<f){const We=ae-f;ae-=We,te.horizontal+=We}else if(Pe>rt){const We=Pe-rt;ae-=We,te.horizontal+=We}return{top:`${Math.round(Oe)}px`,left:`${Math.round(ae)}px`,transformOrigin:Lu(te)}},[l,d,F,S,f]),[W,J]=y.useState(b),z=y.useCallback(()=>{const N=k.current;if(!N)return;const Z=O(N);Z.top!==null&&(N.style.top=Z.top),Z.left!==null&&(N.style.left=Z.left),N.style.transformOrigin=Z.transformOrigin,J(!0)},[O]);y.useEffect(()=>(V&&window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)),[l,V,z]);const H=(N,Z)=>{x&&x(N,Z),z()},ee=()=>{J(!1)};y.useEffect(()=>{b&&z()}),y.useImperativeHandle(a,()=>b?{updatePosition:()=>{z()}}:null,[b,z]),y.useEffect(()=>{if(!b)return;const N=iy(()=>{z()}),Z=yu(l);return Z.addEventListener("resize",N),()=>{N.clear(),Z.removeEventListener("resize",N)}},[l,b,z]);let oe=C;C==="auto"&&!D.muiSupportAuto&&(oe=void 0);const j=m||(l?nn(Ta(l)).body:void 0),U=(o=T==null?void 0:T.root)!=null?o:yb,Q=(s=T==null?void 0:T.paper)!=null?s:Xh,ne=De({elementType:Q,externalSlotProps:v({},L,{style:W?L.style:v({},L.style,{opacity:0})}),additionalProps:{elevation:g,ref:M},ownerState:P,className:de(A.paper,L==null?void 0:L.className)}),q=De({elementType:U,externalSlotProps:(E==null?void 0:E.root)||{},externalForwardedProps:R,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:j,open:b},ownerState:P,className:de(A.root,p)}),{slotProps:re}=q,X=se(q,mb);return w.jsx(U,v({},X,!ay(U)&&{slotProps:re,disableScrollLock:V},{children:w.jsx(D,v({appear:!0,in:b,onEntering:H,onExited:ee,timeout:oe},$,{children:w.jsx(Q,v({},ne,{children:h}))}))}))});function _b(t){return Ie("MuiMenu",t)}Ee("MuiMenu",["root","paper","list"]);const bb=["onEntering"],wb=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Tb={vertical:"top",horizontal:"right"},Eb={vertical:"top",horizontal:"left"},Ib=t=>{const{classes:e}=t;return we({root:["root"],paper:["paper"],list:["list"]},_b,e)},Cb=Y(vb,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),xb=Y(Xh,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Pb=Y(db,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Sb=y.forwardRef(function(e,n){var r,o;const s=ge({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:m,transitionDuration:g="auto",TransitionProps:{onEntering:f}={},variant:b="selectedMenu",slots:_={},slotProps:T={}}=s,E=se(s.TransitionProps,bb),I=se(s,wb),D=_h(),C=v({},s,{autoFocus:i,disableAutoFocusItem:c,MenuListProps:u,onEntering:f,PaperProps:p,transitionDuration:g,TransitionProps:E,variant:b}),x=Ib(C),V=i&&!c&&h,$=y.useRef(null),R=(S,O)=>{$.current&&$.current.adjustStyleForScrollbar(S,{direction:D?"rtl":"ltr"}),f&&f(S,O)},L=S=>{S.key==="Tab"&&(S.preventDefault(),d&&d(S,"tabKeyDown"))};let k=-1;y.Children.map(a,(S,O)=>{y.isValidElement(S)&&(S.props.disabled||(b==="selectedMenu"&&S.props.selected||k===-1)&&(k=O))});const M=(r=_.paper)!=null?r:xb,P=(o=T.paper)!=null?o:p,A=De({elementType:_.root,externalSlotProps:T.root,ownerState:C,className:[x.root,l]}),F=De({elementType:M,externalSlotProps:P,ownerState:C,className:x.paper});return w.jsx(Cb,v({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:D?"right":"left"},transformOrigin:D?Tb:Eb,slots:{paper:M,root:_.root},slotProps:{root:A,paper:F},open:h,ref:n,transitionDuration:g,TransitionProps:v({onEntering:R},E),ownerState:C},I,{classes:m,children:w.jsx(Pb,v({onKeyDown:L,actions:$,autoFocus:i&&(k===-1||c),autoFocusItem:V,variant:b},u,{className:de(x.list,u.className),children:a}))}))});function Db(t){return Ie("MuiMenuItem",t)}const oo=Ee("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Rb=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Ab=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Mb=t=>{const{disabled:e,dense:n,divider:r,disableGutters:o,selected:s,classes:i}=t,l=we({root:["root",n&&"dense",e&&"disabled",!o&&"gutters",r&&"divider",s&&"selected"]},Db,i);return v({},i,l)},kb=Y(Ws,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Ab})(({theme:t,ownerState:e})=>v({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${oo.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${oo.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${oo.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${oo.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${oo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${_u.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${_u.inset}`]:{marginLeft:52},[`& .${bu.root}`]:{marginTop:0,marginBottom:0},[`& .${bu.inset}`]:{paddingLeft:36},[`& .${vu.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&v({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${vu.root} svg`]:{fontSize:"1.25rem"}}))),Ya=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:s="li",dense:i=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=r,p=se(r,Rb),m=y.useContext(wu),g=y.useMemo(()=>({dense:i||m.dense||!1,disableGutters:l}),[m.dense,i,l]),f=y.useRef(null);Yt(()=>{o&&f.current&&f.current.focus()},[o]);const b=v({},r,{dense:g.dense,divider:a,disableGutters:l}),_=Mb(r),T=Ge(f,n);let E;return r.disabled||(E=d!==void 0?d:-1),w.jsx(wu.Provider,{value:g,children:w.jsx(kb,v({ref:T,role:u,tabIndex:E,component:s,focusVisibleClassName:de(_.focusVisible,c),className:de(_.root,h)},p,{ownerState:b,classes:_}))})});function Vb(t){return Ie("MuiNativeSelect",t)}const Ql=Ee("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Ob=["className","disabled","error","IconComponent","inputRef","variant"],$b=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:s,error:i}=t,a={select:["select",n,r&&"disabled",o&&"multiple",i&&"error"],icon:["icon",`icon${ue(n)}`,s&&"iconOpen",r&&"disabled"]};return we(a,Vb,e)},Jh=({ownerState:t,theme:e})=>v({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":v({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Ql.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Nb=Y("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:jr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Ql.multiple}`]:e.multiple}]}})(Jh),Zh=({ownerState:t,theme:e})=>v({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Ql.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Lb=Y("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ue(n.variant)}`],n.open&&e.iconOpen]}})(Zh),Fb=y.forwardRef(function(e,n){const{className:r,disabled:o,error:s,IconComponent:i,inputRef:a,variant:l="standard"}=e,c=se(e,Ob),u=v({},e,{disabled:o,variant:l,error:s}),d=$b(u);return w.jsxs(y.Fragment,{children:[w.jsx(Nb,v({ownerState:u,className:de(d.select,r),disabled:o,ref:a||n},c)),e.multiple?null:w.jsx(Lb,{as:i,ownerState:u,className:d.icon})]})});function Bb(t){return Ie("MuiSelect",t)}const so=Ee("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Fu;const jb=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Ub=Y("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${so.select}`]:e.select},{[`&.${so.select}`]:e[n.variant]},{[`&.${so.error}`]:e.error},{[`&.${so.multiple}`]:e.multiple}]}})(Jh,{[`&.${so.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),zb=Y("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ue(n.variant)}`],n.open&&e.iconOpen]}})(Zh),Wb=Y("input",{shouldForwardProp:t=>ly(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Bu(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Hb(t){return t==null||typeof t=="string"&&!t.trim()}const qb=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:s,error:i}=t,a={select:["select",n,r&&"disabled",o&&"multiple",i&&"error"],icon:["icon",`icon${ue(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return we(a,Bb,e)},Yb=y.forwardRef(function(e,n){var r;const{"aria-describedby":o,"aria-label":s,autoFocus:i,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:m=!1,IconComponent:g,inputRef:f,labelId:b,MenuProps:_={},multiple:T,name:E,onBlur:I,onChange:D,onClose:C,onFocus:x,onOpen:V,open:$,readOnly:R,renderValue:L,SelectDisplayProps:k={},tabIndex:M,value:P,variant:A="standard"}=e,F=se(e,jb),[S,O]=an({controlled:P,default:d,name:"Select"}),[W,J]=an({controlled:$,default:u,name:"Select"}),z=y.useRef(null),H=y.useRef(null),[ee,oe]=y.useState(null),{current:j}=y.useRef($!=null),[U,Q]=y.useState(),ne=Ge(n,f),q=y.useCallback(pe=>{H.current=pe,pe&&oe(pe)},[]),re=ee==null?void 0:ee.parentNode;y.useImperativeHandle(ne,()=>({focus:()=>{H.current.focus()},node:z.current,value:S}),[S]),y.useEffect(()=>{u&&W&&ee&&!j&&(Q(a?null:re.clientWidth),H.current.focus())},[ee,a]),y.useEffect(()=>{i&&H.current.focus()},[i]),y.useEffect(()=>{if(!b)return;const pe=nn(H.current).getElementById(b);if(pe){const Me=()=>{getSelection().isCollapsed&&H.current.focus()};return pe.addEventListener("click",Me),()=>{pe.removeEventListener("click",Me)}}},[b]);const X=(pe,Me)=>{pe?V&&V(Me):C&&C(Me),j||(Q(a?null:re.clientWidth),J(pe))},N=pe=>{pe.button===0&&(pe.preventDefault(),H.current.focus(),X(!0,pe))},Z=pe=>{X(!1,pe)},te=y.Children.toArray(l),ye=pe=>{const Me=te.find(je=>je.props.value===pe.target.value);Me!==void 0&&(O(Me.props.value),D&&D(pe,Me))},Oe=pe=>Me=>{let je;if(Me.currentTarget.hasAttribute("tabindex")){if(T){je=Array.isArray(S)?S.slice():[];const _t=S.indexOf(pe.props.value);_t===-1?je.push(pe.props.value):je.splice(_t,1)}else je=pe.props.value;if(pe.props.onClick&&pe.props.onClick(Me),S!==je&&(O(je),D)){const _t=Me.nativeEvent||Me,En=new _t.constructor(_t.type,_t);Object.defineProperty(En,"target",{writable:!0,value:{value:je,name:E}}),D(En,pe)}T||X(!1,Me)}},ae=pe=>{R||[" ","ArrowUp","ArrowDown","Enter"].indexOf(pe.key)!==-1&&(pe.preventDefault(),X(!0,pe))},he=ee!==null&&W,Pe=pe=>{!he&&I&&(Object.defineProperty(pe,"target",{writable:!0,value:{value:S,name:E}}),I(pe))};delete F["aria-invalid"];let Ae,Xe;const rt=[];let We=!1;(by({value:S})||p)&&(L?Ae=L(S):We=!0);const zt=te.map(pe=>{if(!y.isValidElement(pe))return null;let Me;if(T){if(!Array.isArray(S))throw new Error(Ua(2));Me=S.some(je=>Bu(je,pe.props.value)),Me&&We&&rt.push(pe.props.children)}else Me=Bu(S,pe.props.value),Me&&We&&(Xe=pe.props.children);return y.cloneElement(pe,{"aria-selected":Me?"true":"false",onClick:Oe(pe),onKeyUp:je=>{je.key===" "&&je.preventDefault(),pe.props.onKeyUp&&pe.props.onKeyUp(je)},role:"option",selected:Me,value:void 0,"data-value":pe.props.value})});We&&(T?rt.length===0?Ae=null:Ae=rt.reduce((pe,Me,je)=>(pe.push(Me),je<rt.length-1&&pe.push(", "),pe),[]):Ae=Xe);let Tt=U;!a&&j&&ee&&(Tt=re.clientWidth);let At;typeof M<"u"?At=M:At=h?null:0;const hn=k.id||(E?`mui-component-select-${E}`:void 0),pn=v({},e,{variant:A,value:S,open:he,error:m}),vt=qb(pn),fn=v({},_.PaperProps,(r=_.slotProps)==null?void 0:r.paper),Mt=wn();return w.jsxs(y.Fragment,{children:[w.jsx(Ub,v({ref:q,tabIndex:At,role:"combobox","aria-controls":Mt,"aria-disabled":h?"true":void 0,"aria-expanded":he?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[b,hn].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:ae,onMouseDown:h||R?null:N,onBlur:Pe,onFocus:x},k,{ownerState:pn,className:de(k.className,vt.select,c),id:hn,children:Hb(Ae)?Fu||(Fu=w.jsx("span",{className:"notranslate",children:""})):Ae})),w.jsx(Wb,v({"aria-invalid":m,value:Array.isArray(S)?S.join(","):S,name:E,ref:z,"aria-hidden":!0,onChange:ye,tabIndex:-1,disabled:h,className:vt.nativeInput,autoFocus:i,ownerState:pn},F)),w.jsx(zb,{as:g,className:vt.icon,ownerState:pn}),w.jsx(Sb,v({id:`menu-${E||""}`,anchorEl:re,open:he,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},_,{MenuListProps:v({"aria-labelledby":b,role:"listbox","aria-multiselectable":T?"true":void 0,disableListWrap:!0,id:Mt},_.MenuListProps),slotProps:v({},_.slotProps,{paper:v({},fn,{style:v({minWidth:Tt},fn!=null?fn.style:null)})}),children:zt}))]})}),Kb=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Gb=["root"],Qb=t=>{const{classes:e}=t;return e},Xl={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>jr(t)&&t!=="variant",slot:"Root"},Xb=Y(Gl,Xl)(""),Jb=Y(Rh,Xl)(""),Zb=Y(Kl,Xl)(""),xi=y.forwardRef(function(e,n){const r=ge({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:s,classes:i={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=w_,id:d,input:h,inputProps:p,label:m,labelId:g,MenuProps:f,multiple:b=!1,native:_=!1,onClose:T,onOpen:E,open:I,renderValue:D,SelectDisplayProps:C,variant:x="outlined"}=r,V=se(r,Kb),$=_?Fb:Yb,R=Hr(),L=wy({props:r,muiFormControl:R,states:["variant","error"]}),k=L.variant||x,M=v({},r,{variant:k,classes:i}),P=Qb(M),A=se(P,Gb),F=h||{standard:w.jsx(Xb,{ownerState:M}),outlined:w.jsx(Jb,{label:m,ownerState:M}),filled:w.jsx(Zb,{ownerState:M})}[k],S=Ge(n,F.ref);return w.jsx(y.Fragment,{children:y.cloneElement(F,v({inputComponent:$,inputProps:v({children:s,error:L.error,IconComponent:u,variant:k,type:void 0,multiple:b},_?{id:d}:{autoWidth:o,defaultOpen:l,displayEmpty:c,labelId:g,MenuProps:f,onClose:T,onOpen:E,open:I,renderValue:D,SelectDisplayProps:v({id:d},C)},p,{classes:p?Vl(A,p.classes):A},h?h.props.inputProps:{})},(b&&_||c)&&k==="outlined"?{notched:!0}:{},{ref:S,className:de(F.props.className,a,P.root)},!h&&{variant:k},V))})});xi.muiName="Select";function ew(t){return Ie("MuiTooltip",t)}const xn=Ee("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),tw=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function nw(t){return Math.round(t*1e5)/1e5}const rw=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:o,placement:s}=t,i={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${ue(s.split("-")[0])}`],arrow:["arrow"]};return we(i,ew,e)},ow=Y(Yl,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>v({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${xn.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${xn.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${xn.arrow}`]:v({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${xn.arrow}`]:v({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),sw=Y("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${ue(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>v({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Ze(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${nw(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${xn.popper}[data-popper-placement*="left"] &`]:v({transformOrigin:"right center"},e.isRtl?v({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):v({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${xn.popper}[data-popper-placement*="right"] &`]:v({transformOrigin:"left center"},e.isRtl?v({marginRight:"14px"},e.touch&&{marginRight:"24px"}):v({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${xn.popper}[data-popper-placement*="top"] &`]:v({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${xn.popper}[data-popper-placement*="bottom"] &`]:v({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),iw=Y("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Ze(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Ts=!1;const ju=new uy;let io={x:0,y:0};function Es(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const aw=y.forwardRef(function(e,n){var r,o,s,i,a,l,c,u,d,h,p,m,g,f,b,_,T,E,I;const D=ge({props:e,name:"MuiTooltip"}),{arrow:C=!1,children:x,components:V={},componentsProps:$={},describeChild:R=!1,disableFocusListener:L=!1,disableHoverListener:k=!1,disableInteractive:M=!1,disableTouchListener:P=!1,enterDelay:A=100,enterNextDelay:F=0,enterTouchDelay:S=700,followCursor:O=!1,id:W,leaveDelay:J=0,leaveTouchDelay:z=1500,onClose:H,onOpen:ee,open:oe,placement:j="bottom",PopperComponent:U,PopperProps:Q={},slotProps:ne={},slots:q={},title:re,TransitionComponent:X=Vo,TransitionProps:N}=D,Z=se(D,tw),te=y.isValidElement(x)?x:w.jsx("span",{children:x}),ye=Qt(),Oe=_h(),[ae,he]=y.useState(),[Pe,Ae]=y.useState(null),Xe=y.useRef(!1),rt=M||O,We=yo(),zt=yo(),Tt=yo(),At=yo(),[hn,pn]=an({controlled:oe,default:!1,name:"Tooltip",state:"open"});let vt=hn;const fn=wn(W),Mt=y.useRef(),pe=le(()=>{Mt.current!==void 0&&(document.body.style.WebkitUserSelect=Mt.current,Mt.current=void 0),At.clear()});y.useEffect(()=>pe,[pe]);const Me=Ce=>{ju.clear(),Ts=!0,pn(!0),ee&&!vt&&ee(Ce)},je=le(Ce=>{ju.start(800+J,()=>{Ts=!1}),pn(!1),H&&vt&&H(Ce),We.start(ye.transitions.duration.shortest,()=>{Xe.current=!1})}),_t=Ce=>{Xe.current&&Ce.type!=="touchstart"||(ae&&ae.removeAttribute("title"),zt.clear(),Tt.clear(),A||Ts&&F?zt.start(Ts?F:A,()=>{Me(Ce)}):Me(Ce))},En=Ce=>{zt.clear(),Tt.start(J,()=>{je(Ce)})},{isFocusVisibleRef:Ue,onBlur:kt,onFocus:jn,ref:Xt}=cy(),[,lu]=y.useState(!1),cu=Ce=>{kt(Ce),Ue.current===!1&&(lu(!1),En(Ce))},uu=Ce=>{ae||he(Ce.currentTarget),jn(Ce),Ue.current===!0&&(lu(!0),_t(Ce))},du=Ce=>{Xe.current=!0;const xt=te.props;xt.onTouchStart&&xt.onTouchStart(Ce)},Ug=Ce=>{du(Ce),Tt.clear(),We.clear(),pe(),Mt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",At.start(S,()=>{document.body.style.WebkitUserSelect=Mt.current,_t(Ce)})},zg=Ce=>{te.props.onTouchEnd&&te.props.onTouchEnd(Ce),pe(),Tt.start(z,()=>{je(Ce)})};y.useEffect(()=>{if(!vt)return;function Ce(xt){(xt.key==="Escape"||xt.key==="Esc")&&je(xt)}return document.addEventListener("keydown",Ce),()=>{document.removeEventListener("keydown",Ce)}},[je,vt]);const Wg=Ge(te.ref,Xt,he,n);!re&&re!==0&&(vt=!1);const fa=y.useRef(),Hg=Ce=>{const xt=te.props;xt.onMouseMove&&xt.onMouseMove(Ce),io={x:Ce.clientX,y:Ce.clientY},fa.current&&fa.current.update()},Jr={},ma=typeof re=="string";R?(Jr.title=!vt&&ma&&!k?re:null,Jr["aria-describedby"]=vt?fn:null):(Jr["aria-label"]=ma?re:null,Jr["aria-labelledby"]=vt&&!ma?fn:null);const Wt=v({},Jr,Z,te.props,{className:de(Z.className,te.props.className),onTouchStart:du,ref:Wg},O?{onMouseMove:Hg}:{}),Zr={};P||(Wt.onTouchStart=Ug,Wt.onTouchEnd=zg),k||(Wt.onMouseOver=Es(_t,Wt.onMouseOver),Wt.onMouseLeave=Es(En,Wt.onMouseLeave),rt||(Zr.onMouseOver=_t,Zr.onMouseLeave=En)),L||(Wt.onFocus=Es(uu,Wt.onFocus),Wt.onBlur=Es(cu,Wt.onBlur),rt||(Zr.onFocus=uu,Zr.onBlur=cu));const qg=y.useMemo(()=>{var Ce;let xt=[{name:"arrow",enabled:!!Pe,options:{element:Pe,padding:4}}];return(Ce=Q.popperOptions)!=null&&Ce.modifiers&&(xt=xt.concat(Q.popperOptions.modifiers)),v({},Q.popperOptions,{modifiers:xt})},[Pe,Q]),eo=v({},D,{isRtl:Oe,arrow:C,disableInteractive:rt,placement:j,PopperComponentProp:U,touch:Xe.current}),ga=rw(eo),hu=(r=(o=q.popper)!=null?o:V.Popper)!=null?r:ow,pu=(s=(i=(a=q.transition)!=null?a:V.Transition)!=null?i:X)!=null?s:Vo,fu=(l=(c=q.tooltip)!=null?c:V.Tooltip)!=null?l:sw,mu=(u=(d=q.arrow)!=null?d:V.Arrow)!=null?u:iw,Yg=bs(hu,v({},Q,(h=ne.popper)!=null?h:$.popper,{className:de(ga.popper,Q==null?void 0:Q.className,(p=(m=ne.popper)!=null?m:$.popper)==null?void 0:p.className)}),eo),Kg=bs(pu,v({},N,(g=ne.transition)!=null?g:$.transition),eo),Gg=bs(fu,v({},(f=ne.tooltip)!=null?f:$.tooltip,{className:de(ga.tooltip,(b=(_=ne.tooltip)!=null?_:$.tooltip)==null?void 0:b.className)}),eo),Qg=bs(mu,v({},(T=ne.arrow)!=null?T:$.arrow,{className:de(ga.arrow,(E=(I=ne.arrow)!=null?I:$.arrow)==null?void 0:E.className)}),eo);return w.jsxs(y.Fragment,{children:[y.cloneElement(te,Wt),w.jsx(hu,v({as:U??Yl,placement:j,anchorEl:O?{getBoundingClientRect:()=>({top:io.y,left:io.x,right:io.x,bottom:io.y,width:0,height:0})}:ae,popperRef:fa,open:ae?vt:!1,id:fn,transition:!0},Zr,Yg,{popperOptions:qg,children:({TransitionProps:Ce})=>w.jsx(pu,v({timeout:ye.transitions.duration.shorter},Ce,Kg,{children:w.jsxs(fu,v({},Gg,{children:[re,C?w.jsx(mu,v({},Qg,{ref:Ae})):null]}))}))}))]})}),ep=y.createContext();function lw(t){return Ie("MuiTable",t)}Ee("MuiTable",["root","stickyHeader"]);const cw=["className","component","padding","size","stickyHeader"],uw=t=>{const{classes:e,stickyHeader:n}=t;return we({root:["root",n&&"stickyHeader"]},lw,e)},dw=Y("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>v({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":v({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),Uu="table",hw=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTable"}),{className:o,component:s=Uu,padding:i="normal",size:a="medium",stickyHeader:l=!1}=r,c=se(r,cw),u=v({},r,{component:s,padding:i,size:a,stickyHeader:l}),d=uw(u),h=y.useMemo(()=>({padding:i,size:a,stickyHeader:l}),[i,a,l]);return w.jsx(ep.Provider,{value:h,children:w.jsx(dw,v({as:s,role:s===Uu?null:"table",ref:n,className:de(d.root,o),ownerState:u},c))})}),Pi=y.createContext();function pw(t){return Ie("MuiTableBody",t)}Ee("MuiTableBody",["root"]);const fw=["className","component"],mw=t=>{const{classes:e}=t;return we({root:["root"]},pw,e)},gw=Y("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),yw={variant:"body"},zu="tbody",vw=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableBody"}),{className:o,component:s=zu}=r,i=se(r,fw),a=v({},r,{component:s}),l=mw(a);return w.jsx(Pi.Provider,{value:yw,children:w.jsx(gw,v({className:de(l.root,o),as:s,ref:n,role:s===zu?null:"rowgroup",ownerState:a},i))})});function _w(t){return Ie("MuiTableCell",t)}const bw=Ee("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),ww=["align","className","component","padding","scope","size","sortDirection","variant"],Tw=t=>{const{classes:e,variant:n,align:r,padding:o,size:s,stickyHeader:i}=t,a={root:["root",n,i&&"stickyHeader",r!=="inherit"&&`align${ue(r)}`,o!=="normal"&&`padding${ue(o)}`,`size${ue(s)}`]};return we(a,_w,e)},Ew=Y("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${ue(n.size)}`],n.padding!=="normal"&&e[`padding${ue(n.padding)}`],n.align!=="inherit"&&e[`align${ue(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>v({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?dy(Ze(t.palette.divider,1),.88):hy(Ze(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${bw.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),Cn=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableCell"}),{align:o="inherit",className:s,component:i,padding:a,scope:l,size:c,sortDirection:u,variant:d}=r,h=se(r,ww),p=y.useContext(ep),m=y.useContext(Pi),g=m&&m.variant==="head";let f;i?f=i:f=g?"th":"td";let b=l;f==="td"?b=void 0:!b&&g&&(b="col");const _=d||m&&m.variant,T=v({},r,{align:o,component:f,padding:a||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:_==="head"&&p&&p.stickyHeader,variant:_}),E=Tw(T);let I=null;return u&&(I=u==="asc"?"ascending":"descending"),w.jsx(Ew,v({as:f,ref:n,className:de(E.root,s),"aria-sort":I,scope:b,ownerState:T},h))});function Iw(t){return Ie("MuiTableContainer",t)}Ee("MuiTableContainer",["root"]);const Cw=["className","component"],xw=t=>{const{classes:e}=t;return we({root:["root"]},Iw,e)},Pw=Y("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),Sw=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableContainer"}),{className:o,component:s="div"}=r,i=se(r,Cw),a=v({},r,{component:s}),l=xw(a);return w.jsx(Pw,v({ref:n,as:s,className:de(l.root,o),ownerState:a},i))});function Dw(t){return Ie("MuiTableHead",t)}Ee("MuiTableHead",["root"]);const Rw=["className","component"],Aw=t=>{const{classes:e}=t;return we({root:["root"]},Dw,e)},Mw=Y("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),kw={variant:"head"},Wu="thead",Vw=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableHead"}),{className:o,component:s=Wu}=r,i=se(r,Rw),a=v({},r,{component:s}),l=Aw(a);return w.jsx(Pi.Provider,{value:kw,children:w.jsx(Mw,v({as:s,className:de(l.root,o),ref:n,role:s===Wu?null:"rowgroup",ownerState:a},i))})});function Ow(t){return Ie("MuiTableRow",t)}const Hu=Ee("MuiTableRow",["root","selected","hover","head","footer"]),$w=["className","component","hover","selected"],Nw=t=>{const{classes:e,selected:n,hover:r,head:o,footer:s}=t;return we({root:["root",n&&"selected",r&&"hover",o&&"head",s&&"footer"]},Ow,e)},Lw=Y("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Hu.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Hu.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ze(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),qu="tr",Yu=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTableRow"}),{className:o,component:s=qu,hover:i=!1,selected:a=!1}=r,l=se(r,$w),c=y.useContext(Pi),u=v({},r,{component:s,hover:i,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),d=Nw(u);return w.jsx(Lw,v({as:s,ref:n,className:de(d.root,o),role:s===qu?null:"row",ownerState:u},l))});function Fw(t){return Ie("MuiTextField",t)}Ee("MuiTextField",["root"]);const Bw=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],jw={standard:Gl,filled:Kl,outlined:Rh},Uw=t=>{const{classes:e}=t;return we({root:["root"]},Fw,e)},zw=Y(pi,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),tp=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiTextField"}),{autoComplete:o,autoFocus:s=!1,children:i,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:g,InputLabelProps:f,inputProps:b,InputProps:_,inputRef:T,label:E,maxRows:I,minRows:D,multiline:C=!1,name:x,onBlur:V,onChange:$,onFocus:R,placeholder:L,required:k=!1,rows:M,select:P=!1,SelectProps:A,type:F,value:S,variant:O="outlined"}=r,W=se(r,Bw),J=v({},r,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:p,multiline:C,required:k,select:P,variant:O}),z=Uw(J),H={};O==="outlined"&&(f&&typeof f.shrink<"u"&&(H.notched=f.shrink),H.label=E),P&&((!A||!A.native)&&(H.id=void 0),H["aria-describedby"]=void 0);const ee=wn(g),oe=m&&ee?`${ee}-helper-text`:void 0,j=E&&ee?`${ee}-label`:void 0,U=jw[O],Q=w.jsx(U,v({"aria-describedby":oe,autoComplete:o,autoFocus:s,defaultValue:c,fullWidth:p,multiline:C,name:x,rows:M,maxRows:I,minRows:D,type:F,value:S,id:ee,inputRef:T,onBlur:V,onChange:$,onFocus:R,placeholder:L,inputProps:b},H,_));return w.jsxs(zw,v({className:de(z.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:k,color:l,variant:O,ownerState:J},W,{children:[E!=null&&E!==""&&w.jsx(fi,v({htmlFor:ee,id:j},f,{children:E})),P?w.jsx(xi,v({"aria-describedby":oe,id:ee,labelId:j,value:S,input:Q},A,{children:i})):Q,m&&w.jsx(ts,v({id:oe},h,{children:m}))]}))}),Ww=["localeText"],Ka=y.createContext(null),os=function(e){const{localeText:n}=e,r=se(e,Ww),{utils:o,localeText:s}=y.useContext(Ka)??{utils:void 0,localeText:void 0},i=ge({props:r,name:"MuiLocalizationProvider"}),{children:a,dateAdapter:l,dateFormats:c,dateLibInstance:u,adapterLocale:d,localeText:h}=i,p=y.useMemo(()=>v({},h,s,n),[h,s,n]),m=y.useMemo(()=>{if(!l)return o||null;const b=new l({locale:d,formats:c,instance:u});if(!b.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return b},[l,d,c,u,o]),g=y.useMemo(()=>m?{minDate:m.date("1900-01-01T00:00:00.000"),maxDate:m.date("2099-12-31T00:00:00.000")}:null,[m]),f=y.useMemo(()=>({utils:m,defaultDates:g,localeText:p}),[g,m,p]);return w.jsx(Ka.Provider,{value:f,children:a})};var Ea={exports:{}},Ku;function np(){return Ku||(Ku=1,function(t,e){(function(n,r){t.exports=r()})(sr,function(){var n=1e3,r=6e4,o=36e5,s="millisecond",i="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",m="date",g="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var P=["th","st","nd","rd"],A=M%100;return"["+M+(P[(A-20)%10]||P[A]||P[0])+"]"}},T=function(M,P,A){var F=String(M);return!F||F.length>=P?M:""+Array(P+1-F.length).join(A)+M},E={s:T,z:function(M){var P=-M.utcOffset(),A=Math.abs(P),F=Math.floor(A/60),S=A%60;return(P<=0?"+":"-")+T(F,2,"0")+":"+T(S,2,"0")},m:function M(P,A){if(P.date()<A.date())return-M(A,P);var F=12*(A.year()-P.year())+(A.month()-P.month()),S=P.clone().add(F,d),O=A-S<0,W=P.clone().add(F+(O?-1:1),d);return+(-(F+(A-S)/(O?S-W:W-S))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:d,y:p,w:u,d:c,D:m,h:l,m:a,s:i,ms:s,Q:h}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},I="en",D={};D[I]=_;var C="$isDayjsObject",x=function(M){return M instanceof L||!(!M||!M[C])},V=function M(P,A,F){var S;if(!P)return I;if(typeof P=="string"){var O=P.toLowerCase();D[O]&&(S=O),A&&(D[O]=A,S=O);var W=P.split("-");if(!S&&W.length>1)return M(W[0])}else{var J=P.name;D[J]=P,S=J}return!F&&S&&(I=S),S||!F&&I},$=function(M,P){if(x(M))return M.clone();var A=typeof P=="object"?P:{};return A.date=M,A.args=arguments,new L(A)},R=E;R.l=V,R.i=x,R.w=function(M,P){return $(M,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var L=function(){function M(A){this.$L=V(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[C]=!0}var P=M.prototype;return P.parse=function(A){this.$d=function(F){var S=F.date,O=F.utc;if(S===null)return new Date(NaN);if(R.u(S))return new Date;if(S instanceof Date)return new Date(S);if(typeof S=="string"&&!/Z$/i.test(S)){var W=S.match(f);if(W){var J=W[2]-1||0,z=(W[7]||"0").substring(0,3);return O?new Date(Date.UTC(W[1],J,W[3]||1,W[4]||0,W[5]||0,W[6]||0,z)):new Date(W[1],J,W[3]||1,W[4]||0,W[5]||0,W[6]||0,z)}}return new Date(S)}(A),this.init()},P.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},P.$utils=function(){return R},P.isValid=function(){return this.$d.toString()!==g},P.isSame=function(A,F){var S=$(A);return this.startOf(F)<=S&&S<=this.endOf(F)},P.isAfter=function(A,F){return $(A)<this.startOf(F)},P.isBefore=function(A,F){return this.endOf(F)<$(A)},P.$g=function(A,F,S){return R.u(A)?this[F]:this.set(S,A)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(A,F){var S=this,O=!!R.u(F)||F,W=R.p(A),J=function(ne,q){var re=R.w(S.$u?Date.UTC(S.$y,q,ne):new Date(S.$y,q,ne),S);return O?re:re.endOf(c)},z=function(ne,q){return R.w(S.toDate()[ne].apply(S.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(q)),S)},H=this.$W,ee=this.$M,oe=this.$D,j="set"+(this.$u?"UTC":"");switch(W){case p:return O?J(1,0):J(31,11);case d:return O?J(1,ee):J(0,ee+1);case u:var U=this.$locale().weekStart||0,Q=(H<U?H+7:H)-U;return J(O?oe-Q:oe+(6-Q),ee);case c:case m:return z(j+"Hours",0);case l:return z(j+"Minutes",1);case a:return z(j+"Seconds",2);case i:return z(j+"Milliseconds",3);default:return this.clone()}},P.endOf=function(A){return this.startOf(A,!1)},P.$set=function(A,F){var S,O=R.p(A),W="set"+(this.$u?"UTC":""),J=(S={},S[c]=W+"Date",S[m]=W+"Date",S[d]=W+"Month",S[p]=W+"FullYear",S[l]=W+"Hours",S[a]=W+"Minutes",S[i]=W+"Seconds",S[s]=W+"Milliseconds",S)[O],z=O===c?this.$D+(F-this.$W):F;if(O===d||O===p){var H=this.clone().set(m,1);H.$d[J](z),H.init(),this.$d=H.set(m,Math.min(this.$D,H.daysInMonth())).$d}else J&&this.$d[J](z);return this.init(),this},P.set=function(A,F){return this.clone().$set(A,F)},P.get=function(A){return this[R.p(A)]()},P.add=function(A,F){var S,O=this;A=Number(A);var W=R.p(F),J=function(ee){var oe=$(O);return R.w(oe.date(oe.date()+Math.round(ee*A)),O)};if(W===d)return this.set(d,this.$M+A);if(W===p)return this.set(p,this.$y+A);if(W===c)return J(1);if(W===u)return J(7);var z=(S={},S[a]=r,S[l]=o,S[i]=n,S)[W]||1,H=this.$d.getTime()+A*z;return R.w(H,this)},P.subtract=function(A,F){return this.add(-1*A,F)},P.format=function(A){var F=this,S=this.$locale();if(!this.isValid())return S.invalidDate||g;var O=A||"YYYY-MM-DDTHH:mm:ssZ",W=R.z(this),J=this.$H,z=this.$m,H=this.$M,ee=S.weekdays,oe=S.months,j=S.meridiem,U=function(q,re,X,N){return q&&(q[re]||q(F,O))||X[re].slice(0,N)},Q=function(q){return R.s(J%12||12,q,"0")},ne=j||function(q,re,X){var N=q<12?"AM":"PM";return X?N.toLowerCase():N};return O.replace(b,function(q,re){return re||function(X){switch(X){case"YY":return String(F.$y).slice(-2);case"YYYY":return R.s(F.$y,4,"0");case"M":return H+1;case"MM":return R.s(H+1,2,"0");case"MMM":return U(S.monthsShort,H,oe,3);case"MMMM":return U(oe,H);case"D":return F.$D;case"DD":return R.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return U(S.weekdaysMin,F.$W,ee,2);case"ddd":return U(S.weekdaysShort,F.$W,ee,3);case"dddd":return ee[F.$W];case"H":return String(J);case"HH":return R.s(J,2,"0");case"h":return Q(1);case"hh":return Q(2);case"a":return ne(J,z,!0);case"A":return ne(J,z,!1);case"m":return String(z);case"mm":return R.s(z,2,"0");case"s":return String(F.$s);case"ss":return R.s(F.$s,2,"0");case"SSS":return R.s(F.$ms,3,"0");case"Z":return W}return null}(q)||W.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(A,F,S){var O,W=this,J=R.p(F),z=$(A),H=(z.utcOffset()-this.utcOffset())*r,ee=this-z,oe=function(){return R.m(W,z)};switch(J){case p:O=oe()/12;break;case d:O=oe();break;case h:O=oe()/3;break;case u:O=(ee-H)/6048e5;break;case c:O=(ee-H)/864e5;break;case l:O=ee/o;break;case a:O=ee/r;break;case i:O=ee/n;break;default:O=ee}return S?O:R.a(O)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return D[this.$L]},P.locale=function(A,F){if(!A)return this.$L;var S=this.clone(),O=V(A,F,!0);return O&&(S.$L=O),S},P.clone=function(){return R.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},M}(),k=L.prototype;return $.prototype=k,[["$ms",s],["$s",i],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",m]].forEach(function(M){k[M[1]]=function(P){return this.$g(P,M[0],M[1])}}),$.extend=function(M,P){return M.$i||(M(P,L,$),M.$i=!0),$},$.locale=V,$.isDayjs=x,$.unix=function(M){return $(1e3*M)},$.en=D[I],$.Ls=D,$.p={},$})}(Ea)),Ea.exports}var Hw=np();const Ye=Ur(Hw);var rp={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sr,function(){var n="week",r="year";return function(o,s,i){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=i(this).startOf(r).add(1,r).date(c),d=i(this).endOf(n);if(u.isBefore(d))return 1}var h=i(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),p=this.diff(h,n,!0);return p<0?i(this).startOf("week").week():Math.ceil(p)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(rp);var qw=rp.exports;const Yw=Ur(qw);var op={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,s=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,a={},l=function(g){return(g=+g)+(g>68?1900:2e3)},c=function(g){return function(f){this[g]=+f}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(f){if(!f||f==="Z")return 0;var b=f.match(/([+-]|\d\d)/g),_=60*b[1]+(+b[2]||0);return _===0?0:b[0]==="+"?-_:_}(g)}],d=function(g){var f=a[g];return f&&(f.indexOf?f:f.s.concat(f.f))},h=function(g,f){var b,_=a.meridiem;if(_){for(var T=1;T<=24;T+=1)if(g.indexOf(_(T,0,f))>-1){b=T>12;break}}else b=g===(f?"pm":"PM");return b},p={A:[i,function(g){this.afternoon=h(g,!1)}],a:[i,function(g){this.afternoon=h(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[o,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[s,c("seconds")],ss:[s,c("seconds")],m:[s,c("minutes")],mm:[s,c("minutes")],H:[s,c("hours")],h:[s,c("hours")],HH:[s,c("hours")],hh:[s,c("hours")],D:[s,c("day")],DD:[o,c("day")],Do:[i,function(g){var f=a.ordinal,b=g.match(/\d+/);if(this.day=b[0],f)for(var _=1;_<=31;_+=1)f(_).replace(/\[|\]/g,"")===g&&(this.day=_)}],M:[s,c("month")],MM:[o,c("month")],MMM:[i,function(g){var f=d("months"),b=(d("monthsShort")||f.map(function(_){return _.slice(0,3)})).indexOf(g)+1;if(b<1)throw new Error;this.month=b%12||b}],MMMM:[i,function(g){var f=d("months").indexOf(g)+1;if(f<1)throw new Error;this.month=f%12||f}],Y:[/[+-]?\d+/,c("year")],YY:[o,function(g){this.year=l(g)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function m(g){var f,b;f=g,b=a&&a.formats;for(var _=(g=f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(V,$,R){var L=R&&R.toUpperCase();return $||b[R]||n[R]||b[L].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(k,M,P){return M||P.slice(1)})})).match(r),T=_.length,E=0;E<T;E+=1){var I=_[E],D=p[I],C=D&&D[0],x=D&&D[1];_[E]=x?{regex:C,parser:x}:I.replace(/^\[|\]$/g,"")}return function(V){for(var $={},R=0,L=0;R<T;R+=1){var k=_[R];if(typeof k=="string")L+=k.length;else{var M=k.regex,P=k.parser,A=V.slice(L),F=M.exec(A)[0];P.call($,F),V=V.replace(F,"")}}return function(S){var O=S.afternoon;if(O!==void 0){var W=S.hours;O?W<12&&(S.hours+=12):W===12&&(S.hours=0),delete S.afternoon}}($),$}}return function(g,f,b){b.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(l=g.parseTwoDigitYear);var _=f.prototype,T=_.parse;_.parse=function(E){var I=E.date,D=E.utc,C=E.args;this.$u=D;var x=C[1];if(typeof x=="string"){var V=C[2]===!0,$=C[3]===!0,R=V||$,L=C[2];$&&(L=C[2]),a=this.$locale(),!V&&L&&(a=b.Ls[L]),this.$d=function(A,F,S){try{if(["x","X"].indexOf(F)>-1)return new Date((F==="X"?1e3:1)*A);var O=m(F)(A),W=O.year,J=O.month,z=O.day,H=O.hours,ee=O.minutes,oe=O.seconds,j=O.milliseconds,U=O.zone,Q=new Date,ne=z||(W||J?1:Q.getDate()),q=W||Q.getFullYear(),re=0;W&&!J||(re=J>0?J-1:Q.getMonth());var X=H||0,N=ee||0,Z=oe||0,te=j||0;return U?new Date(Date.UTC(q,re,ne,X,N,Z,te+60*U.offset*1e3)):S?new Date(Date.UTC(q,re,ne,X,N,Z,te)):new Date(q,re,ne,X,N,Z,te)}catch{return new Date("")}}(I,x,D),this.init(),L&&L!==!0&&(this.$L=this.locale(L).$L),R&&I!=this.format(x)&&(this.$d=new Date("")),a={}}else if(x instanceof Array)for(var k=x.length,M=1;M<=k;M+=1){C[1]=x[M-1];var P=b.apply(this,C);if(P.isValid()){this.$d=P.$d,this.$L=P.$L,this.init();break}M===k&&(this.$d=new Date(""))}else T.call(this,E)}}})})(op);var Kw=op.exports;const Gw=Ur(Kw);var sp={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,o,s){var i=o.prototype,a=i.format;s.en.formats=n,i.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,m,g){var f=g&&g.toUpperCase();return m||h[g]||n[g]||h[f].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,_,T){return _||T.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,u)}}})})(sp);var Qw=sp.exports;const Xw=Ur(Qw);var ip={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sr,function(){return function(n,r,o){r.prototype.isBetween=function(s,i,a,l){var c=o(s),u=o(i),d=(l=l||"()")[0]==="(",h=l[1]===")";return(d?this.isAfter(c,a):!this.isBefore(c,a))&&(h?this.isBefore(u,a):!this.isAfter(u,a))||(d?this.isBefore(c,a):!this.isAfter(c,a))&&(h?this.isAfter(u,a):!this.isBefore(u,a))}}})})(ip);var Jw=ip.exports;const Zw=Ur(Jw);var ap={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sr,function(){return function(n,r){var o=r.prototype,s=o.format;o.format=function(i){var a=this,l=this.$locale();if(!this.isValid())return s.bind(this)(i);var c=this.$utils(),u=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return s.bind(this)(u)}}})})(ap);var e0=ap.exports;const t0=Ur(e0),lp=(t,e="warning")=>{let n=!1;const r=Array.isArray(t)?t.join(`
`):t;return()=>{n||(n=!0,e==="error"?console.error(r):console.warn(r))}};Ye.extend(Xw);Ye.extend(Yw);Ye.extend(Zw);Ye.extend(t0);const n0=lp(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),r0={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},o0={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},Ia=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),Gu=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),s0=(t,e)=>e?(...n)=>t(...n).locale(e):t;class Jl{constructor({locale:e,formats:n}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=r0,this.setLocaleToValue=r=>{const o=this.getCurrentLocaleCode();return o===r.locale()?r:r.locale(o)},this.hasUTCPlugin=()=>typeof Ye.utc<"u",this.hasTimezonePlugin=()=>typeof Ye.tz<"u",this.isSame=(r,o,s)=>{const i=this.setTimezone(o,this.getTimezone(r));return r.format(s)===i.format(s)},this.cleanTimezone=r=>{switch(r){case"default":return;case"system":return Ye.tz.guess();default:return r}},this.createSystemDate=r=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const o=Ye.tz.guess();return o!=="UTC"?Ye.tz(r,o):Ye(r)}return Ye(r)},this.createUTCDate=r=>{if(!this.hasUTCPlugin())throw new Error(Ia);return Ye.utc(r)},this.createTZDate=(r,o)=>{if(!this.hasUTCPlugin())throw new Error(Ia);if(!this.hasTimezonePlugin())throw new Error(Gu);const s=r!==void 0&&!r.endsWith("Z");return Ye(r).tz(this.cleanTimezone(o),s)},this.getLocaleFormats=()=>{const r=Ye.Ls,o=this.locale||"en";let s=r[o];return s===void 0&&(n0(),s=r.en),s.formats},this.adjustOffset=r=>{if(!this.hasTimezonePlugin())return r;const o=this.getTimezone(r);if(o!=="UTC"){const s=r.tz(this.cleanTimezone(o),!0);return(s.$offset??0)===(r.$offset??0)?r:s}return r},this.date=(r,o="default")=>{if(r===null)return null;let s;return o==="UTC"?s=this.createUTCDate(r):o==="system"||o==="default"&&!this.hasTimezonePlugin()?s=this.createSystemDate(r):s=this.createTZDate(r,o),this.locale===void 0?s:s.locale(this.locale)},this.getInvalidDate=()=>Ye(new Date("Invalid date")),this.getTimezone=r=>{var o;if(this.hasTimezonePlugin()){const s=(o=r.$x)==null?void 0:o.$timezone;if(s)return s}return this.hasUTCPlugin()&&r.isUTC()?"UTC":"system"},this.setTimezone=(r,o)=>{if(this.getTimezone(r)===o)return r;if(o==="UTC"){if(!this.hasUTCPlugin())throw new Error(Ia);return r.utc()}if(o==="system")return r.local();if(!this.hasTimezonePlugin()){if(o==="default")return r;throw new Error(Gu)}return Ye.tz(r,this.cleanTimezone(o))},this.toJsDate=r=>r.toDate(),this.parse=(r,o)=>r===""?null:this.dayjs(r,o,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=r=>{const o=this.getLocaleFormats(),s=i=>i.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(a,l,c)=>l||c.slice(1));return r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(i,a,l)=>{const c=l&&l.toUpperCase();return a||o[l]||s(o[c])})},this.isValid=r=>r==null?!1:r.isValid(),this.format=(r,o)=>this.formatByString(r,this.formats[o]),this.formatByString=(r,o)=>this.dayjs(r).format(o),this.formatNumber=r=>r,this.isEqual=(r,o)=>r===null&&o===null?!0:r===null||o===null?!1:r.toDate().getTime()===o.toDate().getTime(),this.isSameYear=(r,o)=>this.isSame(r,o,"YYYY"),this.isSameMonth=(r,o)=>this.isSame(r,o,"YYYY-MM"),this.isSameDay=(r,o)=>this.isSame(r,o,"YYYY-MM-DD"),this.isSameHour=(r,o)=>r.isSame(o,"hour"),this.isAfter=(r,o)=>r>o,this.isAfterYear=(r,o)=>this.hasUTCPlugin()?!this.isSameYear(r,o)&&r.utc()>o.utc():r.isAfter(o,"year"),this.isAfterDay=(r,o)=>this.hasUTCPlugin()?!this.isSameDay(r,o)&&r.utc()>o.utc():r.isAfter(o,"day"),this.isBefore=(r,o)=>r<o,this.isBeforeYear=(r,o)=>this.hasUTCPlugin()?!this.isSameYear(r,o)&&r.utc()<o.utc():r.isBefore(o,"year"),this.isBeforeDay=(r,o)=>this.hasUTCPlugin()?!this.isSameDay(r,o)&&r.utc()<o.utc():r.isBefore(o,"day"),this.isWithinRange=(r,[o,s])=>r>=o&&r<=s,this.startOfYear=r=>this.adjustOffset(r.startOf("year")),this.startOfMonth=r=>this.adjustOffset(r.startOf("month")),this.startOfWeek=r=>this.adjustOffset(r.startOf("week")),this.startOfDay=r=>this.adjustOffset(r.startOf("day")),this.endOfYear=r=>this.adjustOffset(r.endOf("year")),this.endOfMonth=r=>this.adjustOffset(r.endOf("month")),this.endOfWeek=r=>this.adjustOffset(r.endOf("week")),this.endOfDay=r=>this.adjustOffset(r.endOf("day")),this.addYears=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"year"):r.add(o,"year")),this.addMonths=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"month"):r.add(o,"month")),this.addWeeks=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"week"):r.add(o,"week")),this.addDays=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"day"):r.add(o,"day")),this.addHours=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"hour"):r.add(o,"hour")),this.addMinutes=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"minute"):r.add(o,"minute")),this.addSeconds=(r,o)=>this.adjustOffset(o<0?r.subtract(Math.abs(o),"second"):r.add(o,"second")),this.getYear=r=>r.year(),this.getMonth=r=>r.month(),this.getDate=r=>r.date(),this.getHours=r=>r.hour(),this.getMinutes=r=>r.minute(),this.getSeconds=r=>r.second(),this.getMilliseconds=r=>r.millisecond(),this.setYear=(r,o)=>this.adjustOffset(r.set("year",o)),this.setMonth=(r,o)=>this.adjustOffset(r.set("month",o)),this.setDate=(r,o)=>this.adjustOffset(r.set("date",o)),this.setHours=(r,o)=>this.adjustOffset(r.set("hour",o)),this.setMinutes=(r,o)=>this.adjustOffset(r.set("minute",o)),this.setSeconds=(r,o)=>this.adjustOffset(r.set("second",o)),this.setMilliseconds=(r,o)=>this.adjustOffset(r.set("millisecond",o)),this.getDaysInMonth=r=>r.daysInMonth(),this.getWeekArray=r=>{const o=this.setLocaleToValue(r),s=this.startOfWeek(this.startOfMonth(o)),i=this.endOfWeek(this.endOfMonth(o));let a=0,l=s;const c=[];for(;l<i;){const u=Math.floor(a/7);c[u]=c[u]||[],c[u].push(l),l=this.addDays(l,1),a+=1}return c},this.getWeekNumber=r=>r.week(),this.getYearRange=([r,o])=>{const s=this.startOfYear(r),i=this.endOfYear(o),a=[];let l=s;for(;this.isBefore(l,i);)a.push(l),l=this.addYears(l,1);return a},this.dayjs=s0(Ye,e),this.locale=e,this.formats=v({},o0,n),Ye.extend(Gw)}getDayOfWeek(e){return e.day()+1}}const cp=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:v({},t)}}}}),up={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,n)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${n.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},i0=up,dp=cp(up),ir=()=>{const t=y.useContext(Ka);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=y.useMemo(()=>v({},i0,t.localeText),[t.localeText]);return y.useMemo(()=>v({},t,{localeText:e}),[t,e])},Be=()=>ir().utils,ss=()=>ir().defaultDates,Tn=()=>ir().localeText,Si=t=>{const e=Be(),n=y.useRef();return n.current===void 0&&(n.current=e.date(void 0,t)),n.current},a0=dn(w.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),l0=dn(w.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),c0=dn(w.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),u0=dn(w.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");dn(w.jsxs(y.Fragment,{children:[w.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),w.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");dn(w.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");dn(w.jsxs(y.Fragment,{children:[w.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),w.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const d0=dn(w.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function h0(t){return Ie("MuiPickersArrowSwitcher",t)}Ee("MuiPickersArrowSwitcher",["root","spacer","button"]);const p0=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],f0=["ownerState"],m0=["ownerState"],g0=Y("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),y0=Y("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),Qu=Y(zr,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),v0=t=>{const{classes:e}=t;return we({root:["root"],spacer:["spacer"],button:["button"]},h0,e)},_0=y.forwardRef(function(e,n){const o=Qt().direction==="rtl",s=ge({props:e,name:"MuiPickersArrowSwitcher"}),{children:i,className:a,slots:l,slotProps:c,isNextDisabled:u,isNextHidden:d,onGoToNext:h,nextLabel:p,isPreviousDisabled:m,isPreviousHidden:g,onGoToPrevious:f,previousLabel:b}=s,_=se(s,p0),T=s,E=v0(T),I={isDisabled:u,isHidden:d,goTo:h,label:p},D={isDisabled:m,isHidden:g,goTo:f,label:b},C=(l==null?void 0:l.previousIconButton)??Qu,x=De({elementType:C,externalSlotProps:c==null?void 0:c.previousIconButton,additionalProps:{size:"medium",title:D.label,"aria-label":D.label,disabled:D.isDisabled,edge:"end",onClick:D.goTo},ownerState:v({},T,{hidden:D.isHidden}),className:E.button}),V=(l==null?void 0:l.nextIconButton)??Qu,$=De({elementType:V,externalSlotProps:c==null?void 0:c.nextIconButton,additionalProps:{size:"medium",title:I.label,"aria-label":I.label,disabled:I.isDisabled,edge:"start",onClick:I.goTo},ownerState:v({},T,{hidden:I.isHidden}),className:E.button}),R=(l==null?void 0:l.leftArrowIcon)??l0,L=De({elementType:R,externalSlotProps:c==null?void 0:c.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),k=se(L,f0),M=(l==null?void 0:l.rightArrowIcon)??c0,P=De({elementType:M,externalSlotProps:c==null?void 0:c.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),A=se(P,m0);return w.jsxs(g0,v({ref:n,className:de(E.root,a),ownerState:T},_,{children:[w.jsx(C,v({},x,{children:o?w.jsx(M,v({},A)):w.jsx(R,v({},k))})),i?w.jsx(Kt,{variant:"subtitle1",component:"span",children:i}):w.jsx(y0,{className:E.spacer,ownerState:T}),w.jsx(V,v({},$,{children:o?w.jsx(R,v({},k)):w.jsx(M,v({},A))}))]}))}),ao=(t,e)=>t.length!==e.length?!1:e.every(n=>t.includes(n)),b0=({openTo:t,defaultOpenTo:e,views:n,defaultViews:r})=>{const o=n??r;let s;if(t!=null)s=t;else if(o.includes(e))s=e;else if(o.length>0)s=o[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:o,openTo:s}},w0=["hours","minutes","seconds"],T0=t=>w0.includes(t),Xu=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),hp=(t,e)=>(n,r)=>t?e.isAfter(n,r):Xu(n,e)>Xu(r,e);function pp({onChange:t,onViewChange:e,openTo:n,view:r,views:o,autoFocus:s,focusedView:i,onFocusedViewChange:a}){const l=y.useRef(n),c=y.useRef(o),u=y.useRef(o.includes(n)?n:o[0]),[d,h]=an({name:"useViews",state:"view",controlled:r,default:u.current}),p=y.useRef(s?d:null),[m,g]=an({name:"useViews",state:"focusedView",controlled:i,default:p.current});y.useEffect(()=>{(l.current&&l.current!==n||c.current&&c.current.some(C=>!o.includes(C)))&&(h(o.includes(n)?n:o[0]),c.current=o,l.current=n)},[n,h,d,o]);const f=o.indexOf(d),b=o[f-1]??null,_=o[f+1]??null,T=le((C,x)=>{g(x?C:V=>C===V?null:V),a==null||a(C,x)}),E=le(C=>{T(C,!0),C!==d&&(h(C),e&&e(C))}),I=le(()=>{_&&E(_)}),D=le((C,x,V)=>{const $=x==="finish",R=V?o.indexOf(V)<o.length-1:!!_;if(t(C,$&&R?"partial":x,V),V&&V!==d){const k=o[o.indexOf(V)+1];k&&E(k)}else $&&I()});return{view:d,setView:E,focusedView:m,setFocusedView:T,nextView:_,previousView:b,defaultView:o.includes(n)?n:o[0],goToNextView:I,setValueAndGoToNextView:D}}function E0(t,{disableFuture:e,maxDate:n,timezone:r}){const o=Be();return y.useMemo(()=>{const s=o.date(void 0,r),i=o.startOfMonth(e&&o.isBefore(s,n)?s:n);return!o.isAfter(i,t)},[e,n,t,o,r])}function I0(t,{disablePast:e,minDate:n,timezone:r}){const o=Be();return y.useMemo(()=>{const s=o.date(void 0,r),i=o.startOfMonth(e&&o.isAfter(s,n)?s:n);return!o.isBefore(i,t)},[e,n,t,o,r])}const Oo=36,Di=2,Ri=320,C0=280,Zl=336,x0=Y("div")({overflow:"hidden",width:Ri,maxHeight:Zl,display:"flex",flexDirection:"column",margin:"0 auto"}),qs=(t,e,n)=>{let r=e;return r=t.setHours(r,t.getHours(n)),r=t.setMinutes(r,t.getMinutes(n)),r=t.setSeconds(r,t.getSeconds(n)),r},Co=({date:t,disableFuture:e,disablePast:n,maxDate:r,minDate:o,isDateDisabled:s,utils:i,timezone:a})=>{const l=qs(i,i.date(void 0,a),t);n&&i.isBefore(o,l)&&(o=l),e&&i.isAfter(r,l)&&(r=l);let c=t,u=t;for(i.isBefore(t,o)&&(c=o,u=null),i.isAfter(t,r)&&(u&&(u=r),c=null);c||u;){if(c&&i.isAfter(c,r)&&(c=null),u&&i.isBefore(u,o)&&(u=null),c){if(!s(c))return c;c=i.addDays(c,1)}if(u){if(!s(u))return u;u=i.addDays(u,-1)}}return null},fp=(t,e)=>e==null||!t.isValid(e)?null:e,jt=(t,e,n)=>e==null||!t.isValid(e)?n:e,Ga=(t,e,n)=>!t.isValid(e)&&e!=null&&!t.isValid(n)&&n!=null?!0:t.isEqual(e,n),ec=(t,e)=>{const r=[t.startOfYear(e)];for(;r.length<12;){const o=r[r.length-1];r.push(t.addMonths(o,1))}return r},Ys=(t,e,n)=>n==="date"?t.startOfDay(t.date(void 0,e)):t.date(void 0,e),P0=["year","month","day"],Ju=t=>P0.includes(t),tc=(t,{format:e,views:n},r)=>{if(e!=null)return e;const o=t.formats;return ao(n,["year"])?o.year:ao(n,["month"])?o.month:ao(n,["day"])?o.dayOfMonth:ao(n,["month","year"])?`${o.month} ${o.year}`:ao(n,["day","month"])?`${o.month} ${o.dayOfMonth}`:r?/en/.test(t.getCurrentLocaleCode())?o.normalDateWithWeekday:o.normalDate:o.keyboardDate},S0=(t,e)=>{const n=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(r=>t.addDays(n,r))},nc=({timezone:t,value:e,defaultValue:n,onChange:r,valueManager:o})=>{const s=Be(),i=y.useRef(n),a=e??i.current??o.emptyValue,l=y.useMemo(()=>o.getTimezone(s,a),[s,o,a]),c=le(p=>l==null?p:o.setTimezone(s,l,p)),u=t??l??"default",d=y.useMemo(()=>o.setTimezone(s,u,a),[o,s,u,a]),h=le((p,...m)=>{const g=c(p);r==null||r(g,...m)});return{value:d,handleValueChange:h,timezone:u}},rc=({name:t,timezone:e,value:n,defaultValue:r,onChange:o,valueManager:s})=>{const[i,a]=an({name:t,state:"value",controlled:n,default:r??s.emptyValue}),l=le((c,...u)=>{a(c),o==null||o(c,...u)});return nc({timezone:e,value:i,defaultValue:void 0,onChange:l,valueManager:s})},Jt={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},D0=t=>Math.max(...t.map(e=>Jt[e.type]??1)),lo=(t,e,n)=>{if(e===Jt.year)return t.startOfYear(n);if(e===Jt.month)return t.startOfMonth(n);if(e===Jt.day)return t.startOfDay(n);let r=n;return e<Jt.minutes&&(r=t.setMinutes(r,0)),e<Jt.seconds&&(r=t.setSeconds(r,0)),e<Jt.milliseconds&&(r=t.setMilliseconds(r,0)),r},mp=({props:t,utils:e,granularity:n,timezone:r,getTodayDate:o})=>{let s=o?o():lo(e,n,Ys(e,r));t.minDate!=null&&e.isAfterDay(t.minDate,s)&&(s=lo(e,n,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,s)&&(s=lo(e,n,t.maxDate));const i=hp(t.disableIgnoringDatePartForTimeValidation??!1,e);return t.minTime!=null&&i(t.minTime,s)&&(s=lo(e,n,t.disableIgnoringDatePartForTimeValidation?t.minTime:qs(e,s,t.minTime))),t.maxTime!=null&&i(s,t.maxTime)&&(s=lo(e,n,t.disableIgnoringDatePartForTimeValidation?t.maxTime:qs(e,s,t.maxTime))),s},gp=(t,e)=>{const n=t.formatTokenMap[e];if(n==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof n=="string"?{type:n,contentType:n==="meridiem"?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},R0=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},Ai=(t,e,n)=>{const r=[],o=t.date(void 0,e),s=t.startOfWeek(o),i=t.endOfWeek(o);let a=s;for(;t.isBefore(a,i);)r.push(a),a=t.addDays(a,1);return r.map(l=>t.formatByString(l,n))},yp=(t,e,n,r)=>{switch(n){case"month":return ec(t,t.date(void 0,e)).map(o=>t.formatByString(o,r));case"weekDay":return Ai(t,e,r);case"meridiem":{const o=t.date(void 0,e);return[t.startOfDay(o),t.endOfDay(o)].map(s=>t.formatByString(s,r))}default:return[]}},Zu="s",A0=["0","1","2","3","4","5","6","7","8","9"],M0=t=>{const e=t.date(void 0);return t.formatByString(t.setSeconds(e,0),Zu)==="0"?A0:Array.from({length:10}).map((r,o)=>t.formatByString(t.setSeconds(e,o),Zu))},Zn=(t,e)=>{if(e[0]==="0")return t;const n=[];let r="";for(let o=0;o<t.length;o+=1){r+=t[o];const s=e.indexOf(r);s>-1&&(n.push(s.toString()),r="")}return n.join("")},oc=(t,e)=>e[0]==="0"?t:t.split("").map(n=>e[Number(n)]).join(""),ed=(t,e)=>{const n=Zn(t,e);return!Number.isNaN(Number(n))},vp=(t,e)=>{let n=t;for(n=Number(n).toString();n.length<e;)n=`0${n}`;return n},_p=(t,e,n,r,o)=>{if(o.type==="day"&&o.contentType==="digit-with-letter"){const i=t.setDate(n.longestMonth,e);return t.formatByString(i,o.format)}let s=e.toString();return o.hasLeadingZerosInInput&&(s=vp(s,o.maxLength)),oc(s,r)},k0=(t,e,n,r,o,s,i,a)=>{const l=R0(r),c=r==="Home",u=r==="End",d=n.value===""||c||u,h=()=>{const m=o[n.type]({currentDate:i,format:n.format,contentType:n.contentType}),g=T=>_p(t,T,m,s,n),f=n.type==="minutes"&&(a!=null&&a.minutesStep)?a.minutesStep:1;let _=parseInt(Zn(n.value,s),10)+l*f;if(d){if(n.type==="year"&&!u&&!c)return t.formatByString(t.date(void 0,e),n.format);l>0||c?_=m.minimum:_=m.maximum}return _%f!==0&&((l<0||c)&&(_+=f-(f+_)%f),(l>0||u)&&(_-=_%f)),_>m.maximum?g(m.minimum+(_-m.maximum-1)%(m.maximum-m.minimum+1)):_<m.minimum?g(m.maximum-(m.minimum-_-1)%(m.maximum-m.minimum+1)):g(_)},p=()=>{const m=yp(t,e,n.type,n.format);if(m.length===0)return n.value;if(d)return l>0||c?m[0]:m[m.length-1];const f=(m.indexOf(n.value)+m.length+l)%m.length;return m[f]};return n.contentType==="digit"||n.contentType==="digit-with-letter"?h():p()},sc=(t,e,n)=>{let r=t.value||t.placeholder;const o=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(r=Number(Zn(r,n)).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!o&&r.length===1&&(r=`${r}`),e==="input-rtl"&&(r=`${r}`),r},td=(t,e,n,r)=>t.formatByString(t.parse(e,n),r),bp=(t,e,n)=>t.formatByString(t.date(void 0,e),n).length===4,wp=(t,e,n,r,o)=>{if(n!=="digit")return!1;const s=t.date(void 0,e);switch(r){case"year":return bp(t,e,o)?t.formatByString(t.setYear(s,1),o)==="0001":t.formatByString(t.setYear(s,2001),o)==="01";case"month":return t.formatByString(t.startOfYear(s),o).length>1;case"day":return t.formatByString(t.startOfMonth(s),o).length>1;case"weekDay":return t.formatByString(t.startOfWeek(s),o).length>1;case"hours":return t.formatByString(t.setHours(s,1),o).length>1;case"minutes":return t.formatByString(t.setMinutes(s,1),o).length>1;case"seconds":return t.formatByString(t.setSeconds(s,1),o).length>1;default:throw new Error("Invalid section type")}},V0=(t,e,n)=>{const r=e.some(l=>l.type==="day"),o=[],s=[];for(let l=0;l<e.length;l+=1){const c=e[l];r&&c.type==="weekDay"||(o.push(c.format),s.push(sc(c,"non-input",n)))}const i=o.join(" "),a=s.join(" ");return t.parse(a,i)},Tp=t=>t.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),Ep=(t,e,n)=>{const o=t.map(s=>{const i=sc(s,n?"input-rtl":"input-ltr",e);return`${s.startSeparator}${i}${s.endSeparator}`}).join("");return n?`${o}`:o},O0=(t,e,n)=>{const r=t.date(void 0,n),o=t.endOfYear(r),s=t.endOfDay(r),{maxDaysInMonth:i,longestMonth:a}=ec(t,r).reduce((l,c)=>{const u=t.getDaysInMonth(c);return u>l.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:c}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:bp(t,n,l)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(o)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&t.isValid(l)?t.getDaysInMonth(l):i,longestMonth:a}),weekDay:({format:l,contentType:c})=>{if(c==="digit"){const u=Ai(t,n,l).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const c=t.getHours(s);return Zn(t.formatByString(t.endOfDay(r),l),e)!==c.toString()?{minimum:1,maximum:Number(Zn(t.formatByString(t.startOfDay(r),l),e))}:{minimum:0,maximum:c}},minutes:()=>({minimum:0,maximum:t.getMinutes(s)}),seconds:()=>({minimum:0,maximum:t.getSeconds(s)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},$0=(t,e,n,r,o)=>{switch(n.type){case"year":return t.setYear(o,t.getYear(r));case"month":return t.setMonth(o,t.getMonth(r));case"weekDay":{const s=Ai(t,e,n.format),i=t.formatByString(r,n.format),a=s.indexOf(i),c=s.indexOf(n.value)-a;return t.addDays(r,c)}case"day":return t.setDate(o,t.getDate(r));case"meridiem":{const s=t.getHours(r)<12,i=t.getHours(o);return s&&i>=12?t.addHours(o,-12):!s&&i<12?t.addHours(o,12):o}case"hours":return t.setHours(o,t.getHours(r));case"minutes":return t.setMinutes(o,t.getMinutes(r));case"seconds":return t.setSeconds(o,t.getSeconds(r));default:return o}},nd={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},rd=(t,e,n,r,o,s)=>[...r].sort((i,a)=>nd[i.type]-nd[a.type]).reduce((i,a)=>!s||a.modified?$0(t,e,a,n,i):i,o),N0=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,L0=(t,e)=>{const n={};if(!e)return t.forEach((l,c)=>{const u=c===0?null:c-1,d=c===t.length-1?null:c+1;n[c]={leftIndex:u,rightIndex:d}}),{neighbors:n,startIndex:0,endIndex:t.length-1};const r={},o={};let s=0,i=0,a=t.length-1;for(;a>=0;){i=t.findIndex((l,c)=>{var u;return c>=s&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),i===-1&&(i=t.length-1);for(let l=i;l>=s;l-=1)o[l]=a,r[a]=l,a-=1;s=i+1}return t.forEach((l,c)=>{const u=o[c],d=u===0?null:r[u-1],h=u===t.length-1?null:r[u+1];n[c]={leftIndex:d,rightIndex:h}}),{neighbors:n,startIndex:r[0],endIndex:r[t.length-1]}},Qa=(t,e)=>t==null?null:t==="all"?"all":typeof t=="string"?e.findIndex(n=>n.type===t):t,F0=(t,e)=>{if(t.value)switch(t.type){case"month":{if(t.contentType==="digit")return e.format(e.setMonth(e.date(),Number(t.value)-1),"month");const n=e.parse(t.value,t.format);return n?e.format(n,"month"):void 0}case"day":return t.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(t.value)),"dayOfMonthFull"):t.value;case"weekDay":return;default:return}},B0=(t,e)=>{if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const n=e.parse(`01:00 ${t.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${t.format}`);return n?e.getHours(n)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const n=e.parse(t.value,t.format);return n?e.getMonth(n)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}},j0=["value","referenceDate"],yn={emptyValue:null,getTodayValue:Ys,getInitialReferenceValue:t=>{let{value:e,referenceDate:n}=t,r=se(t,j0);return e!=null&&r.utils.isValid(e)?e:n??mp(r)},cleanValue:fp,areValuesEqual:Ga,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,n)=>n==null?null:t.setTimezone(n,e)},U0={updateReferenceValue:(t,e,n)=>e==null||!t.isValid(e)?n:e,getSectionsFromValue:(t,e,n,r)=>!t.isValid(e)&&!!n?n:r(e),getV7HiddenInputValueFromSections:Tp,getV6InputValueFromSections:Ep,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:n=>n,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:n==null||!t.isValid(n)?e.referenceValue:n})}),parseValueStr:(t,e,n)=>n(t.trim(),e)};function z0(t){return Ie("MuiPickersDay",t)}const zn=Ee("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),W0=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],H0=t=>{const{selected:e,disableMargin:n,disableHighlightToday:r,today:o,disabled:s,outsideCurrentMonth:i,showDaysOutsideCurrentMonth:a,classes:l}=t,c=i&&!a;return we({root:["root",e&&!c&&"selected",s&&"disabled",!n&&"dayWithMargin",!r&&o&&"today",i&&a&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},z0,l)},Ip=({theme:t})=>v({},t.typography.caption,{width:Oo,height:Oo,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Pr(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:Pr(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${zn.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${zn.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${zn.disabled}:not(.${zn.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${zn.disabled}&.${zn.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Di}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${zn.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),Cp=(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableMargin&&e.dayWithMargin,!n.disableHighlightToday&&n.today&&e.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},q0=Y(Ws,{name:"MuiPickersDay",slot:"Root",overridesResolver:Cp})(Ip),Y0=Y("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Cp})(({theme:t})=>v({},Ip({theme:t}),{opacity:0,pointerEvents:"none"})),co=()=>{},K0=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersDay"}),{autoFocus:o=!1,className:s,day:i,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:h,onFocus:p=co,onBlur:m=co,onKeyDown:g=co,onMouseDown:f=co,onMouseEnter:b=co,outsideCurrentMonth:_,selected:T=!1,showDaysOutsideCurrentMonth:E=!1,children:I,today:D=!1}=r,C=se(r,W0),x=v({},r,{autoFocus:o,disabled:a,disableHighlightToday:l,disableMargin:c,selected:T,showDaysOutsideCurrentMonth:E,today:D}),V=H0(x),$=Be(),R=y.useRef(null),L=Ge(R,n);Yt(()=>{o&&!a&&!u&&!_&&R.current.focus()},[o,a,u,_]);const k=P=>{f(P),_&&P.preventDefault()},M=P=>{a||h(i),_&&P.currentTarget.focus(),d&&d(P)};return _&&!E?w.jsx(Y0,{className:de(V.root,V.hiddenDaySpacingFiller,s),ownerState:x,role:C.role}):w.jsx(q0,v({className:de(V.root,s),ref:L,centerRipple:!0,disabled:a,tabIndex:T?0:-1,onKeyDown:P=>g(P,i),onFocus:P=>p(P,i),onBlur:P=>m(P,i),onMouseEnter:P=>b(P,i),onClick:M,onMouseDown:k},C,{ownerState:x,children:I||$.format(i,"dayOfMonth")}))}),xp=y.memo(K0);function Pp(t,e,n,r){const{value:o,onError:s}=t,i=ir(),a=y.useRef(r),l=e({adapter:i,value:o,props:t});return y.useEffect(()=>{s&&!n(l,a.current)&&s(l,o),a.current=l},[n,s,a,l,o]),l}const G0=({utils:t,format:e})=>{let n=10,r=e,o=t.expandFormat(e);for(;o!==r;)if(r=o,o=t.expandFormat(r),n-=1,n<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return o},Q0=({utils:t,expandedFormat:e})=>{const n=[],{start:r,end:o}=t.escapedCharacters,s=new RegExp(`(\\${r}[^\\${o}]*\\${o})+`,"g");let i=null;for(;i=s.exec(e);)n.push({start:i.index,end:s.lastIndex-1});return n},X0=(t,e,n,r,o)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,e),o).length,format:o});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:o});case"day":return n.fieldDayPlaceholder({format:o});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:o});case"hours":return n.fieldHoursPlaceholder({format:o});case"minutes":return n.fieldMinutesPlaceholder({format:o});case"seconds":return n.fieldSecondsPlaceholder({format:o});case"meridiem":return n.fieldMeridiemPlaceholder({format:o});default:return o}},J0=({utils:t,timezone:e,date:n,shouldRespectLeadingZeros:r,localeText:o,localizedDigits:s,now:i,token:a,startSeparator:l})=>{if(a==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const c=gp(t,a),u=wp(t,e,c.contentType,c.type,a),d=r?u:c.contentType==="digit",h=n!=null&&t.isValid(n);let p=h?t.formatByString(n,a):"",m=null;if(d)if(u)m=p===""?t.formatByString(i,a).length:p.length;else{if(c.maxLength==null)throw new Error(`MUI X: The token ${a} should have a 'maxDigitNumber' property on it's adapter`);m=c.maxLength,h&&(p=oc(vp(Zn(p,s),m),s))}return v({},c,{format:a,maxLength:m,value:p,placeholder:X0(t,e,o,c,a),hasLeadingZerosInFormat:u,hasLeadingZerosInInput:d,startSeparator:l,endSeparator:"",modified:!1})},Z0=t=>{var p;const{utils:e,expandedFormat:n,escapedParts:r}=t,o=e.date(void 0),s=[];let i="";const a=Object.keys(e.formatTokenMap).sort((m,g)=>g.length-m.length),l=/^([a-zA-Z]+)/,c=new RegExp(`^(${a.join("|")})*$`),u=new RegExp(`^(${a.join("|")})`),d=m=>r.find(g=>g.start<=m&&g.end>=m);let h=0;for(;h<n.length;){const m=d(h),g=m!=null,f=(p=l.exec(n.slice(h)))==null?void 0:p[1];if(!g&&f!=null&&c.test(f)){let b=f;for(;b.length>0;){const _=u.exec(b)[1];b=b.slice(_.length),s.push(J0(v({},t,{now:o,token:_,startSeparator:i}))),i=""}h+=f.length}else{const b=n[h];g&&(m==null?void 0:m.start)===h||(m==null?void 0:m.end)===h||(s.length===0?i+=b:s[s.length-1].endSeparator+=b),h+=1}}return s.length===0&&i.length>0&&s.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:i,endSeparator:"",modified:!1}),s},eT=({isRTL:t,formatDensity:e,sections:n})=>n.map(r=>{const o=s=>{let i=s;return t&&i!==null&&i.includes(" ")&&(i=`${i}`),e==="spacious"&&["/",".","-"].includes(i)&&(i=` ${i} `),i};return r.startSeparator=o(r.startSeparator),r.endSeparator=o(r.endSeparator),r}),od=t=>{let e=G0(t);t.isRTL&&t.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const n=Q0(v({},t,{expandedFormat:e})),r=Z0(v({},t,{expandedFormat:e,escapedParts:n}));return eT(v({},t,{sections:r}))},tT=t=>{const e=Be(),n=Tn(),r=ir(),s=Qt().direction==="rtl",{valueManager:i,fieldValueManager:a,valueType:l,validator:c,internalProps:u,internalProps:{value:d,defaultValue:h,referenceDate:p,onChange:m,format:g,formatDensity:f="dense",selectedSections:b,onSelectedSectionsChange:_,shouldRespectLeadingZeros:T=!1,timezone:E,enableAccessibleFieldDOMStructure:I=!1}}=t,{timezone:D,value:C,handleValueChange:x}=nc({timezone:E,value:d,defaultValue:h,onChange:m,valueManager:i}),V=y.useMemo(()=>M0(e),[e]),$=y.useMemo(()=>O0(e,V,D),[e,V,D]),R=y.useCallback((j,U=null)=>a.getSectionsFromValue(e,j,U,Q=>od({utils:e,timezone:D,localeText:n,localizedDigits:V,format:g,date:Q,formatDensity:f,shouldRespectLeadingZeros:T,enableAccessibleFieldDOMStructure:I,isRTL:s})),[a,g,n,V,s,T,e,f,D,I]),[L,k]=y.useState(()=>{const j=R(C),U={sections:j,value:C,referenceValue:i.emptyValue,tempValueStrAndroid:null},Q=D0(j),ne=i.getInitialReferenceValue({referenceDate:p,value:C,utils:e,props:u,granularity:Q,timezone:D});return v({},U,{referenceValue:ne})}),[M,P]=an({controlled:b,default:null,name:"useField",state:"selectedSections"}),A=j=>{P(j),_==null||_(j)},F=y.useMemo(()=>Qa(M,L.sections),[M,L.sections]),S=F==="all"?0:F,O=({value:j,referenceValue:U,sections:Q})=>{if(k(q=>v({},q,{sections:Q,value:j,referenceValue:U,tempValueStrAndroid:null})),i.areValuesEqual(e,L.value,j))return;const ne={validationError:c({adapter:r,value:j,props:v({},u,{value:j,timezone:D})})};x(j,ne)},W=(j,U)=>{const Q=[...L.sections];return Q[j]=v({},Q[j],{value:U,modified:!0}),Q},J=()=>{O({value:i.emptyValue,referenceValue:L.referenceValue,sections:R(i.emptyValue)})},z=()=>{if(S==null)return;const j=L.sections[S],U=a.getActiveDateManager(e,L,j),ne=U.getSections(L.sections).filter(N=>N.value!=="").length===(j.value===""?0:1),q=W(S,""),re=ne?null:e.getInvalidDate(),X=U.getNewValuesFromNewActiveDate(re);O(v({},X,{sections:q}))},H=j=>{const U=(q,re)=>{const X=e.parse(q,g);if(X==null||!e.isValid(X))return null;const N=od({utils:e,timezone:D,localeText:n,localizedDigits:V,format:g,date:X,formatDensity:f,shouldRespectLeadingZeros:T,enableAccessibleFieldDOMStructure:I,isRTL:s});return rd(e,D,X,N,re,!1)},Q=a.parseValueStr(j,L.referenceValue,U),ne=a.updateReferenceValue(e,Q,L.referenceValue);O({value:Q,referenceValue:ne,sections:R(Q,L.sections)})},ee=({activeSection:j,newSectionValue:U,shouldGoToNextSection:Q})=>{Q&&S<L.sections.length-1&&A(S+1);const ne=a.getActiveDateManager(e,L,j),q=W(S,U),re=ne.getSections(q),X=V0(e,re,V);let N,Z;if(X!=null&&e.isValid(X)){const te=rd(e,D,X,re,ne.referenceDate,!0);N=ne.getNewValuesFromNewActiveDate(te),Z=!0}else N=ne.getNewValuesFromNewActiveDate(X),Z=(X!=null&&!e.isValid(X))!=(ne.date!=null&&!e.isValid(ne.date));return Z?O(v({},N,{sections:q})):k(te=>v({},te,N,{sections:q,tempValueStrAndroid:null}))},oe=j=>k(U=>v({},U,{tempValueStrAndroid:j}));return y.useEffect(()=>{const j=R(L.value);k(U=>v({},U,{sections:j}))},[g,e.locale,s]),y.useEffect(()=>{let j;i.areValuesEqual(e,L.value,C)?j=i.getTimezone(e,L.value)!==i.getTimezone(e,C):j=!0,j&&k(U=>v({},U,{value:C,referenceValue:a.updateReferenceValue(e,C,U.referenceValue),sections:R(C)}))},[C]),{state:L,activeSectionIndex:S,parsedSelectedSections:F,setSelectedSections:A,clearValue:J,clearActiveSection:z,updateSectionValue:ee,updateValueFromValueStr:H,setTempAndroidValueStr:oe,getSectionsFromValue:R,sectionsValueBoundaries:$,localizedDigits:V,timezone:D}},nT=5e3,ur=t=>t.saveQuery!=null,rT=({sections:t,updateSectionValue:e,sectionsValueBoundaries:n,localizedDigits:r,setTempAndroidValueStr:o,timezone:s})=>{const i=Be(),[a,l]=y.useState(null),c=le(()=>l(null));y.useEffect(()=>{var m;a!=null&&((m=t[a.sectionIndex])==null?void 0:m.type)!==a.sectionType&&c()},[t,a,c]),y.useEffect(()=>{if(a!=null){const m=setTimeout(()=>c(),nT);return()=>{clearTimeout(m)}}return()=>{}},[a,c]);const u=({keyPressed:m,sectionIndex:g},f,b)=>{const _=m.toLowerCase(),T=t[g];if(a!=null&&(!b||b(a.value))&&a.sectionIndex===g){const I=`${a.value}${_}`,D=f(I,T);if(!ur(D))return l({sectionIndex:g,value:I,sectionType:T.type}),D}const E=f(_,T);return ur(E)&&!E.saveQuery?(c(),null):(l({sectionIndex:g,value:_,sectionType:T.type}),ur(E)?null:E)},d=m=>{const g=(_,T,E)=>{const I=T.filter(D=>D.toLowerCase().startsWith(E));return I.length===0?{saveQuery:!1}:{sectionValue:I[0],shouldGoToNextSection:I.length===1}},f=(_,T,E,I)=>{const D=C=>yp(i,s,T.type,C);if(T.contentType==="letter")return g(T.format,D(T.format),_);if(E&&I!=null&&gp(i,E).contentType==="letter"){const C=D(E),x=g(E,C,_);return ur(x)?{saveQuery:!1}:v({},x,{sectionValue:I(x.sectionValue,C)})}return{saveQuery:!1}};return u(m,(_,T)=>{switch(T.type){case"month":{const E=I=>td(i,I,i.formats.month,T.format);return f(_,T,i.formats.month,E)}case"weekDay":{const E=(I,D)=>D.indexOf(I).toString();return f(_,T,i.formats.weekday,E)}case"meridiem":return f(_,T);default:return{saveQuery:!1}}})},h=m=>{const g=(b,_)=>{const T=Zn(b,r),E=Number(T),I=n[_.type]({currentDate:null,format:_.format,contentType:_.contentType});if(E>I.maximum)return{saveQuery:!1};if(E<I.minimum)return{saveQuery:!0};const D=E*10>I.maximum||T.length===I.maximum.toString().length;return{sectionValue:_p(i,E,I,r,_),shouldGoToNextSection:D}};return u(m,(b,_)=>{if(_.contentType==="digit"||_.contentType==="digit-with-letter")return g(b,_);if(_.type==="month"){const T=wp(i,s,"digit","month","MM"),E=g(b,{type:_.type,format:"MM",hasLeadingZerosInFormat:T,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(ur(E))return E;const I=td(i,E.sectionValue,"MM",_.format);return v({},E,{sectionValue:I})}if(_.type==="weekDay"){const T=g(b,_);if(ur(T))return T;const E=Ai(i,s,_.format)[Number(T.sectionValue)-1];return v({},T,{sectionValue:E})}return{saveQuery:!1}},b=>ed(b,r))};return{applyCharacterEditing:le(m=>{const g=t[m.sectionIndex],b=ed(m.keyPressed,r)?h(v({},m,{keyPressed:oc(m.keyPressed,r)})):d(m);if(b==null){o(null);return}e({activeSection:g,newSectionValue:b.sectionValue,shouldGoToNextSection:b.shouldGoToNextSection})}),resetCharacterQuery:c}};function oT(t,e){return Array.isArray(e)?e.every(n=>t.indexOf(n)!==-1):t.indexOf(e)!==-1}const sT=(t,e)=>n=>{(n.key==="Enter"||n.key===" ")&&(t(n),n.preventDefault(),n.stopPropagation())},Ot=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?Ot(e.shadowRoot):e:null},iT="@media (pointer: fine)",aT=t=>{const{internalProps:{disabled:e,readOnly:n=!1},forwardedProps:{sectionListRef:r,onBlur:o,onClick:s,onFocus:i,onInput:a,onPaste:l,focused:c,autoFocus:u=!1},fieldValueManager:d,applyCharacterEditing:h,resetCharacterQuery:p,setSelectedSections:m,parsedSelectedSections:g,state:f,clearActiveSection:b,clearValue:_,updateSectionValue:T,updateValueFromValueStr:E,sectionOrder:I,areAllSectionsEmpty:D,sectionsValueBoundaries:C}=t,x=y.useRef(null),V=Ge(r,x),$=Tn(),R=Be(),L=wn(),[k,M]=y.useState(!1),P=y.useMemo(()=>({syncSelectionToDOM:()=>{if(!x.current)return;const N=document.getSelection();if(!N)return;if(g==null){N.rangeCount>0&&x.current.getRoot().contains(N.getRangeAt(0).startContainer)&&N.removeAllRanges(),k&&x.current.getRoot().blur();return}if(!x.current.getRoot().contains(Ot(document)))return;const Z=new window.Range;let te;g==="all"?te=x.current.getRoot():f.sections[g].type==="empty"?te=x.current.getSectionContainer(g):te=x.current.getSectionContent(g),Z.selectNodeContents(te),te.focus(),N.removeAllRanges(),N.addRange(Z)},getActiveSectionIndexFromDOM:()=>{const N=Ot(document);return!N||!x.current||!x.current.getRoot().contains(N)?null:x.current.getSectionIndexFromDOMElement(N)},focusField:(N=0)=>{if(!x.current)return;const Z=Qa(N,f.sections);M(!0),x.current.getSectionContent(Z).focus()},setSelectedSections:N=>{if(!x.current)return;const Z=Qa(N,f.sections);M((Z==="all"?0:Z)!==null),m(N)},isFieldFocused:()=>{const N=Ot(document);return!!x.current&&x.current.getRoot().contains(N)}}),[g,m,f.sections,k]),A=le(N=>{if(!x.current)return;const Z=f.sections[N];x.current.getSectionContent(N).innerHTML=Z.value||Z.placeholder,P.syncSelectionToDOM()}),F=le((N,...Z)=>{N.isDefaultPrevented()||!x.current||(M(!0),s==null||s(N,...Z),g==="all"?setTimeout(()=>{const te=document.getSelection().getRangeAt(0).startOffset;if(te===0){m(I.startIndex);return}let ye=0,Oe=0;for(;Oe<te&&ye<f.sections.length;){const ae=f.sections[ye];ye+=1,Oe+=`${ae.startSeparator}${ae.value||ae.placeholder}${ae.endSeparator}`.length}m(ye-1)}):k?x.current.getRoot().contains(N.target)||m(I.startIndex):(M(!0),m(I.startIndex)))}),S=le(N=>{if(a==null||a(N),!x.current||g!=="all")return;const te=N.target.textContent??"";x.current.getRoot().innerHTML=f.sections.map(ye=>`${ye.startSeparator}${ye.value||ye.placeholder}${ye.endSeparator}`).join(""),P.syncSelectionToDOM(),te.length===0||te.charCodeAt(0)===10?(p(),_(),m("all")):te.length>1?E(te):h({keyPressed:te,sectionIndex:0})}),O=le(N=>{if(l==null||l(N),n||g!=="all"){N.preventDefault();return}const Z=N.clipboardData.getData("text");N.preventDefault(),p(),E(Z)}),W=le((...N)=>{if(i==null||i(...N),k||!x.current)return;M(!0),x.current.getSectionIndexFromDOMElement(Ot(document))!=null||m(I.startIndex)}),J=le((...N)=>{o==null||o(...N),setTimeout(()=>{if(!x.current)return;const Z=Ot(document);!x.current.getRoot().contains(Z)&&(M(!1),m(null))})}),z=le(N=>Z=>{Z.isDefaultPrevented()||n||m(N)}),H=le(N=>{N.preventDefault()}),ee=le(N=>()=>{n||m(N)}),oe=le(N=>{if(N.preventDefault(),n||typeof g!="number")return;const Z=f.sections[g],te=N.clipboardData.getData("text"),ye=/^[a-zA-Z]+$/.test(te),Oe=/^[0-9]+$/.test(te),ae=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(te);Z.contentType==="letter"&&ye||Z.contentType==="digit"&&Oe||Z.contentType==="digit-with-letter"&&ae?(p(),T({activeSection:Z,newSectionValue:te,shouldGoToNextSection:!0})):!ye&&!Oe&&(p(),E(te))}),j=le(N=>{N.preventDefault(),N.dataTransfer.dropEffect="none"}),U=le(N=>{if(!x.current)return;const Z=N.target,te=Z.textContent??"",ye=x.current.getSectionIndexFromDOMElement(Z),Oe=f.sections[ye];if(n||!x.current){A(ye);return}if(te.length===0){if(Oe.value===""){A(ye);return}p(),b();return}h({keyPressed:te,sectionIndex:ye}),A(ye)});Yt(()=>{if(!(!k||!x.current)){if(g==="all")x.current.getRoot().focus();else if(typeof g=="number"){const N=x.current.getSectionContent(g);N&&N.focus()}}},[g,k]);const Q=y.useMemo(()=>f.sections.reduce((N,Z)=>(N[Z.type]=C[Z.type]({currentDate:null,contentType:Z.contentType,format:Z.format}),N),{}),[C,f.sections]),ne=g==="all",q=y.useMemo(()=>f.sections.map((N,Z)=>{const te=!ne&&!e&&!n;return{container:{"data-sectionindex":Z,onClick:z(Z)},content:{tabIndex:ne||Z>0?-1:0,contentEditable:!ne&&!e&&!n,role:"spinbutton",id:`${L}-${N.type}`,"aria-labelledby":`${L}-${N.type}`,"aria-readonly":n,"aria-valuenow":B0(N,R),"aria-valuemin":Q[N.type].minimum,"aria-valuemax":Q[N.type].maximum,"aria-valuetext":N.value?F0(N,R):$.empty,"aria-label":$[N.type],"aria-disabled":e,spellCheck:te?!1:void 0,autoCapitalize:te?"off":void 0,autoCorrect:te?"off":void 0,[parseInt(y.version,10)>=17?"enterKeyHint":"enterkeyhint"]:te?"next":void 0,children:N.value||N.placeholder,onInput:U,onPaste:oe,onFocus:ee(Z),onDragOver:j,onMouseUp:H,inputMode:N.contentType==="letter"?"text":"numeric"},before:{children:N.startSeparator},after:{children:N.endSeparator}}}),[f.sections,ee,oe,j,U,z,H,e,n,ne,$,R,Q,L]),re=le(N=>{E(N.target.value)}),X=y.useMemo(()=>D?"":d.getV7HiddenInputValueFromSections(f.sections),[D,f.sections,d]);return y.useEffect(()=>{if(x.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));u&&x.current&&x.current.getSectionContent(I.startIndex).focus()},[]),{interactions:P,returnedValue:{autoFocus:u,readOnly:n,focused:c??k,sectionListRef:V,onBlur:J,onClick:F,onFocus:W,onInput:S,onPaste:O,enableAccessibleFieldDOMStructure:!0,elements:q,tabIndex:g===0?-1:0,contentEditable:ne,value:X,onChange:re,areAllSectionsEmpty:D}}},vr=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),lT=(t,e,n)=>{let r=0,o=n?1:0;const s=[];for(let i=0;i<t.length;i+=1){const a=t[i],l=sc(a,n?"input-rtl":"input-ltr",e),c=`${a.startSeparator}${l}${a.endSeparator}`,u=vr(c).length,d=c.length,h=vr(l),p=o+(h===""?0:l.indexOf(h[0]))+a.startSeparator.length,m=p+h.length;s.push(v({},a,{start:r,end:r+u,startInInput:p,endInInput:m})),r+=u,o+=d}return s},cT=t=>{const n=Qt().direction==="rtl",r=y.useRef(),{forwardedProps:{onFocus:o,onClick:s,onPaste:i,onBlur:a,inputRef:l,placeholder:c},internalProps:{readOnly:u=!1},parsedSelectedSections:d,activeSectionIndex:h,state:p,fieldValueManager:m,valueManager:g,applyCharacterEditing:f,resetCharacterQuery:b,updateSectionValue:_,updateValueFromValueStr:T,clearActiveSection:E,clearValue:I,setTempAndroidValueStr:D,setSelectedSections:C,getSectionsFromValue:x,areAllSectionsEmpty:V,localizedDigits:$}=t,R=y.useRef(null),L=Ge(l,R),k=y.useMemo(()=>lT(p.sections,$,n),[p.sections,$,n]),M=y.useMemo(()=>({syncSelectionToDOM:()=>{if(!R.current)return;if(d==null){R.current.scrollLeft&&(R.current.scrollLeft=0);return}if(R.current!==Ot(document))return;const j=R.current.scrollTop;if(d==="all")R.current.select();else{const U=k[d],Q=U.type==="empty"?U.startInInput-U.startSeparator.length:U.startInInput,ne=U.type==="empty"?U.endInInput+U.endSeparator.length:U.endInInput;(Q!==R.current.selectionStart||ne!==R.current.selectionEnd)&&R.current===Ot(document)&&R.current.setSelectionRange(Q,ne)}R.current.scrollTop=j},getActiveSectionIndexFromDOM:()=>{var q;const j=R.current.selectionStart??0,U=R.current.selectionEnd??0,Q=!!((q=R.current)!=null&&q.readOnly);if(j===0&&U===0||Q)return null;const ne=j<=k[0].startInInput?1:k.findIndex(re=>re.startInInput-re.startSeparator.length>j);return ne===-1?k.length-1:ne-1},focusField:(j=0)=>{var U;(U=R.current)==null||U.focus(),C(j)},setSelectedSections:j=>C(j),isFieldFocused:()=>R.current===Ot(document)}),[R,d,k,C]),P=()=>{if(u){C(null);return}const j=R.current.selectionStart??0;let U;j<=k[0].startInInput||j>=k[k.length-1].endInInput?U=1:U=k.findIndex(ne=>ne.startInInput-ne.startSeparator.length>j);const Q=U===-1?k.length-1:U-1;C(Q)},A=le((...j)=>{o==null||o(...j);const U=R.current;clearTimeout(r.current),r.current=setTimeout(()=>{!U||U!==R.current||h!=null||u||(U.value.length&&Number(U.selectionEnd)-Number(U.selectionStart)===U.value.length?C("all"):P())})}),F=le((j,...U)=>{j.isDefaultPrevented()||(s==null||s(j,...U),P())}),S=le(j=>{if(i==null||i(j),j.preventDefault(),u)return;const U=j.clipboardData.getData("text");if(typeof d=="number"){const Q=p.sections[d],ne=/^[a-zA-Z]+$/.test(U),q=/^[0-9]+$/.test(U),re=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(U);if(Q.contentType==="letter"&&ne||Q.contentType==="digit"&&q||Q.contentType==="digit-with-letter"&&re){b(),_({activeSection:Q,newSectionValue:U,shouldGoToNextSection:!0});return}if(ne||q)return}b(),T(U)}),O=le((...j)=>{a==null||a(...j),C(null)}),W=le(j=>{if(u)return;const U=j.target.value;if(U===""){b(),I();return}const Q=j.nativeEvent.data,ne=Q&&Q.length>1,q=ne?Q:U,re=vr(q);if(h==null||ne){T(ne?Q:re);return}let X;if(d==="all"&&re.length===1)X=re;else{const N=vr(m.getV6InputValueFromSections(k,$,n));let Z=-1,te=-1;for(let he=0;he<N.length;he+=1)Z===-1&&N[he]!==re[he]&&(Z=he),te===-1&&N[N.length-he-1]!==re[re.length-he-1]&&(te=he);const ye=k[h];if(Z<ye.start||N.length-te-1>ye.end)return;const ae=re.length-N.length+ye.end-vr(ye.endSeparator||"").length;X=re.slice(ye.start+vr(ye.startSeparator||"").length,ae)}if(X.length===0){N0()?D(q):(b(),E());return}f({keyPressed:X,sectionIndex:h})}),J=y.useMemo(()=>c||m.getV6InputValueFromSections(x(g.emptyValue),$,n),[c,m,x,g.emptyValue,$,n]),z=y.useMemo(()=>p.tempValueStrAndroid??m.getV6InputValueFromSections(p.sections,$,n),[p.sections,m,p.tempValueStrAndroid,$,n]);y.useEffect(()=>(R.current&&R.current===Ot(document)&&C("all"),()=>{clearTimeout(r.current)}),[]);const H=y.useMemo(()=>h==null||p.sections[h].contentType==="letter"?"text":"numeric",[h,p.sections]),oe=!(R.current&&R.current===Ot(document))&&V;return{interactions:M,returnedValue:{readOnly:u,onBlur:O,onClick:F,onFocus:A,onPaste:S,inputRef:L,enableAccessibleFieldDOMStructure:!1,placeholder:J,inputMode:H,autoComplete:"off",value:oe?"":z,onChange:W}}},Sp=t=>{const e=Be(),{internalProps:n,internalProps:{unstableFieldRef:r,minutesStep:o,enableAccessibleFieldDOMStructure:s=!1,disabled:i=!1,readOnly:a=!1},forwardedProps:{onKeyDown:l,error:c,clearable:u,onClear:d},fieldValueManager:h,valueManager:p,validator:m}=t,f=Qt().direction==="rtl",b=tT(t),{state:_,activeSectionIndex:T,parsedSelectedSections:E,setSelectedSections:I,clearValue:D,clearActiveSection:C,updateSectionValue:x,setTempAndroidValueStr:V,sectionsValueBoundaries:$,localizedDigits:R,timezone:L}=b,k=rT({sections:_.sections,updateSectionValue:x,sectionsValueBoundaries:$,localizedDigits:R,setTempAndroidValueStr:V,timezone:L}),{resetCharacterQuery:M}=k,P=p.areValuesEqual(e,_.value,p.emptyValue),A=s?aT:cT,F=y.useMemo(()=>L0(_.sections,f&&!s),[_.sections,f,s]),{returnedValue:S,interactions:O}=A(v({},t,b,k,{areAllSectionsEmpty:P,sectionOrder:F})),W=le(j=>{switch(l==null||l(j),!0){case((j.ctrlKey||j.metaKey)&&j.key.toLowerCase()==="a"&&!j.shiftKey&&!j.altKey):{j.preventDefault(),I("all");break}case j.key==="Enter":{j.preventDefault();break}case j.key==="ArrowRight":{if(j.preventDefault(),E==null)I(F.startIndex);else if(E==="all")I(F.endIndex);else{const U=F.neighbors[E].rightIndex;U!==null&&I(U)}break}case j.key==="ArrowLeft":{if(j.preventDefault(),E==null)I(F.endIndex);else if(E==="all")I(F.startIndex);else{const U=F.neighbors[E].leftIndex;U!==null&&I(U)}break}case j.key==="Delete":{if(j.preventDefault(),a)break;E==null||E==="all"?D():C(),M();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(j.key):{if(j.preventDefault(),a||T==null)break;const U=_.sections[T],Q=h.getActiveDateManager(e,_,U),ne=k0(e,L,U,j.key,$,R,Q.date,{minutesStep:o});x({activeSection:U,newSectionValue:ne,shouldGoToNextSection:!1});break}}});Yt(()=>{O.syncSelectionToDOM()});const J=Pp(v({},n,{value:_.value,timezone:L}),m,p.isSameError,p.defaultErrorState),z=y.useMemo(()=>c!==void 0?c:p.hasError(J),[p,J,c]);y.useEffect(()=>{!z&&T==null&&M()},[_.referenceValue,T,z]),y.useEffect(()=>{_.tempValueStrAndroid!=null&&T!=null&&(M(),C())},[_.sections]),y.useImperativeHandle(r,()=>({getSections:()=>_.sections,getActiveSectionIndex:O.getActiveSectionIndexFromDOM,setSelectedSections:O.setSelectedSections,focusField:O.focusField,isFieldFocused:O.isFieldFocused}));const H=le((j,...U)=>{j.preventDefault(),d==null||d(j,...U),D(),O.isFieldFocused()?I(F.startIndex):O.focusField(0)}),ee={onKeyDown:W,onClear:H,error:z,clearable:!!(u&&!P&&!a&&!i)},oe={disabled:i,readOnly:a};return v({},t.forwardedProps,ee,oe,S)},Mi=({props:t,value:e,adapter:n})=>{if(e===null)return null;const{shouldDisableDate:r,shouldDisableMonth:o,shouldDisableYear:s,disablePast:i,disableFuture:a,timezone:l}=t,c=n.utils.date(void 0,l),u=jt(n.utils,t.minDate,n.defaultDates.minDate),d=jt(n.utils,t.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(e):return"invalidDate";case!!(r&&r(e)):return"shouldDisableDate";case!!(o&&o(e)):return"shouldDisableMonth";case!!(s&&s(e)):return"shouldDisableYear";case!!(a&&n.utils.isAfterDay(e,c)):return"disableFuture";case!!(i&&n.utils.isBeforeDay(e,c)):return"disablePast";case!!(u&&n.utils.isBeforeDay(e,u)):return"minDate";case!!(d&&n.utils.isAfterDay(e,d)):return"maxDate";default:return null}},Xa=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Ja=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Dp=["minDateTime","maxDateTime"],uT=[...Xa,...Ja,...Dp],Rp=t=>uT.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{}),dT=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],Ap=(t,e)=>{const n=v({},t),r={},o=s=>{n.hasOwnProperty(s)&&(r[s]=n[s],delete n[s])};return dT.forEach(o),e==="date"?Xa.forEach(o):e==="time"?Ja.forEach(o):e==="date-time"&&(Xa.forEach(o),Ja.forEach(o),Dp.forEach(o)),{forwardedProps:n,internalProps:r}},hT=t=>{const e=Be(),n=ss();return v({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??e.formats.keyboardDate,minDate:jt(e,t.minDate,n.minDate),maxDate:jt(e,t.maxDate,n.maxDate)})},pT=t=>{const e=Be(),r=t.ampm??e.is12HourCycleInCurrentLocale()?e.formats.fullTime12h:e.formats.fullTime24h;return v({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??r})},fT=t=>{const e=hT(t),{forwardedProps:n,internalProps:r}=Ap(e,"date");return Sp({forwardedProps:n,internalProps:r,valueManager:yn,fieldValueManager:U0,validator:Mi,valueType:"date"})},mT=["clearable","onClear","InputProps","sx","slots","slotProps"],gT=["ownerState"],Mp=t=>{const e=Tn(),{clearable:n,onClear:r,InputProps:o,sx:s,slots:i,slotProps:a}=t,l=se(t,mT),c=(i==null?void 0:i.clearButton)??zr,u=De({elementType:c,externalSlotProps:a==null?void 0:a.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),d=se(u,gT),h=(i==null?void 0:i.clearIcon)??d0,p=De({elementType:h,externalSlotProps:a==null?void 0:a.clearIcon,ownerState:{}});return v({},l,{InputProps:v({},o,{endAdornment:w.jsxs(y.Fragment,{children:[n&&w.jsx(Gh,{position:"end",sx:{marginRight:o!=null&&o.endAdornment?-1:-1.5},children:w.jsx(c,v({},d,{onClick:r,children:w.jsx(h,v({fontSize:"small"},p))}))}),o==null?void 0:o.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(s)?s:[s]]})};function yT(t){return Ie("MuiPickersTextField",t)}Ee("MuiPickersTextField",["root","focused","disabled","error","required"]);function vT(t){return Ie("MuiPickersInputBase",t)}const br=Ee("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function _T(t){return Ie("MuiPickersSectionList",t)}const uo=Ee("MuiPickersSectionList",["root","section","sectionContent"]),bT=["slots","slotProps","elements","sectionListRef"],kp=Y("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(t,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),Vp=Y("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(t,e)=>e.section})({}),Op=Y("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(t,e)=>e.sectionSeparator})({whiteSpace:"pre"}),$p=Y("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(t,e)=>e.sectionContent})({outline:"none"}),wT=t=>{const{classes:e}=t;return we({root:["root"],section:["section"],sectionContent:["sectionContent"]},_T,e)};function TT(t){const{slots:e,slotProps:n,element:r,classes:o}=t,s=(e==null?void 0:e.section)??Vp,i=De({elementType:s,externalSlotProps:n==null?void 0:n.section,externalForwardedProps:r.container,className:o.section,ownerState:{}}),a=(e==null?void 0:e.sectionContent)??$p,l=De({elementType:a,externalSlotProps:n==null?void 0:n.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:o.sectionContent,ownerState:{}}),c=(e==null?void 0:e.sectionSeparator)??Op,u=De({elementType:c,externalSlotProps:n==null?void 0:n.sectionSeparator,externalForwardedProps:r.before,ownerState:{position:"before"}}),d=De({elementType:c,externalSlotProps:n==null?void 0:n.sectionSeparator,externalForwardedProps:r.after,ownerState:{position:"after"}});return w.jsxs(s,v({},i,{children:[w.jsx(c,v({},u)),w.jsx(a,v({},l)),w.jsx(c,v({},d))]}))}const ET=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersSectionList"}),{slots:o,slotProps:s,elements:i,sectionListRef:a}=r,l=se(r,bT),c=wT(r),u=y.useRef(null),d=Ge(n,u),h=g=>{if(!u.current)throw new Error(`MUI X: Cannot call sectionListRef.${g} before the mount of the component.`);return u.current};y.useImperativeHandle(a,()=>({getRoot(){return h("getRoot")},getSectionContainer(g){return h("getSectionContainer").querySelector(`.${uo.section}[data-sectionindex="${g}"]`)},getSectionContent(g){return h("getSectionContent").querySelector(`.${uo.section}[data-sectionindex="${g}"] .${uo.sectionContent}`)},getSectionIndexFromDOMElement(g){const f=h("getSectionIndexFromDOMElement");if(g==null||!f.contains(g))return null;let b=null;return g.classList.contains(uo.section)?b=g:g.classList.contains(uo.sectionContent)&&(b=g.parentElement),b==null?null:Number(b.dataset.sectionindex)}}));const p=(o==null?void 0:o.root)??kp,m=De({elementType:p,externalSlotProps:s==null?void 0:s.root,externalForwardedProps:l,additionalProps:{ref:d,suppressContentEditableWarning:!0},className:c.root,ownerState:{}});return w.jsx(p,v({},m,{children:m.contentEditable?i.map(({content:g,before:f,after:b})=>`${f.children}${g.children}${b.children}`).join(""):w.jsx(y.Fragment,{children:i.map((g,f)=>w.jsx(TT,{slots:o,slotProps:s,element:g,classes:c},f))})}))}),IT=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],CT=t=>Math.round(t*1e5)/1e5,ki=Y("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>v({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${CT(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),ic=Y(kp,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})(({theme:t})=>v({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px"},t.direction==="rtl"&&{textAlign:"right /*! @noflip */"},{variants:[{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:n,filled:r,label:o})=>!e&&!n&&!r&&o==null,style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),xT=Y(Vp,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(t,e)=>e.section})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),PT=Y($p,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,e)=>e.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),ST=Y(Op,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(t,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),DT=Y("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,e)=>e.hiddenInput})(v({},Dy)),RT=t=>{const{focused:e,disabled:n,error:r,classes:o,fullWidth:s,readOnly:i,color:a,size:l,endAdornment:c,startAdornment:u}=t,d={root:["root",e&&!n&&"focused",n&&"disabled",i&&"readOnly",r&&"error",s&&"fullWidth",`color${ue(a)}`,l==="small"&&"inputSizeSmall",!!u&&"adornedStart",!!c&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return we(d,vT,o)},ac=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersInputBase"}),{elements:o,areAllSectionsEmpty:s,value:i,onChange:a,id:l,endAdornment:c,startAdornment:u,renderSuffix:d,slots:h,slotProps:p,contentEditable:m,tabIndex:g,onInput:f,onPaste:b,onKeyDown:_,name:T,readOnly:E,inputProps:I,inputRef:D,sectionListRef:C}=r,x=se(r,IT),V=y.useRef(null),$=Ge(n,V),R=Ge(I==null?void 0:I.ref,D),L=Hr();if(!L)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const k=O=>{var W;if(L.disabled){O.stopPropagation();return}(W=L.onFocus)==null||W.call(L,O)};y.useEffect(()=>{L&&L.setAdornedStart(!!u)},[L,u]),y.useEffect(()=>{L&&(s?L.onEmpty():L.onFilled())},[L,s]);const M=v({},r,L),P=RT(M),A=(h==null?void 0:h.root)||ki,F=De({elementType:A,externalSlotProps:p==null?void 0:p.root,externalForwardedProps:x,additionalProps:{"aria-invalid":L.error,ref:$},className:P.root,ownerState:M}),S=(h==null?void 0:h.input)||ic;return w.jsxs(A,v({},F,{children:[u,w.jsx(ET,{sectionListRef:C,elements:o,contentEditable:m,tabIndex:g,className:P.sectionsContainer,onFocus:k,onBlur:L.onBlur,onInput:f,onPaste:b,onKeyDown:_,slots:{root:S,section:xT,sectionContent:PT,sectionSeparator:ST},slotProps:{root:{ownerState:M},sectionContent:{className:br.sectionContent},sectionSeparator:({position:O})=>({className:O==="before"?br.sectionBefore:br.sectionAfter})}}),c,d?d(v({},L)):null,w.jsx(DT,v({name:T,className:P.input,value:i,onChange:a,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:E,required:L.required,disabled:L.disabled},I,{ref:R}))]}))});function AT(t){return Ie("MuiPickersOutlinedInput",t)}const Ht=v({},br,Ee("MuiPickersOutlinedInput",["root","notchedOutline","input"])),MT=["children","className","label","notched","shrink"],kT=Y("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),sd=Y("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),VT=Y("legend")(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function OT(t){const{className:e,label:n}=t,r=se(t,MT),o=n!=null&&n!=="",s=v({},t,{withLabel:o});return w.jsx(kT,v({"aria-hidden":!0,className:e},r,{ownerState:s,children:w.jsx(VT,{ownerState:s,children:o?w.jsx(sd,{children:n}):w.jsx(sd,{className:"notranslate",children:""})})}))}const $T=["label","autoFocus","ownerState","notched"],NT=Y(ki,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ht.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ht.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Ht.focused} .${Ht.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${Ht.disabled}`]:{[`& .${Ht.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${Ht.error} .${Ht.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(n=>(t.vars??t).palette[n].main).map(n=>({props:{color:n},style:{[`&.${Ht.focused}:not(.${Ht.error}) .${Ht.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}}))}}),LT=Y(ic,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),FT=t=>{const{classes:e}=t,r=we({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},AT,e);return v({},e,r)},Np=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersOutlinedInput"}),{label:o,ownerState:s,notched:i}=r,a=se(r,$T),l=Hr(),c=v({},r,s,l,{color:(l==null?void 0:l.color)||"primary"}),u=FT(c);return w.jsx(ac,v({slots:{root:NT,input:LT},renderSuffix:d=>w.jsx(OT,{shrink:!!(i||d.adornedStart||d.focused||d.filled),notched:!!(i||d.adornedStart||d.focused||d.filled),className:u.notchedOutline,label:o!=null&&o!==""&&(l!=null&&l.required)?w.jsxs(y.Fragment,{children:[o,"","*"]}):o,ownerState:c})},a,{label:o,classes:u,ref:n}))});Np.muiName="Input";function BT(t){return Ie("MuiPickersFilledInput",t)}const Wn=v({},br,Ee("MuiPickersFilledInput",["root","underline","input"])),jT=["label","autoFocus","disableUnderline","ownerState"],UT=Y(ki,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>py(t)&&t!=="disableUnderline"})(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Wn.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Wn.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[...Object.keys((t.vars??t).palette).filter(i=>(t.vars??t).palette[i].main).map(i=>{var a;return{props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[i])==null?void 0:a.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wn.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wn.disabled}, .${Wn.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Wn.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:i})=>!!i,style:{paddingLeft:12}},{props:({endAdornment:i})=>!!i,style:{paddingRight:12}}]}}),zT=Y(ic,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:t})=>!!t,style:{paddingLeft:0}},{props:({endAdornment:t})=>!!t,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),WT=t=>{const{classes:e,disableUnderline:n}=t,o=we({root:["root",!n&&"underline"],input:["input"]},BT,e);return v({},e,o)},Lp=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersFilledInput"}),{label:o,disableUnderline:s=!1,ownerState:i}=r,a=se(r,jT),l=Hr(),c=v({},r,i,l,{color:(l==null?void 0:l.color)||"primary"}),u=WT(c);return w.jsx(ac,v({slots:{root:UT,input:zT},slotProps:{root:{disableUnderline:s}}},a,{label:o,classes:u,ref:n}))});Lp.muiName="Input";function HT(t){return Ie("MuiPickersFilledInput",t)}const ho=v({},br,Ee("MuiPickersInput",["root","input"])),qT=["label","autoFocus","disableUnderline","ownerState"],YT=Y(ki,{name:"MuiPickersInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(r=>(t.vars??t).palette[r].main).map(r=>({props:{color:r},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ho.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ho.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ho.disabled}, .${ho.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${ho.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),KT=t=>{const{classes:e,disableUnderline:n}=t,o=we({root:["root",!n&&"underline"],input:["input"]},HT,e);return v({},e,o)},Fp=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersInput"}),{label:o,disableUnderline:s=!1,ownerState:i}=r,a=se(r,qT),l=Hr(),c=v({},r,i,l,{disableUnderline:s,color:(l==null?void 0:l.color)||"primary"}),u=KT(c);return w.jsx(ac,v({slots:{root:YT}},a,{label:o,classes:u,ref:n}))});Fp.muiName="Input";const GT=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],QT={standard:Fp,filled:Lp,outlined:Np},XT=Y(pi,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),JT=t=>{const{focused:e,disabled:n,classes:r,required:o}=t;return we({root:["root",e&&!n&&"focused",n&&"disabled",o&&"required"]},yT,r)},Bp=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersTextField"}),{onFocus:o,onBlur:s,className:i,color:a="primary",disabled:l=!1,error:c=!1,variant:u="outlined",required:d=!1,InputProps:h,inputProps:p,inputRef:m,sectionListRef:g,elements:f,areAllSectionsEmpty:b,onClick:_,onKeyDown:T,onPaste:E,onInput:I,endAdornment:D,startAdornment:C,tabIndex:x,contentEditable:V,focused:$,value:R,onChange:L,fullWidth:k,id:M,name:P,helperText:A,FormHelperTextProps:F,label:S,InputLabelProps:O}=r,W=se(r,GT),J=y.useRef(null),z=Ge(n,J),H=wn(M),ee=A&&H?`${H}-helper-text`:void 0,oe=S&&H?`${H}-label`:void 0,j=v({},r,{color:a,disabled:l,error:c,focused:$,required:d,variant:u}),U=JT(j),Q=QT[u];return w.jsxs(XT,v({className:de(U.root,i),ref:z,focused:$,onFocus:o,onBlur:s,disabled:l,variant:u,error:c,color:a,fullWidth:k,required:d,ownerState:j},W,{children:[w.jsx(fi,v({htmlFor:H,id:oe},O,{children:S})),w.jsx(Q,v({elements:f,areAllSectionsEmpty:b,onClick:_,onKeyDown:T,onInput:I,onPaste:E,endAdornment:D,startAdornment:C,tabIndex:x,contentEditable:V,value:R,onChange:L,id:H,fullWidth:k,inputProps:p,inputRef:m,sectionListRef:g,label:S,name:P,role:"group","aria-labelledby":oe},h)),A&&w.jsx(ts,v({id:ee},F,{children:A}))]}))}),ZT=["enableAccessibleFieldDOMStructure"],eE=["InputProps","readOnly"],tE=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],jp=t=>{let{enableAccessibleFieldDOMStructure:e}=t,n=se(t,ZT);if(e){const{InputProps:d,readOnly:h}=n,p=se(n,eE);return v({},p,{InputProps:v({},d??{},{readOnly:h})})}const{onPaste:r,onKeyDown:o,inputMode:s,readOnly:i,InputProps:a,inputProps:l,inputRef:c}=n,u=se(n,tE);return v({},u,{InputProps:v({},a??{},{readOnly:i}),inputProps:v({},l??{},{inputMode:s,onPaste:r,onKeyDown:o,ref:c})})},nE=["slots","slotProps","InputProps","inputProps"],Up=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDateField"}),{slots:o,slotProps:s,InputProps:i,inputProps:a}=r,l=se(r,nE),c=r,u=(o==null?void 0:o.textField)??(e.enableAccessibleFieldDOMStructure?Bp:tp),d=De({elementType:u,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,additionalProps:{ref:n},ownerState:c});d.inputProps=v({},a,d.inputProps),d.InputProps=v({},i,d.InputProps);const h=fT(d),p=jp(h),m=Mp(v({},p,{slots:o,slotProps:s}));return w.jsx(u,v({},m))}),id=({adapter:t,value:e,props:n})=>{if(e===null)return null;const{minTime:r,maxTime:o,minutesStep:s,shouldDisableTime:i,disableIgnoringDatePartForTimeValidation:a=!1,disablePast:l,disableFuture:c,timezone:u}=n,d=t.utils.date(void 0,u),h=hp(a,t.utils);switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(r&&h(r,e)):return"minTime";case!!(o&&h(e,o)):return"maxTime";case!!(c&&t.utils.isAfter(e,d)):return"disableFuture";case!!(l&&t.utils.isBefore(e,d)):return"disablePast";case!!(i&&i(e,"hours")):return"shouldDisableTime-hours";case!!(i&&i(e,"minutes")):return"shouldDisableTime-minutes";case!!(i&&i(e,"seconds")):return"shouldDisableTime-seconds";case!!(s&&t.utils.getMinutes(e)%s!==0):return"minutesStep";default:return null}},zp=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:o,disableFuture:s,disablePast:i,timezone:a})=>{const l=ir();return y.useCallback(c=>Mi({adapter:l,value:c,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:o,disableFuture:s,disablePast:i,timezone:a}})!==null,[l,t,e,n,r,o,s,i,a])},rE=(t,e,n)=>(r,o)=>{switch(o.type){case"changeMonth":return v({},r,{slideDirection:o.direction,currentMonth:o.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return v({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&o.focusedDay!=null&&n.isSameDay(o.focusedDay,r.focusedDay))return r;const s=o.focusedDay!=null&&!e&&!n.isSameMonth(r.currentMonth,o.focusedDay);return v({},r,{focusedDay:o.focusedDay,isMonthSwitchingAnimating:s&&!t&&!o.withoutMonthSwitchingAnimation,currentMonth:s?n.startOfMonth(o.focusedDay):r.currentMonth,slideDirection:o.focusedDay!=null&&n.isAfterDay(o.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},oE=t=>{const{value:e,referenceDate:n,disableFuture:r,disablePast:o,disableSwitchToMonthOnDayFocus:s=!1,maxDate:i,minDate:a,onMonthChange:l,reduceAnimations:c,shouldDisableDate:u,timezone:d}=t,h=Be(),p=y.useRef(rE(!!c,s,h)).current,m=y.useMemo(()=>yn.getInitialReferenceValue({value:e,utils:h,timezone:d,props:t,referenceDate:n,granularity:Jt.day}),[]),[g,f]=y.useReducer(p,{isMonthSwitchingAnimating:!1,focusedDay:m,currentMonth:h.startOfMonth(m),slideDirection:"left"}),b=y.useCallback(D=>{f(v({type:"changeMonth"},D)),l&&l(D.newMonth)},[l]),_=y.useCallback(D=>{const C=D;h.isSameMonth(C,g.currentMonth)||b({newMonth:h.startOfMonth(C),direction:h.isAfterDay(C,g.currentMonth)?"left":"right"})},[g.currentMonth,b,h]),T=zp({shouldDisableDate:u,minDate:a,maxDate:i,disableFuture:r,disablePast:o,timezone:d}),E=y.useCallback(()=>{f({type:"finishMonthSwitchingAnimation"})},[]),I=le((D,C)=>{T(D)||f({type:"changeFocusedDay",focusedDay:D,withoutMonthSwitchingAnimation:C})});return{referenceDate:m,calendarState:g,changeMonth:_,changeFocusedDay:I,isDateDisabled:T,onMonthSwitchingAnimationEnd:E,handleChangeMonth:b}},sE=t=>Ie("MuiPickersFadeTransitionGroup",t);Ee("MuiPickersFadeTransitionGroup",["root"]);const iE=t=>{const{classes:e}=t;return we({root:["root"]},sE,e)},aE=Y(bh,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function Wp(t){const e=ge({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:o,transKey:s}=e,i=iE(e),a=Qt();return o?n:w.jsx(aE,{className:de(i.root,r),children:w.jsx(es,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:n},s)})}const lE=t=>Ie("MuiPickersSlideTransition",t),Vt=Ee("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),cE=["children","className","reduceAnimations","slideDirection","transKey","classes"],uE=t=>{const{classes:e,slideDirection:n}=t,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return we(r,lE,e)},dE=Y(bh,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${Vt["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${Vt["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${Vt.slideEnterActive}`]:e.slideEnterActive},{[`.${Vt.slideExit}`]:e.slideExit},{[`.${Vt["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${Vt["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Vt["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Vt["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Vt.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${Vt.slideExit}`]:{transform:"translate(0%)"},[`& .${Vt["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${Vt["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function hE(t){const e=ge({props:t,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:o,transKey:s}=e,i=se(e,cE),a=uE(e),l=Qt();if(o)return w.jsx("div",{className:de(a.root,r),children:n});const c={exit:a.exit,enterActive:a.enterActive,enter:a.enter,exitActive:a.exitActive};return w.jsx(dE,{className:de(a.root,r),childFactory:u=>y.cloneElement(u,{classNames:c}),role:"presentation",children:w.jsx(Ll,v({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:c},i,{children:n}),s)})}const pE=t=>Ie("MuiDayCalendar",t);Ee("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const fE=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],mE=["ownerState"],gE=t=>{const{classes:e}=t;return we({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},pE,e)},Hp=(Oo+Di*2)*6,yE=Y("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),vE=Y("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),_E=Y(Kt,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),bE=Y(Kt,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),wE=Y(Kt,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>v({},t.typography.caption,{width:Oo,height:Oo,padding:0,margin:`0 ${Di}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),TE=Y("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Hp}),EE=Y(hE,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:Hp}),IE=Y("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),CE=Y("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${Di}px 0`,display:"flex",justifyContent:"center"});function xE(t){let{parentProps:e,day:n,focusableDay:r,selectedDays:o,isDateDisabled:s,currentMonthNumber:i,isViewFocused:a}=t,l=se(t,fE);const{disabled:c,disableHighlightToday:u,isMonthSwitchingAnimating:d,showDaysOutsideCurrentMonth:h,slots:p,slotProps:m,timezone:g}=e,f=Be(),b=Si(g),_=r!==null&&f.isSameDay(n,r),T=o.some(L=>f.isSameDay(L,n)),E=f.isSameDay(n,b),I=(p==null?void 0:p.day)??xp,D=De({elementType:I,externalSlotProps:m==null?void 0:m.day,additionalProps:v({disableHighlightToday:u,showDaysOutsideCurrentMonth:h,role:"gridcell",isAnimating:d,"data-timestamp":f.toJsDate(n).valueOf()},l),ownerState:v({},e,{day:n,selected:T})}),C=se(D,mE),x=y.useMemo(()=>c||s(n),[c,s,n]),V=y.useMemo(()=>f.getMonth(n)!==i,[f,n,i]),$=y.useMemo(()=>{const L=f.startOfMonth(f.setMonth(n,i));return h?f.isSameDay(n,f.startOfWeek(L)):f.isSameDay(n,L)},[i,n,h,f]),R=y.useMemo(()=>{const L=f.endOfMonth(f.setMonth(n,i));return h?f.isSameDay(n,f.endOfWeek(L)):f.isSameDay(n,L)},[i,n,h,f]);return w.jsx(I,v({},C,{day:n,disabled:x,autoFocus:a&&_,today:E,outsideCurrentMonth:V,isFirstVisibleCell:$,isLastVisibleCell:R,selected:T,tabIndex:_?0:-1,"aria-selected":T,"aria-current":E?"date":void 0}))}function PE(t){const e=ge({props:t,name:"MuiDayCalendar"}),n=Be(),{onFocusedDayChange:r,className:o,currentMonth:s,selectedDays:i,focusedDay:a,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:u,readOnly:d,reduceAnimations:h,renderLoading:p=()=>w.jsx("span",{children:"..."}),slideDirection:m,TransitionProps:g,disablePast:f,disableFuture:b,minDate:_,maxDate:T,shouldDisableDate:E,shouldDisableMonth:I,shouldDisableYear:D,dayOfWeekFormatter:C=ae=>n.format(ae,"weekdayShort").charAt(0).toUpperCase(),hasFocus:x,onFocusedViewChange:V,gridLabelId:$,displayWeekNumber:R,fixedWeekNumber:L,autoFocus:k,timezone:M}=e,P=Si(M),A=gE(e),S=Qt().direction==="rtl",O=zp({shouldDisableDate:E,shouldDisableMonth:I,shouldDisableYear:D,minDate:_,maxDate:T,disablePast:f,disableFuture:b,timezone:M}),W=Tn(),[J,z]=an({name:"DayCalendar",state:"hasFocus",controlled:x,default:k??!1}),[H,ee]=y.useState(()=>a||P),oe=le(ae=>{d||c(ae)}),j=ae=>{O(ae)||(r(ae),ee(ae),V==null||V(!0),z(!0))},U=le((ae,he)=>{switch(ae.key){case"ArrowUp":j(n.addDays(he,-7)),ae.preventDefault();break;case"ArrowDown":j(n.addDays(he,7)),ae.preventDefault();break;case"ArrowLeft":{const Pe=n.addDays(he,S?1:-1),Ae=n.addMonths(he,S?1:-1),Xe=Co({utils:n,date:Pe,minDate:S?Pe:n.startOfMonth(Ae),maxDate:S?n.endOfMonth(Ae):Pe,isDateDisabled:O,timezone:M});j(Xe||Pe),ae.preventDefault();break}case"ArrowRight":{const Pe=n.addDays(he,S?-1:1),Ae=n.addMonths(he,S?-1:1),Xe=Co({utils:n,date:Pe,minDate:S?n.startOfMonth(Ae):Pe,maxDate:S?Pe:n.endOfMonth(Ae),isDateDisabled:O,timezone:M});j(Xe||Pe),ae.preventDefault();break}case"Home":j(n.startOfWeek(he)),ae.preventDefault();break;case"End":j(n.endOfWeek(he)),ae.preventDefault();break;case"PageUp":j(n.addMonths(he,1)),ae.preventDefault();break;case"PageDown":j(n.addMonths(he,-1)),ae.preventDefault();break}}),Q=le((ae,he)=>j(he)),ne=le((ae,he)=>{J&&n.isSameDay(H,he)&&(V==null||V(!1))}),q=n.getMonth(s),re=n.getYear(s),X=y.useMemo(()=>i.filter(ae=>!!ae).map(ae=>n.startOfDay(ae)),[n,i]),N=`${re}-${q}`,Z=y.useMemo(()=>y.createRef(),[N]),te=n.startOfWeek(P),ye=y.useMemo(()=>{const ae=n.startOfMonth(s),he=n.endOfMonth(s);return O(H)||n.isAfterDay(H,he)||n.isBeforeDay(H,ae)?Co({utils:n,date:H,minDate:ae,maxDate:he,disablePast:f,disableFuture:b,isDateDisabled:O,timezone:M}):H},[s,b,f,H,O,n,M]),Oe=y.useMemo(()=>{const ae=n.setTimezone(s,M),he=n.getWeekArray(ae);let Pe=n.addMonths(ae,1);for(;L&&he.length<L;){const Ae=n.getWeekArray(Pe),Xe=n.isSameDay(he[he.length-1][0],Ae[0][0]);Ae.slice(Xe?1:0).forEach(rt=>{he.length<L&&he.push(rt)}),Pe=n.addMonths(Pe,1)}return he},[s,L,n,M]);return w.jsxs(yE,{role:"grid","aria-labelledby":$,className:A.root,children:[w.jsxs(vE,{role:"row",className:A.header,children:[R&&w.jsx(bE,{variant:"caption",role:"columnheader","aria-label":W.calendarWeekNumberHeaderLabel,className:A.weekNumberLabel,children:W.calendarWeekNumberHeaderText}),S0(n,P).map((ae,he)=>w.jsx(_E,{variant:"caption",role:"columnheader","aria-label":n.format(n.addDays(te,he),"weekday"),className:A.weekDayLabel,children:C(ae)},he.toString()))]}),l?w.jsx(TE,{className:A.loadingContainer,children:p()}):w.jsx(EE,v({transKey:N,onExited:u,reduceAnimations:h,slideDirection:m,className:de(o,A.slideTransition)},g,{nodeRef:Z,children:w.jsx(IE,{ref:Z,role:"rowgroup",className:A.monthContainer,children:Oe.map((ae,he)=>w.jsxs(CE,{role:"row",className:A.weekContainer,"aria-rowindex":he+1,children:[R&&w.jsx(wE,{className:A.weekNumber,role:"rowheader","aria-label":W.calendarWeekNumberAriaLabelText(n.getWeekNumber(ae[0])),children:W.calendarWeekNumberText(n.getWeekNumber(ae[0]))}),ae.map((Pe,Ae)=>w.jsx(xE,{parentProps:e,day:Pe,selectedDays:X,focusableDay:ye,onKeyDown:U,onFocus:Q,onBlur:ne,onDaySelect:oe,isDateDisabled:O,currentMonthNumber:q,isViewFocused:J,"aria-colindex":Ae+1},Pe.toString()))]},`week-${ae[0]}`))})}))]})}function SE(t){return Ie("MuiPickersMonth",t)}const Is=Ee("MuiPickersMonth",["root","monthButton","disabled","selected"]),DE=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],RE=t=>{const{disabled:e,selected:n,classes:r}=t;return we({root:["root"],monthButton:["monthButton",e&&"disabled",n&&"selected"]},SE,r)},AE=Y("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),ME=Y("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${Is.disabled}`]:e.disabled},{[`&.${Is.selected}`]:e.selected}]})(({theme:t})=>v({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Pr(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Pr(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Is.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Is.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),kE=y.memo(function(e){const n=ge({props:e,name:"MuiPickersMonth"}),{autoFocus:r,children:o,disabled:s,selected:i,value:a,tabIndex:l,onClick:c,onKeyDown:u,onFocus:d,onBlur:h,"aria-current":p,"aria-label":m}=n,g=se(n,DE),f=y.useRef(null),b=RE(n);return Yt(()=>{var _;r&&((_=f.current)==null||_.focus())},[r]),w.jsx(AE,v({className:b.root,ownerState:n},g,{children:w.jsx(ME,{ref:f,disabled:s,type:"button",role:"radio",tabIndex:s?-1:l,"aria-current":p,"aria-checked":i,"aria-label":m,onClick:_=>c(_,a),onKeyDown:_=>u(_,a),onFocus:_=>d(_,a),onBlur:_=>h(_,a),className:b.monthButton,ownerState:n,children:o})}))});function VE(t){return Ie("MuiMonthCalendar",t)}Ee("MuiMonthCalendar",["root"]);const OE=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],$E=t=>{const{classes:e}=t;return we({root:["root"]},VE,e)};function NE(t,e){const n=Be(),r=ss(),o=ge({props:t,name:e});return v({disableFuture:!1,disablePast:!1},o,{minDate:jt(n,o.minDate,r.minDate),maxDate:jt(n,o.maxDate,r.maxDate)})}const LE=Y("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Ri,boxSizing:"border-box"}),FE=y.forwardRef(function(e,n){const r=NE(e,"MuiMonthCalendar"),{className:o,value:s,defaultValue:i,referenceDate:a,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:h,onChange:p,shouldDisableMonth:m,readOnly:g,autoFocus:f=!1,onMonthFocus:b,hasFocus:_,onFocusedViewChange:T,monthsPerRow:E=3,timezone:I,gridLabelId:D}=r,C=se(r,OE),{value:x,handleValueChange:V,timezone:$}=rc({name:"MonthCalendar",timezone:I,value:s,defaultValue:i,onChange:p,valueManager:yn}),R=Si($),L=wh(),k=Be(),M=y.useMemo(()=>yn.getInitialReferenceValue({value:x,utils:k,props:r,timezone:$,referenceDate:a,granularity:Jt.month}),[]),P=r,A=$E(P),F=y.useMemo(()=>k.getMonth(R),[k,R]),S=y.useMemo(()=>x!=null?k.getMonth(x):null,[x,k]),[O,W]=y.useState(()=>S||k.getMonth(M)),[J,z]=an({name:"MonthCalendar",state:"hasFocus",controlled:_,default:f??!1}),H=le(q=>{z(q),T&&T(q)}),ee=y.useCallback(q=>{const re=k.startOfMonth(u&&k.isAfter(R,h)?R:h),X=k.startOfMonth(c&&k.isBefore(R,d)?R:d),N=k.startOfMonth(q);return k.isBefore(N,re)||k.isAfter(N,X)?!0:m?m(N):!1},[c,u,d,h,R,m,k]),oe=le((q,re)=>{if(g)return;const X=k.setMonth(x??M,re);V(X)}),j=le(q=>{ee(k.setMonth(x??M,q))||(W(q),H(!0),b&&b(q))});y.useEffect(()=>{W(q=>S!==null&&q!==S?S:q)},[S]);const U=le((q,re)=>{switch(q.key){case"ArrowUp":j((12+re-3)%12),q.preventDefault();break;case"ArrowDown":j((12+re+3)%12),q.preventDefault();break;case"ArrowLeft":j((12+re+(L.direction==="ltr"?-1:1))%12),q.preventDefault();break;case"ArrowRight":j((12+re+(L.direction==="ltr"?1:-1))%12),q.preventDefault();break}}),Q=le((q,re)=>{j(re)}),ne=le((q,re)=>{O===re&&H(!1)});return w.jsx(LE,v({ref:n,className:de(A.root,o),ownerState:P,role:"radiogroup","aria-labelledby":D},C,{children:ec(k,x??M).map(q=>{const re=k.getMonth(q),X=k.format(q,"monthShort"),N=k.format(q,"month"),Z=re===S,te=l||ee(q);return w.jsx(kE,{selected:Z,value:re,onClick:oe,onKeyDown:U,autoFocus:J&&re===O,disabled:te,tabIndex:re===O?0:-1,onFocus:Q,onBlur:ne,"aria-current":F===re?"date":void 0,"aria-label":N,monthsPerRow:E,children:X},X)})}))});function BE(t){return Ie("MuiPickersYear",t)}const Cs=Ee("MuiPickersYear",["root","yearButton","selected","disabled"]),jE=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],UE=t=>{const{disabled:e,selected:n,classes:r}=t;return we({root:["root"],yearButton:["yearButton",e&&"disabled",n&&"selected"]},BE,r)},zE=Y("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),WE=Y("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${Cs.disabled}`]:e.disabled},{[`&.${Cs.selected}`]:e.selected}]})(({theme:t})=>v({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:Pr(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Pr(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Cs.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Cs.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),HE=y.memo(function(e){const n=ge({props:e,name:"MuiPickersYear"}),{autoFocus:r,className:o,children:s,disabled:i,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:p,"aria-current":m}=n,g=se(n,jE),f=y.useRef(null),b=UE(n);return y.useEffect(()=>{r&&f.current.focus()},[r]),w.jsx(zE,v({className:de(b.root,o),ownerState:n},g,{children:w.jsx(WE,{ref:f,disabled:i,type:"button",role:"radio",tabIndex:i?-1:c,"aria-current":m,"aria-checked":a,onClick:_=>u(_,l),onKeyDown:_=>d(_,l),onFocus:_=>h(_,l),onBlur:_=>p(_,l),className:b.yearButton,ownerState:n,children:s})}))});function qE(t){return Ie("MuiYearCalendar",t)}Ee("MuiYearCalendar",["root"]);const YE=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],KE=t=>{const{classes:e}=t;return we({root:["root"]},qE,e)};function GE(t,e){const n=Be(),r=ss(),o=ge({props:t,name:e});return v({disablePast:!1,disableFuture:!1},o,{yearsPerRow:o.yearsPerRow??3,minDate:jt(n,o.minDate,r.minDate),maxDate:jt(n,o.maxDate,r.maxDate)})}const QE=Y("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Ri,maxHeight:C0,boxSizing:"border-box",position:"relative"}),XE=y.forwardRef(function(e,n){const r=GE(e,"MuiYearCalendar"),{autoFocus:o,className:s,value:i,defaultValue:a,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:p,onChange:m,readOnly:g,shouldDisableYear:f,onYearFocus:b,hasFocus:_,onFocusedViewChange:T,yearsPerRow:E,timezone:I,gridLabelId:D}=r,C=se(r,YE),{value:x,handleValueChange:V,timezone:$}=rc({name:"YearCalendar",timezone:I,value:i,defaultValue:a,onChange:m,valueManager:yn}),R=Si($),L=wh(),k=Be(),M=y.useMemo(()=>yn.getInitialReferenceValue({value:x,utils:k,props:r,timezone:$,referenceDate:l,granularity:Jt.year}),[]),P=r,A=KE(P),F=y.useMemo(()=>k.getYear(R),[k,R]),S=y.useMemo(()=>x!=null?k.getYear(x):null,[x,k]),[O,W]=y.useState(()=>S||k.getYear(M)),[J,z]=an({name:"YearCalendar",state:"hasFocus",controlled:_,default:o??!1}),H=le(X=>{z(X),T&&T(X)}),ee=y.useCallback(X=>{if(d&&k.isBeforeYear(X,R)||u&&k.isAfterYear(X,R)||p&&k.isBeforeYear(X,p)||h&&k.isAfterYear(X,h))return!0;if(!f)return!1;const N=k.startOfYear(X);return f(N)},[u,d,h,p,R,f,k]),oe=le((X,N)=>{if(g)return;const Z=k.setYear(x??M,N);V(Z)}),j=le(X=>{ee(k.setYear(x??M,X))||(W(X),H(!0),b==null||b(X))});y.useEffect(()=>{W(X=>S!==null&&X!==S?S:X)},[S]);const U=le((X,N)=>{switch(X.key){case"ArrowUp":j(N-E),X.preventDefault();break;case"ArrowDown":j(N+E),X.preventDefault();break;case"ArrowLeft":j(N+(L.direction==="ltr"?-1:1)),X.preventDefault();break;case"ArrowRight":j(N+(L.direction==="ltr"?1:-1)),X.preventDefault();break}}),Q=le((X,N)=>{j(N)}),ne=le((X,N)=>{O===N&&H(!1)}),q=y.useRef(null),re=Ge(n,q);return y.useEffect(()=>{if(o||q.current===null)return;const X=q.current.querySelector('[tabindex="0"]');if(!X)return;const N=X.offsetHeight,Z=X.offsetTop,te=q.current.clientHeight,ye=q.current.scrollTop,Oe=Z+N;N>te||Z<ye||(q.current.scrollTop=Oe-te/2-N/2)},[o]),w.jsx(QE,v({ref:re,className:de(A.root,s),ownerState:P,role:"radiogroup","aria-labelledby":D},C,{children:k.getYearRange([p,h]).map(X=>{const N=k.getYear(X),Z=N===S,te=c||ee(X);return w.jsx(HE,{selected:Z,value:N,onClick:oe,onKeyDown:U,autoFocus:J&&N===O,disabled:te,tabIndex:N===O?0:-1,onFocus:Q,onBlur:ne,"aria-current":F===N?"date":void 0,yearsPerRow:E,children:k.format(X,"year")},k.format(X,"year"))})}))}),JE=t=>Ie("MuiPickersCalendarHeader",t),ZE=Ee("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),eI=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],tI=["ownerState"],nI=t=>{const{classes:e}=t;return we({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},JE,e)},rI=Y("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),oI=Y("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>v({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),sI=Y("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),iI=Y(zr,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${ZE.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),aI=Y(a0,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),lI=y.forwardRef(function(e,n){const r=Tn(),o=Be(),s=ge({props:e,name:"MuiPickersCalendarHeader"}),{slots:i,slotProps:a,currentMonth:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:p,onMonthChange:m,onViewChange:g,view:f,reduceAnimations:b,views:_,labelId:T,className:E,timezone:I,format:D=`${o.formats.month} ${o.formats.year}`}=s,C=se(s,eI),x=s,V=nI(s),$=(i==null?void 0:i.switchViewButton)??iI,R=De({elementType:$,externalSlotProps:a==null?void 0:a.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(f)},ownerState:x,className:V.switchViewButton}),L=(i==null?void 0:i.switchViewIcon)??aI,k=De({elementType:L,externalSlotProps:a==null?void 0:a.switchViewIcon,ownerState:void 0,className:V.switchViewIcon}),M=se(k,tI),P=()=>m(o.addMonths(l,1),"left"),A=()=>m(o.addMonths(l,-1),"right"),F=E0(l,{disableFuture:u,maxDate:h,timezone:I}),S=I0(l,{disablePast:d,minDate:p,timezone:I}),O=()=>{if(!(_.length===1||!g||c))if(_.length===2)g(_.find(J=>J!==f)||_[0]);else{const J=_.indexOf(f)!==0?0:1;g(_[J])}};if(_.length===1&&_[0]==="year")return null;const W=o.formatByString(l,D);return w.jsxs(rI,v({},C,{ownerState:x,className:de(E,V.root),ref:n,children:[w.jsxs(oI,{role:"presentation",onClick:O,ownerState:x,"aria-live":"polite",className:V.labelContainer,children:[w.jsx(Wp,{reduceAnimations:b,transKey:W,children:w.jsx(sI,{id:T,ownerState:x,className:V.label,children:W})}),_.length>1&&!c&&w.jsx($,v({},R,{children:w.jsx(L,v({},M))}))]}),w.jsx(es,{in:f==="day",children:w.jsx(_0,{slots:i,slotProps:a,onGoToPrevious:A,isPreviousDisabled:S,previousLabel:r.previousMonth,onGoToNext:P,isNextDisabled:F,nextLabel:r.nextMonth})})]}))}),cI="@media (prefers-reduced-motion: reduce)",wr=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),ad=wr&&wr[1]?parseInt(wr[1],10):null,ld=wr&&wr[2]?parseInt(wr[2],10):null,uI=ad&&ad<10||ld&&ld<13||!1,qp=()=>Ol(cI,{defaultMatches:!1})||uI,dI=t=>Ie("MuiDateCalendar",t);Ee("MuiDateCalendar",["root","viewTransitionContainer"]);const hI=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],pI=t=>{const{classes:e}=t;return we({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},dI,e)};function fI(t,e){const n=Be(),r=ss(),o=qp(),s=ge({props:t,name:e});return v({},s,{loading:s.loading??!1,disablePast:s.disablePast??!1,disableFuture:s.disableFuture??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:s.reduceAnimations??o,renderLoading:s.renderLoading??(()=>w.jsx("span",{children:"..."})),minDate:jt(n,s.minDate,r.minDate),maxDate:jt(n,s.maxDate,r.maxDate)})}const mI=Y(x0,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:Zl}),gI=Y(Wp,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),Yp=y.forwardRef(function(e,n){const r=Be(),o=wn(),s=fI(e,"MuiDateCalendar"),{autoFocus:i,onViewChange:a,value:l,defaultValue:c,referenceDate:u,disableFuture:d,disablePast:h,onChange:p,onYearChange:m,onMonthChange:g,reduceAnimations:f,shouldDisableDate:b,shouldDisableMonth:_,shouldDisableYear:T,view:E,views:I,openTo:D,className:C,disabled:x,readOnly:V,minDate:$,maxDate:R,disableHighlightToday:L,focusedView:k,onFocusedViewChange:M,showDaysOutsideCurrentMonth:P,fixedWeekNumber:A,dayOfWeekFormatter:F,slots:S,slotProps:O,loading:W,renderLoading:J,displayWeekNumber:z,yearsPerRow:H,monthsPerRow:ee,timezone:oe}=s,j=se(s,hI),{value:U,handleValueChange:Q,timezone:ne}=rc({name:"DateCalendar",timezone:oe,value:l,defaultValue:c,onChange:p,valueManager:yn}),{view:q,setView:re,focusedView:X,setFocusedView:N,goToNextView:Z,setValueAndGoToNextView:te}=pp({view:E,views:I,openTo:D,onChange:Q,onViewChange:a,autoFocus:i,focusedView:k,onFocusedViewChange:M}),{referenceDate:ye,calendarState:Oe,changeFocusedDay:ae,changeMonth:he,handleChangeMonth:Pe,isDateDisabled:Ae,onMonthSwitchingAnimationEnd:Xe}=oE({value:U,referenceDate:u,reduceAnimations:f,onMonthChange:g,minDate:$,maxDate:R,shouldDisableDate:b,disablePast:h,disableFuture:d,timezone:ne}),rt=x&&U||$,We=x&&U||R,zt=`${o}-grid-label`,Tt=X!==null,At=(S==null?void 0:S.calendarHeader)??lI,hn=De({elementType:At,externalSlotProps:O==null?void 0:O.calendarHeader,additionalProps:{views:I,view:q,currentMonth:Oe.currentMonth,onViewChange:re,onMonthChange:(Ue,kt)=>Pe({newMonth:Ue,direction:kt}),minDate:rt,maxDate:We,disabled:x,disablePast:h,disableFuture:d,reduceAnimations:f,timezone:ne,labelId:zt,slots:S,slotProps:O},ownerState:s}),pn=le(Ue=>{const kt=r.startOfMonth(Ue),jn=r.endOfMonth(Ue),Xt=Ae(Ue)?Co({utils:r,date:Ue,minDate:r.isBefore($,kt)?kt:$,maxDate:r.isAfter(R,jn)?jn:R,disablePast:h,disableFuture:d,isDateDisabled:Ae,timezone:ne}):Ue;Xt?(te(Xt,"finish"),g==null||g(kt)):(Z(),he(kt)),ae(Xt,!0)}),vt=le(Ue=>{const kt=r.startOfYear(Ue),jn=r.endOfYear(Ue),Xt=Ae(Ue)?Co({utils:r,date:Ue,minDate:r.isBefore($,kt)?kt:$,maxDate:r.isAfter(R,jn)?jn:R,disablePast:h,disableFuture:d,isDateDisabled:Ae,timezone:ne}):Ue;Xt?(te(Xt,"finish"),m==null||m(Xt)):(Z(),he(kt)),ae(Xt,!0)}),fn=le(Ue=>Q(Ue&&qs(r,Ue,U??ye),"finish",q));y.useEffect(()=>{U!=null&&r.isValid(U)&&he(U)},[U]);const Mt=s,pe=pI(Mt),Me={disablePast:h,disableFuture:d,maxDate:R,minDate:$},je={disableHighlightToday:L,readOnly:V,disabled:x,timezone:ne,gridLabelId:zt},_t=y.useRef(q);y.useEffect(()=>{_t.current!==q&&(X===_t.current&&N(q,!0),_t.current=q)},[X,N,q]);const En=y.useMemo(()=>[U],[U]);return w.jsxs(mI,v({ref:n,className:de(pe.root,C),ownerState:Mt},j,{children:[w.jsx(At,v({},hn)),w.jsx(gI,{reduceAnimations:f,className:pe.viewTransitionContainer,transKey:q,ownerState:Mt,children:w.jsxs("div",{children:[q==="year"&&w.jsx(XE,v({},Me,je,{value:U,onChange:vt,shouldDisableYear:T,hasFocus:Tt,onFocusedViewChange:Ue=>N("year",Ue),yearsPerRow:H,referenceDate:ye})),q==="month"&&w.jsx(FE,v({},Me,je,{hasFocus:Tt,className:C,value:U,onChange:pn,shouldDisableMonth:_,onFocusedViewChange:Ue=>N("month",Ue),monthsPerRow:ee,referenceDate:ye})),q==="day"&&w.jsx(PE,v({},Oe,Me,je,{onMonthSwitchingAnimationEnd:Xe,onFocusedDayChange:ae,reduceAnimations:f,selectedDays:En,onSelectedDaysChange:fn,shouldDisableDate:b,shouldDisableMonth:_,shouldDisableYear:T,hasFocus:Tt,onFocusedViewChange:Ue=>N("day",Ue),showDaysOutsideCurrentMonth:P,fixedWeekNumber:A,dayOfWeekFormatter:F,displayWeekNumber:z,slots:S,slotProps:O,loading:W,renderLoading:J}))]})})]}))});function yI(t){return Ie("MuiPickersToolbar",t)}Ee("MuiPickersToolbar",["root","content"]);const vI=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],_I=t=>{const{classes:e,isLandscape:n}=t;return we({root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]},yI,e)},bI=Y("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),wI=Y("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),TI=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiPickersToolbar"}),{children:o,className:s,toolbarTitle:i,hidden:a,titleId:l}=r,c=se(r,vI),u=r,d=_I(u);return a?null:w.jsxs(bI,v({ref:n,className:de(d.root,s),ownerState:u},c,{children:[w.jsx(Kt,{color:"text.secondary",variant:"overline",id:l,children:i}),w.jsx(wI,{className:d.content,ownerState:u,children:o})]}))});function EI(t){return Ie("MuiDatePickerToolbar",t)}Ee("MuiDatePickerToolbar",["root","title"]);const II=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],CI=t=>{const{classes:e}=t;return we({root:["root"],title:["title"]},EI,e)},xI=Y(TI,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),PI=Y(Kt,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),SI=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDatePickerToolbar"}),{value:o,isLandscape:s,toolbarFormat:i,toolbarPlaceholder:a="",views:l,className:c}=r,u=se(r,II),d=Be(),h=Tn(),p=CI(r),m=y.useMemo(()=>{if(!o)return a;const f=tc(d,{format:i,views:l},!0);return d.formatByString(o,f)},[o,i,a,d,l]),g=r;return w.jsx(xI,v({ref:n,toolbarTitle:h.datePickerToolbarTitle,isLandscape:s,className:de(p.root,c)},u,{children:w.jsx(PI,{variant:"h4",align:s?"left":"center",ownerState:g,className:p.title,children:m})}))});function Kp(t,e){const n=Be(),r=ss(),o=ge({props:t,name:e}),s=y.useMemo(()=>{var i;return((i=o.localeText)==null?void 0:i.toolbarTitle)==null?o.localeText:v({},o.localeText,{datePickerToolbarTitle:o.localeText.toolbarTitle})},[o.localeText]);return v({},o,{localeText:s},b0({views:o.views,openTo:o.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:o.disableFuture??!1,disablePast:o.disablePast??!1,minDate:jt(n,o.minDate,r.minDate),maxDate:jt(n,o.maxDate,r.maxDate),slots:v({toolbar:SI},o.slots)})}function DI(t){return Ie("MuiPickersPopper",t)}Ee("MuiPickersPopper",["root","paper"]);const RI=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],AI=t=>{const{classes:e}=t;return we({root:["root"],paper:["paper"]},DI,e)},MI=Y(Yl,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),kI=Y(Br,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:t})=>["top","top-start","top-end"].includes(t),style:{transformOrigin:"bottom center"}}]});function VI(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function OI(t,e){const n=y.useRef(!1),r=y.useRef(!1),o=y.useRef(null),s=y.useRef(!1);y.useEffect(()=>{if(!t)return;function l(){s.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),s.current=!1}},[t]);const i=le(l=>{if(!s.current)return;const c=r.current;r.current=!1;const u=nn(o.current);if(!o.current||"clientX"in l&&VI(l,u))return;if(n.current){n.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(o.current)>-1:d=!u.documentElement.contains(l.target)||o.current.contains(l.target),!d&&!c&&e(l)}),a=()=>{r.current=!0};return y.useEffect(()=>{if(t){const l=nn(o.current),c=()=>{n.current=!0};return l.addEventListener("touchstart",i),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",i),l.removeEventListener("touchmove",c)}}},[t,i]),y.useEffect(()=>{if(t){const l=nn(o.current);return l.addEventListener("click",i),()=>{l.removeEventListener("click",i),r.current=!1}}},[t,i]),[o,a,a]}const $I=y.forwardRef((t,e)=>{const{PaperComponent:n,popperPlacement:r,ownerState:o,children:s,paperSlotProps:i,paperClasses:a,onPaperClick:l,onPaperTouchStart:c}=t,u=se(t,RI),d=v({},o,{placement:r}),h=De({elementType:n,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:a,ownerState:d});return w.jsx(n,v({},u,h,{onClick:p=>{var m;l(p),(m=h.onClick)==null||m.call(h,p)},onTouchStart:p=>{var m;c(p),(m=h.onTouchStart)==null||m.call(h,p)},ownerState:d,children:s}))});function NI(t){const e=ge({props:t,name:"MuiPickersPopper"}),{anchorEl:n,children:r,containerRef:o=null,shouldRestoreFocus:s,onBlur:i,onDismiss:a,open:l,role:c,placement:u,slots:d,slotProps:h,reduceAnimations:p}=e;y.useEffect(()=>{function P(A){l&&A.key==="Escape"&&a()}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[a,l]);const m=y.useRef(null);y.useEffect(()=>{c==="tooltip"||s&&!s()||(l?m.current=Ot(document):m.current&&m.current instanceof HTMLElement&&setTimeout(()=>{m.current instanceof HTMLElement&&m.current.focus()}))},[l,c,s]);const[g,f,b]=OI(l,i??a),_=y.useRef(null),T=Ge(_,o),E=Ge(T,g),I=e,D=AI(I),C=qp(),x=p??C,V=P=>{P.key==="Escape"&&(P.stopPropagation(),a())},$=(d==null?void 0:d.desktopTransition)??x?es:Vo,R=(d==null?void 0:d.desktopTrapFocus)??fy,L=(d==null?void 0:d.desktopPaper)??kI,k=(d==null?void 0:d.popper)??MI,M=De({elementType:k,externalSlotProps:h==null?void 0:h.popper,additionalProps:{transition:!0,role:c,open:l,anchorEl:n,placement:u,onKeyDown:V},className:D.root,ownerState:e});return w.jsx(k,v({},M,{children:({TransitionProps:P,placement:A})=>w.jsx(R,v({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:c==="tooltip",isEnabled:()=>!0},h==null?void 0:h.desktopTrapFocus,{children:w.jsx($,v({},P,h==null?void 0:h.desktopTransition,{children:w.jsx($I,{PaperComponent:L,ownerState:I,popperPlacement:A,ref:E,onPaperClick:f,onPaperTouchStart:b,paperClasses:D.paper,paperSlotProps:h==null?void 0:h.desktopPaper,children:r})}))}))}))}const LI=({open:t,onOpen:e,onClose:n})=>{const r=y.useRef(typeof t=="boolean").current,[o,s]=y.useState(!1);y.useEffect(()=>{if(r){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(t)}},[r,t]);const i=y.useCallback(a=>{r||s(a),a&&e&&e(),!a&&n&&n()},[r,e,n]);return{isOpen:o,setIsOpen:i}},FI=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:o}=t,s=!o&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?s?!0:n(r.lastPublishedValue):!1},BI=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:o,closeOnSelect:s}=t,i=!o&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?i&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&s?i?!0:n(r.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&n(r.lastCommittedValue):!1},jI=t=>{const{action:e,closeOnSelect:n}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&n:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},UI=({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:o})=>{const{onAccept:s,onChange:i,value:a,defaultValue:l,closeOnSelect:c=r==="desktop",timezone:u}=t,{current:d}=y.useRef(l),{current:h}=y.useRef(a!==void 0),p=Be(),m=ir(),{isOpen:g,setIsOpen:f}=LI(t),[b,_]=y.useState(()=>{let z;return a!==void 0?z=a:d!==void 0?z=d:z=e.emptyValue,{draft:z,lastPublishedValue:z,lastCommittedValue:z,lastControlledValue:a,hasBeenModifiedSinceMount:!1}}),{timezone:T,handleValueChange:E}=nc({timezone:u,value:a,defaultValue:d,onChange:i,valueManager:e});Pp(v({},t,{value:b.draft,timezone:T}),o,e.isSameError,e.defaultErrorState);const I=le(z=>{const H={action:z,dateState:b,hasChanged:U=>!e.areValuesEqual(p,z.value,U),isControlled:h,closeOnSelect:c},ee=FI(H),oe=BI(H),j=jI(H);if(_(U=>v({},U,{draft:z.value,lastPublishedValue:ee?z.value:U.lastPublishedValue,lastCommittedValue:oe?z.value:U.lastCommittedValue,hasBeenModifiedSinceMount:!0})),ee){const Q={validationError:z.name==="setValueFromField"?z.context.validationError:o({adapter:m,value:z.value,props:v({},t,{value:z.value,timezone:T})})};z.name==="setValueFromShortcut"&&(Q.shortcut=z.shortcut),E(z.value,Q)}oe&&s&&s(z.value),j&&f(!1)});if(a!==void 0&&(b.lastControlledValue===void 0||!e.areValuesEqual(p,b.lastControlledValue,a))){const z=e.areValuesEqual(p,b.draft,a);_(H=>v({},H,{lastControlledValue:a},z?{}:{lastCommittedValue:a,lastPublishedValue:a,draft:a,hasBeenModifiedSinceMount:!0}))}const D=le(()=>{I({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),C=le(()=>{I({value:b.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),x=le(()=>{I({value:b.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),V=le(()=>{I({value:b.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),$=le(()=>{I({value:e.getTodayValue(p,T,n),name:"setValueFromAction",pickerAction:"today"})}),R=le(z=>{z.preventDefault(),f(!0)}),L=le(z=>{z==null||z.preventDefault(),f(!1)}),k=le((z,H="partial")=>I({name:"setValueFromView",value:z,selectionState:H})),M=le((z,H,ee)=>I({name:"setValueFromShortcut",value:z,changeImportance:H,shortcut:ee})),P=le((z,H)=>I({name:"setValueFromField",value:z,context:H})),A={onClear:D,onAccept:C,onDismiss:x,onCancel:V,onSetToday:$,onOpen:R,onClose:L},F={value:b.draft,onChange:P},S=y.useMemo(()=>e.cleanValue(p,b.draft),[p,e,b.draft]),O={value:S,onChange:k,onClose:L,open:g},J=v({},A,{value:S,onChange:k,onSelectShortcut:M,isValid:z=>{const H=o({adapter:m,value:z,props:v({},t,{value:z,timezone:T})});return!e.hasError(H)}});return{open:g,fieldProps:F,viewProps:O,layoutProps:J,actions:A}},zI=["className","sx"],WI=({props:t,propsFromPickerValue:e,additionalViewProps:n,autoFocusView:r,rendererInterceptor:o,fieldRef:s})=>{const{onChange:i,open:a,onClose:l}=e,{views:c,openTo:u,onViewChange:d,disableOpenPicker:h,viewRenderers:p,timezone:m}=t,g=se(t,zI),{view:f,setView:b,defaultView:_,focusedView:T,setFocusedView:E,setValueAndGoToNextView:I}=pp({view:void 0,views:c,openTo:u,onChange:i,onViewChange:d,autoFocus:r}),{hasUIView:D,viewModeLookup:C}=y.useMemo(()=>c.reduce((M,P)=>{let A;return h?A="field":p[P]!=null?A="UI":A="field",M.viewModeLookup[P]=A,A==="UI"&&(M.hasUIView=!0),M},{hasUIView:!1,viewModeLookup:{}}),[h,p,c]),x=y.useMemo(()=>c.reduce((M,P)=>p[P]!=null&&T0(P)?M+1:M,0),[p,c]),V=C[f],$=le(()=>V==="UI"),[R,L]=y.useState(V==="UI"?f:null);return R!==f&&C[f]==="UI"&&L(f),Yt(()=>{V==="field"&&a&&(l(),setTimeout(()=>{var M;(M=s==null?void 0:s.current)==null||M.focusField(f)}))},[f]),Yt(()=>{if(!a)return;let M=f;V==="field"&&R!=null&&(M=R),M!==_&&C[M]==="UI"&&C[_]==="UI"&&(M=_),M!==f&&b(M),E(M,!0)},[a]),{hasUIView:D,shouldRestoreFocus:$,layoutProps:{views:c,view:R,onViewChange:b},renderCurrentView:()=>{if(R==null)return null;const M=p[R];if(M==null)return null;const P=v({},g,n,e,{views:c,timezone:m,onChange:I,view:R,onViewChange:b,focusedView:T,onFocusedViewChange:E,showViewSwitcher:x>1,timeViewsCount:x});return o?o(p,R,P):M(P)}}};function cd(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const HI=(t,e)=>{const[n,r]=y.useState(cd);return Yt(()=>{const s=()=>{r(cd())};return window.addEventListener("orientationchange",s),()=>{window.removeEventListener("orientationchange",s)}},[]),oT(t,["hours","minutes","seconds"])?!1:(e||n)==="landscape"},qI=({props:t,propsFromPickerValue:e,propsFromPickerViews:n,wrapperVariant:r})=>{const{orientation:o}=t,s=HI(n.views,o);return{layoutProps:v({},n,e,{isLandscape:s,wrapperVariant:r,disabled:t.disabled,readOnly:t.readOnly})}};lp(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const Gp=({props:t,valueManager:e,valueType:n,wrapperVariant:r,additionalViewProps:o,validator:s,autoFocusView:i,rendererInterceptor:a,fieldRef:l})=>{const c=UI({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:s}),u=WI({props:t,additionalViewProps:o,autoFocusView:i,fieldRef:l,propsFromPickerValue:c.viewProps,rendererInterceptor:a}),d=qI({props:t,wrapperVariant:r,propsFromPickerValue:c.layoutProps,propsFromPickerViews:u.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:d.layoutProps}};function Qp(t){return Ie("MuiPickersLayout",t)}const po=Ee("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),YI=["onAccept","onClear","onCancel","onSetToday","actions"];function KI(t){const{onAccept:e,onClear:n,onCancel:r,onSetToday:o,actions:s}=t,i=se(t,YI),a=Tn();if(s==null||s.length===0)return null;const l=s==null?void 0:s.map(c=>{switch(c){case"clear":return w.jsx(yr,{onClick:n,children:a.clearButtonLabel},c);case"cancel":return w.jsx(yr,{onClick:r,children:a.cancelButtonLabel},c);case"accept":return w.jsx(yr,{onClick:e,children:a.okButtonLabel},c);case"today":return w.jsx(yr,{onClick:o,children:a.todayButtonLabel},c);default:return null}});return w.jsx(U_,v({},i,{children:l}))}const GI=["items","changeImportance","isLandscape","onChange","isValid"],QI=["getValue"];function XI(t){const{items:e,changeImportance:n="accept",onChange:r,isValid:o}=t,s=se(t,GI);if(e==null||e.length===0)return null;const i=e.map(a=>{let{getValue:l}=a,c=se(a,QI);const u=l({isValid:o});return{label:c.label,onClick:()=>{r(u,n,c)},disabled:!o(u)}});return w.jsx(vh,v({dense:!0,sx:[{maxHeight:Zl,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:i.map(a=>w.jsx(my,{children:w.jsx(v_,v({},a))},a.label))}))}function JI(t){return t.view!==null}const ZI=t=>{const{classes:e,isLandscape:n}=t;return we({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},Qp,e)},eC=t=>{const{wrapperVariant:e,onAccept:n,onClear:r,onCancel:o,onSetToday:s,view:i,views:a,onViewChange:l,value:c,onChange:u,onSelectShortcut:d,isValid:h,isLandscape:p,disabled:m,readOnly:g,children:f,slots:b,slotProps:_}=t,T=ZI(t),E=(b==null?void 0:b.actionBar)??KI,I=De({elementType:E,externalSlotProps:_==null?void 0:_.actionBar,additionalProps:{onAccept:n,onClear:r,onCancel:o,onSetToday:s,actions:e==="desktop"?[]:["cancel","accept"],className:T.actionBar},ownerState:v({},t,{wrapperVariant:e})}),D=w.jsx(E,v({},I)),C=b==null?void 0:b.toolbar,x=De({elementType:C,externalSlotProps:_==null?void 0:_.toolbar,additionalProps:{isLandscape:p,onChange:u,value:c,view:i,onViewChange:l,views:a,disabled:m,readOnly:g,className:T.toolbar},ownerState:v({},t,{wrapperVariant:e})}),V=JI(x)&&C?w.jsx(C,v({},x)):null,$=f,R=b==null?void 0:b.tabs,L=i&&R?w.jsx(R,v({view:i,onViewChange:l,className:T.tabs},_==null?void 0:_.tabs)):null,k=(b==null?void 0:b.shortcuts)??XI,M=De({elementType:k,externalSlotProps:_==null?void 0:_.shortcuts,additionalProps:{isValid:h,isLandscape:p,onChange:d,className:T.shortcuts},ownerState:{isValid:h,isLandscape:p,onChange:d,className:T.shortcuts,wrapperVariant:e}}),P=i&&k?w.jsx(k,v({},M)):null;return{toolbar:V,content:$,tabs:L,actionBar:D,shortcuts:P}},tC=t=>{const{isLandscape:e,classes:n}=t;return we({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},Qp,n)},Xp=Y("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${po.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${po.toolbar}`]:{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"},[`.${po.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!1},style:{[`& .${po.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${po.shortcuts}`]:{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"}}}]}));Xp.propTypes={as:B.elementType,ownerState:B.shape({isLandscape:B.bool.isRequired}).isRequired,sx:B.oneOfType([B.arrayOf(B.oneOfType([B.func,B.object,B.bool])),B.func,B.object])};const nC=Y("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Jp=function(e){const n=ge({props:e,name:"MuiPickersLayout"}),{toolbar:r,content:o,tabs:s,actionBar:i,shortcuts:a}=eC(n),{sx:l,className:c,isLandscape:u,ref:d,wrapperVariant:h}=n,p=n,m=tC(p);return w.jsxs(Xp,{ref:d,sx:l,className:de(c,m.root),ownerState:p,children:[u?a:r,u?r:a,w.jsx(nC,{className:m.contentWrapper,children:h==="desktop"?w.jsxs(y.Fragment,{children:[o,s]}):w.jsxs(y.Fragment,{children:[s,o]})}),i]})},rC=["props","getOpenDialogAriaText"],oC=["ownerState"],sC=["ownerState"],iC=t=>{var N;let{props:e,getOpenDialogAriaText:n}=t,r=se(t,rC);const{slots:o,slotProps:s,className:i,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,name:m,label:g,inputRef:f,readOnly:b,disabled:_,autoFocus:T,localeText:E,reduceAnimations:I}=e,D=Be(),C=y.useRef(null),x=y.useRef(null),V=wn(),$=((N=s==null?void 0:s.toolbar)==null?void 0:N.hidden)??!1,{open:R,actions:L,hasUIView:k,layoutProps:M,renderCurrentView:P,shouldRestoreFocus:A,fieldProps:F}=Gp(v({},r,{props:e,fieldRef:x,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),S=o.inputAdornment??Gh,O=De({elementType:S,externalSlotProps:s==null?void 0:s.inputAdornment,additionalProps:{position:"end"},ownerState:e}),W=se(O,oC),J=o.openPickerButton??zr,z=De({elementType:J,externalSlotProps:s==null?void 0:s.openPickerButton,additionalProps:{disabled:_||b,onClick:R?L.onClose:L.onOpen,"aria-label":n(F.value,D),edge:W.position},ownerState:e}),H=se(z,sC),ee=o.openPickerIcon,oe=o.field,j=De({elementType:oe,externalSlotProps:s==null?void 0:s.field,additionalProps:v({},F,$&&{id:V},{readOnly:b,disabled:_,className:i,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,label:g,name:m,autoFocus:T&&!e.open,focused:R?!0:void 0},f?{inputRef:f}:{}),ownerState:e});k&&(j.InputProps=v({},j.InputProps,{ref:C,[`${W.position}Adornment`]:w.jsx(S,v({},W,{children:w.jsx(J,v({},H,{children:w.jsx(ee,v({},s==null?void 0:s.openPickerIcon))}))}))}));const U=v({textField:o.textField,clearIcon:o.clearIcon,clearButton:o.clearButton},j.slots),Q=o.layout??Jp;let ne=V;$&&(g?ne=`${V}-label`:ne=void 0);const q=v({},s,{toolbar:v({},s==null?void 0:s.toolbar,{titleId:V}),popper:v({"aria-labelledby":ne},s==null?void 0:s.popper)}),re=Ge(x,j.unstableFieldRef);return{renderPicker:()=>w.jsxs(os,{localeText:E,children:[w.jsx(oe,v({},j,{slots:U,slotProps:q,unstableFieldRef:re})),w.jsx(NI,v({role:"dialog",placement:"bottom-start",anchorEl:C.current},L,{open:R,slots:o,slotProps:q,shouldRestoreFocus:A,reduceAnimations:I,children:w.jsx(Q,v({},M,q==null?void 0:q.layout,{slots:o,slotProps:q,children:P()}))}))]})}},Tr=({view:t,onViewChange:e,views:n,focusedView:r,onFocusedViewChange:o,value:s,defaultValue:i,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:p,maxDate:m,shouldDisableDate:g,shouldDisableMonth:f,shouldDisableYear:b,reduceAnimations:_,onMonthChange:T,monthsPerRow:E,onYearChange:I,yearsPerRow:D,slots:C,slotProps:x,loading:V,renderLoading:$,disableHighlightToday:R,readOnly:L,disabled:k,showDaysOutsideCurrentMonth:M,dayOfWeekFormatter:P,sx:A,autoFocus:F,fixedWeekNumber:S,displayWeekNumber:O,timezone:W})=>w.jsx(Yp,{view:t,onViewChange:e,views:n.filter(Ju),focusedView:r&&Ju(r)?r:null,onFocusedViewChange:o,value:s,defaultValue:i,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:h,minDate:p,maxDate:m,shouldDisableDate:g,shouldDisableMonth:f,shouldDisableYear:b,reduceAnimations:_,onMonthChange:T,monthsPerRow:E,onYearChange:I,yearsPerRow:D,slots:C,slotProps:x,loading:V,renderLoading:$,disableHighlightToday:R,readOnly:L,disabled:k,showDaysOutsideCurrentMonth:M,dayOfWeekFormatter:P,sx:A,autoFocus:F,fixedWeekNumber:S,displayWeekNumber:O,timezone:W}),Zp=y.forwardRef(function(e,n){var c,u;const r=Tn(),o=Be(),s=Kp(e,"MuiDesktopDatePicker"),i=v({day:Tr,month:Tr,year:Tr},s.viewRenderers),a=v({},s,{viewRenderers:i,format:tc(o,s,!1),yearsPerRow:s.yearsPerRow??4,slots:v({openPickerIcon:u0,field:Up},s.slots),slotProps:v({},s.slotProps,{field:d=>{var h;return v({},Th((h=s.slotProps)==null?void 0:h.field,d),Rp(s),{ref:n})},toolbar:v({hidden:!0},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=iC({props:a,valueManager:yn,valueType:"date",getOpenDialogAriaText:((u=a.localeText)==null?void 0:u.openDatePickerDialogue)??r.openDatePickerDialogue,validator:Mi});return l()});Zp.propTypes={autoFocus:B.bool,className:B.string,closeOnSelect:B.bool,dayOfWeekFormatter:B.func,defaultValue:B.object,disabled:B.bool,disableFuture:B.bool,disableHighlightToday:B.bool,disableOpenPicker:B.bool,disablePast:B.bool,displayWeekNumber:B.bool,enableAccessibleFieldDOMStructure:B.any,fixedWeekNumber:B.number,format:B.string,formatDensity:B.oneOf(["dense","spacious"]),inputRef:Mh,label:B.node,loading:B.bool,localeText:B.object,maxDate:B.object,minDate:B.object,monthsPerRow:B.oneOf([3,4]),name:B.string,onAccept:B.func,onChange:B.func,onClose:B.func,onError:B.func,onMonthChange:B.func,onOpen:B.func,onSelectedSectionsChange:B.func,onViewChange:B.func,onYearChange:B.func,open:B.bool,openTo:B.oneOf(["day","month","year"]),orientation:B.oneOf(["landscape","portrait"]),readOnly:B.bool,reduceAnimations:B.bool,referenceDate:B.object,renderLoading:B.func,selectedSections:B.oneOfType([B.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),B.number]),shouldDisableDate:B.func,shouldDisableMonth:B.func,shouldDisableYear:B.func,showDaysOutsideCurrentMonth:B.bool,slotProps:B.object,slots:B.object,sx:B.oneOfType([B.arrayOf(B.oneOfType([B.func,B.object,B.bool])),B.func,B.object]),timezone:B.string,value:B.object,view:B.oneOf(["day","month","year"]),viewRenderers:B.shape({day:B.func,month:B.func,year:B.func}),views:B.arrayOf(B.oneOf(["day","month","year"]).isRequired),yearsPerRow:B.oneOf([3,4])};const aC=Y(N_)({[`& .${Io.container}`]:{outline:0},[`& .${Io.paper}`]:{outline:0,minWidth:Ri}}),lC=Y(K_)({"&:first-of-type":{padding:0}});function cC(t){const{children:e,onDismiss:n,open:r,slots:o,slotProps:s}=t,i=(o==null?void 0:o.dialog)??aC,a=(o==null?void 0:o.mobileTransition)??es;return w.jsx(i,v({open:r,onClose:n},s==null?void 0:s.dialog,{TransitionComponent:a,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:o==null?void 0:o.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:w.jsx(lC,{children:e})}))}const uC=["props","getOpenDialogAriaText"],dC=t=>{var J;let{props:e,getOpenDialogAriaText:n}=t,r=se(t,uC);const{slots:o,slotProps:s,className:i,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,name:m,label:g,inputRef:f,readOnly:b,disabled:_,localeText:T}=e,E=Be(),I=y.useRef(null),D=wn(),C=((J=s==null?void 0:s.toolbar)==null?void 0:J.hidden)??!1,{open:x,actions:V,layoutProps:$,renderCurrentView:R,fieldProps:L}=Gp(v({},r,{props:e,fieldRef:I,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),k=o.field,M=De({elementType:k,externalSlotProps:s==null?void 0:s.field,additionalProps:v({},L,C&&{id:D},!(_||b)&&{onClick:V.onOpen,onKeyDown:sT(V.onOpen)},{readOnly:b??!0,disabled:_,className:i,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:h,timezone:p,label:g,name:m},f?{inputRef:f}:{}),ownerState:e});M.inputProps=v({},M.inputProps,{"aria-label":n(L.value,E)});const P=v({textField:o.textField},M.slots),A=o.layout??Jp;let F=D;C&&(g?F=`${D}-label`:F=void 0);const S=v({},s,{toolbar:v({},s==null?void 0:s.toolbar,{titleId:D}),mobilePaper:v({"aria-labelledby":F},s==null?void 0:s.mobilePaper)}),O=Ge(I,M.unstableFieldRef);return{renderPicker:()=>w.jsxs(os,{localeText:T,children:[w.jsx(k,v({},M,{slots:P,slotProps:S,unstableFieldRef:O})),w.jsx(cC,v({},V,{open:x,slots:o,slotProps:S,children:w.jsx(A,v({},$,S==null?void 0:S.layout,{slots:o,slotProps:S,children:R()}))}))]})}},ef=y.forwardRef(function(e,n){var c,u;const r=Tn(),o=Be(),s=Kp(e,"MuiMobileDatePicker"),i=v({day:Tr,month:Tr,year:Tr},s.viewRenderers),a=v({},s,{viewRenderers:i,format:tc(o,s,!1),slots:v({field:Up},s.slots),slotProps:v({},s.slotProps,{field:d=>{var h;return v({},Th((h=s.slotProps)==null?void 0:h.field,d),Rp(s),{ref:n})},toolbar:v({hidden:!1},(c=s.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=dC({props:a,valueManager:yn,valueType:"date",getOpenDialogAriaText:((u=a.localeText)==null?void 0:u.openDatePickerDialogue)??r.openDatePickerDialogue,validator:Mi});return l()});ef.propTypes={autoFocus:B.bool,className:B.string,closeOnSelect:B.bool,dayOfWeekFormatter:B.func,defaultValue:B.object,disabled:B.bool,disableFuture:B.bool,disableHighlightToday:B.bool,disableOpenPicker:B.bool,disablePast:B.bool,displayWeekNumber:B.bool,enableAccessibleFieldDOMStructure:B.any,fixedWeekNumber:B.number,format:B.string,formatDensity:B.oneOf(["dense","spacious"]),inputRef:Mh,label:B.node,loading:B.bool,localeText:B.object,maxDate:B.object,minDate:B.object,monthsPerRow:B.oneOf([3,4]),name:B.string,onAccept:B.func,onChange:B.func,onClose:B.func,onError:B.func,onMonthChange:B.func,onOpen:B.func,onSelectedSectionsChange:B.func,onViewChange:B.func,onYearChange:B.func,open:B.bool,openTo:B.oneOf(["day","month","year"]),orientation:B.oneOf(["landscape","portrait"]),readOnly:B.bool,reduceAnimations:B.bool,referenceDate:B.object,renderLoading:B.func,selectedSections:B.oneOfType([B.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),B.number]),shouldDisableDate:B.func,shouldDisableMonth:B.func,shouldDisableYear:B.func,showDaysOutsideCurrentMonth:B.bool,slotProps:B.object,slots:B.object,sx:B.oneOfType([B.arrayOf(B.oneOfType([B.func,B.object,B.bool])),B.func,B.object]),timezone:B.string,value:B.object,view:B.oneOf(["day","month","year"]),viewRenderers:B.shape({day:B.func,month:B.func,year:B.func}),views:B.arrayOf(B.oneOf(["day","month","year"]).isRequired),yearsPerRow:B.oneOf([3,4])};const hC=["desktopModeMediaQuery"],pC=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:o=iT}=r,s=se(r,hC);return Ol(o,{defaultMatches:!0})?w.jsx(Zp,v({ref:n},s)):w.jsx(ef,v({ref:n},s))});var lc={},fC=yy;Object.defineProperty(lc,"__esModule",{value:!0});var tf=lc.default=void 0,mC=fC(gy()),gC=w;tf=lc.default=(0,mC.default)((0,gC.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School");var yC={exports:{}};(function(t,e){(function(n,r){t.exports=r(np())})(sr,function(n){function r(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var o=r(n),s="___________".split("_"),i="___________".split("_"),a=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function l(d,h,p){var m,g;return p==="m"?h?"":"":p==="h"?h?"":"":d+" "+(m=+d,g={ss:h?"__":"__",mm:h?"__":"__",hh:h?"__":"__",dd:"__",MM:"__",yy:"__"}[p].split("_"),m%10==1&&m%100!=11?g[0]:m%10>=2&&m%10<=4&&(m%100<10||m%100>=20)?g[1]:g[2])}var c=function(d,h){return a.test(h)?s[d.month()]:i[d.month()]};c.s=i,c.f=s;var u={name:"uk",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:c,monthsShort:"___________".split("_"),weekStart:1,relativeTime:{future:" %s",past:"%s ",s:" ",m:l,mm:l,h:l,hh:l,d:"",dd:l,M:"",MM:l,y:"",yy:l},ordinal:function(d){return d},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"}};return o.default.locale(u,null,!0),u})})(yC);const ud={hours:"",minutes:"",seconds:"",meridiem:""},vC={previousMonth:" ",nextMonth:" ",openPreviousView:"  ",openNextView:"  ",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"  ,    ":"  ,    ",start:"",end:"",startDate:" ",startTime:" ",endDate:" ",endTime:" ",cancelButtonLabel:"",clearButtonLabel:"",okButtonLabel:"OK",todayButtonLabel:"",datePickerToolbarTitle:" ",dateTimePickerToolbarTitle:"   ",timePickerToolbarTitle:" ",dateRangePickerToolbarTitle:"  ",clockLabelText:(t,e,n)=>` ${ud[t]}. ${e===null?"  ":`  ${n.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} `,minutesClockNumberText:t=>`${t} `,secondsClockNumberText:t=>`${t} `,selectViewText:t=>` ${ud[t]}`,calendarWeekNumberHeaderLabel:" ",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>` ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?` ,    ${e.format(t,"fullDate")}`:" ",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?` ,    ${e.format(t,"fullTime")}`:" ",fieldClearLabel:" ",timeTableLabel:" ",dateTableLabel:" ",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"",month:"",day:"",weekDay:" ",hours:"",minutes:"",seconds:"",meridiem:"",empty:""},nf=cp(vC);function rf({actualSchedule:t}){const{language:e}=y.useContext($n),n=Qt(),r=({day:o})=>{const s=o.$d.toLocaleDateString();return t==null?void 0:t.filter(({date:i})=>s===i)};return w.jsx(os,{dateAdapter:Jl,localeText:e==="ua"?nf.components.MuiLocalizationProvider.defaultProps.localeText:dp.components.MuiLocalizationProvider.defaultProps.localeText,adapterLocale:e==="ua"?"uk":"en",children:w.jsx(Br,{sx:{padding:2,boxShadow:"1px 1px 10px 1px rgba(0,0,0,0.05)"},children:w.jsx(Yp,{sx:{width:"100%",maxWidth:320},slots:{day:o=>{var i,a,l;const s=r(o);return w.jsx(aw,{title:((i=s[0])==null?void 0:i.location)&&w.jsxs("div",{children:[w.jsx(Kt,{variant:"subtitle2",textAlign:"center",children:(a=s[0])==null?void 0:a.location}),w.jsx(Kt,{variant:"subtitle2",textAlign:"center",children:(l=s[0])==null?void 0:l.time})]}),placement:"top-end",children:w.jsx(S_,{overlap:"circular",badgeContent:s.length>0&&w.jsx(tf,{fontSize:"small",sx:{color:n.palette.success.main}}),children:w.jsx(xp,{...o,sx:{border:o.today?`solid 2px ${n.palette.info.main} !important`:s.length>0&&`solid 2px ${n.palette.success.main}`}})})})}}},e)})})}rf.propTypes={today:B.bool,actualSchedule:B.array};var dd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_C=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=t[n++];e[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=t[n++],i=t[n++],a=t[n++],l=((o&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],i=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|i&63)}}return e.join("")},sf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const s=t[o],i=o+1<t.length,a=i?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,i||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(of(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_C(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const s=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const d=o<t.length?n[t.charAt(o)]:64;if(++o,s==null||a==null||c==null||d==null)throw new bC;const h=s<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wC=function(t){const e=of(t);return sf.encodeByteArray(e,!0)},Ks=function(t){return wC(t).replace(/\./g,"")},TC=function(t){try{return sf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=()=>EC().__FIREBASE_DEFAULTS__,CC=()=>{if(typeof process>"u"||typeof dd>"u")return;const t=dd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TC(t[1]);return e&&JSON.parse(e)},cc=()=>{try{return IC()||CC()||xC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PC=t=>{var e,n;return(n=(e=cc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},SC=t=>{const e=PC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},af=()=>{var t;return(t=cc())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ks(JSON.stringify(n)),Ks(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MC(){var t;const e=(t=cc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kC(){return!MC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VC(){try{return typeof indexedDB=="object"}catch{return!1}}function OC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;e(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$C,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lf.prototype.create)}}class lf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,s=this.errors[e],i=s?NC(s,r):"Error",a=`${this.serviceName}: ${i} (${o}).`;return new qr(o,a,r)}}function NC(t,e){return t.replace(LC,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const LC=/\{\$([^}]+)}/g;function Za(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const s=t[o],i=e[o];if(hd(s)&&hd(i)){if(!Za(s,i))return!1}else if(s!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function hd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){return t&&t._delegate?t._delegate:t}class $o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jC(e))try{this.getOrInitializeService({instanceIdentifier:Hn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch{}}}}clearInstance(e=Hn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hn){return this.instances.has(e)}getOptions(e=Hn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&i.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(o,s);const i=this.instances.get(o);return i&&e(i,o),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hn){return this.component?this.component.multipleInstances?e:Hn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BC(t){return t===Hn?void 0:t}function jC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const zC={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},WC=Re.INFO,HC={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},qC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=HC[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cf{constructor(e){this.name=e,this._logLevel=WC,this._logHandler=qC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const YC=(t,e)=>e.some(n=>t instanceof n);let pd,fd;function KC(){return pd||(pd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GC(){return fd||(fd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uf=new WeakMap,el=new WeakMap,df=new WeakMap,Ca=new WeakMap,uc=new WeakMap;function QC(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{n(Sn(t.result)),o()},i=()=>{r(t.error),o()};t.addEventListener("success",s),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&uf.set(n,t)}).catch(()=>{}),uc.set(e,t),e}function XC(t){if(el.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{n(),o()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});el.set(t,e)}let tl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return el.get(t);if(e==="objectStoreNames")return t.objectStoreNames||df.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JC(t){tl=t(tl)}function ZC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xa(this),e,...n);return df.set(r,e.sort?e.sort():[e]),Sn(r)}:GC().includes(t)?function(...e){return t.apply(xa(this),e),Sn(uf.get(this))}:function(...e){return Sn(t.apply(xa(this),e))}}function ex(t){return typeof t=="function"?ZC(t):(t instanceof IDBTransaction&&XC(t),YC(t,KC())?new Proxy(t,tl):t)}function Sn(t){if(t instanceof IDBRequest)return QC(t);if(Ca.has(t))return Ca.get(t);const e=ex(t);return e!==t&&(Ca.set(t,e),uc.set(e,t)),e}const xa=t=>uc.get(t);function tx(t,e,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const i=indexedDB.open(t,e),a=Sn(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Sn(i.result),l.oldVersion,l.newVersion,Sn(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const nx=["get","getKey","getAll","getAllKeys","count"],rx=["put","add","delete","clear"],Pa=new Map;function md(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pa.get(e))return Pa.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=rx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||nx.includes(n)))return;const s=async function(i,...a){const l=this.transaction(i,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return Pa.set(e,s),s}JC(t=>({...t,get:(e,n,r)=>md(e,n)||t.get(e,n,r),has:(e,n)=>!!md(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nl="@firebase/app",gd="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new cf("@firebase/app"),ix="@firebase/app-compat",ax="@firebase/analytics-compat",lx="@firebase/analytics",cx="@firebase/app-check-compat",ux="@firebase/app-check",dx="@firebase/auth",hx="@firebase/auth-compat",px="@firebase/database",fx="@firebase/database-compat",mx="@firebase/functions",gx="@firebase/functions-compat",yx="@firebase/installations",vx="@firebase/installations-compat",_x="@firebase/messaging",bx="@firebase/messaging-compat",wx="@firebase/performance",Tx="@firebase/performance-compat",Ex="@firebase/remote-config",Ix="@firebase/remote-config-compat",Cx="@firebase/storage",xx="@firebase/storage-compat",Px="@firebase/firestore",Sx="@firebase/firestore-compat",Dx="firebase",Rx="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="[DEFAULT]",Ax={[nl]:"fire-core",[ix]:"fire-core-compat",[lx]:"fire-analytics",[ax]:"fire-analytics-compat",[ux]:"fire-app-check",[cx]:"fire-app-check-compat",[dx]:"fire-auth",[hx]:"fire-auth-compat",[px]:"fire-rtdb",[fx]:"fire-rtdb-compat",[mx]:"fire-fn",[gx]:"fire-fn-compat",[yx]:"fire-iid",[vx]:"fire-iid-compat",[_x]:"fire-fcm",[bx]:"fire-fcm-compat",[wx]:"fire-perf",[Tx]:"fire-perf-compat",[Ex]:"fire-rc",[Ix]:"fire-rc-compat",[Cx]:"fire-gcs",[xx]:"fire-gcs-compat",[Px]:"fire-fst",[Sx]:"fire-fst-compat","fire-js":"fire-js",[Dx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Map,Mx=new Map,ol=new Map;function yd(t,e){try{t.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qs(t){const e=t.name;if(ol.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;ol.set(e,t);for(const n of Gs.values())yd(n,t);for(const n of Mx.values())yd(n,t);return!0}function kx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dn=new lf("app","Firebase",Vx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=Rx;function hf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rl,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Dn.create("bad-app-name",{appName:String(o)});if(n||(n=af()),!n)throw Dn.create("no-options");const s=Gs.get(o);if(s){if(Za(n,s.options)&&Za(r,s.config))return s;throw Dn.create("duplicate-app",{appName:o})}const i=new UC(o);for(const l of ol.values())i.addComponent(l);const a=new Ox(n,r,i);return Gs.set(o,a),a}function Nx(t=rl){const e=Gs.get(t);if(!e&&t===rl&&af())return hf();if(!e)throw Dn.create("no-app",{appName:t});return e}function Er(t,e,n){var r;let o=(r=Ax[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${o}" with version "${e}":`];s&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(a.join(" "));return}Qs(new $o(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="firebase-heartbeat-database",Fx=1,No="firebase-heartbeat-store";let Sa=null;function pf(){return Sa||(Sa=tx(Lx,Fx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(No)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dn.create("idb-open",{originalErrorMessage:t.message})})),Sa}async function Bx(t){try{const n=(await pf()).transaction(No),r=await n.objectStore(No).get(ff(t));return await n.done,r}catch(e){if(e instanceof qr)er.warn(e.message);else{const n=Dn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(n.message)}}}async function vd(t,e){try{const r=(await pf()).transaction(No,"readwrite");await r.objectStore(No).put(e,ff(t)),await r.done}catch(n){if(n instanceof qr)er.warn(n.message);else{const r=Dn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});er.warn(r.message)}}}function ff(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=1024,Ux=30*24*60*60*1e3;class zx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_d();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=Ux}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_d(),{heartbeatsToSend:r,unsentEntries:o}=Wx(this._heartbeatsCache.heartbeats),s=Ks(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function _d(){return new Date().toISOString().substring(0,10)}function Wx(t,e=jx){const n=[];let r=t.slice();for(const o of t){const s=n.find(i=>i.agent===o.agent);if(s){if(s.dates.push(o.date),bd(n)>e){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),bd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VC()?OC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return vd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return vd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function bd(t){return Ks(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){Qs(new $o("platform-logger",e=>new ox(e),"PRIVATE")),Qs(new $o("heartbeat",e=>new zx(e),"PRIVATE")),Er(nl,gd,t),Er(nl,gd,"esm2017"),Er("fire-js","")}qx("");var Yx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie,dc=dc||{},_e=Yx||self;function Vi(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Oi(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Kx(t){return Object.prototype.hasOwnProperty.call(t,Da)&&t[Da]||(t[Da]=++Gx)}var Da="closure_uid_"+(1e9*Math.random()>>>0),Gx=0;function Qx(t,e,n){return t.call.apply(t.bind,arguments)}function Xx(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function mt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?mt=Qx:mt=Xx,mt.apply(null,arguments)}function xs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function it(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,o,s){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return e.prototype[o].apply(r,i)}}function Ln(){this.s=this.s,this.o=this.o}var Jx=0;Ln.prototype.s=!1;Ln.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Jx!=0)&&Kx(this)};Ln.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mf=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function hc(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function wd(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Vi(r)){const o=t.length||0,s=r.length||0;t.length=o+s;for(let i=0;i<s;i++)t[o+i]=r[i]}else t.push(r)}}function gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var Zx=function(){if(!_e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};_e.addEventListener("test",n,e),_e.removeEventListener("test",n,e)}catch{}return t}();function Lo(t){return/^[\s\xa0]*$/.test(t)}function $i(){var t=_e.navigator;return t&&(t=t.userAgent)?t:""}function Zt(t){return $i().indexOf(t)!=-1}function pc(t){return pc[" "](t),t}pc[" "]=function(){};function eP(t,e){var n=YP;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var tP=Zt("Opera"),Mr=Zt("Trident")||Zt("MSIE"),gf=Zt("Edge"),sl=gf||Mr,yf=Zt("Gecko")&&!($i().toLowerCase().indexOf("webkit")!=-1&&!Zt("Edge"))&&!(Zt("Trident")||Zt("MSIE"))&&!Zt("Edge"),nP=$i().toLowerCase().indexOf("webkit")!=-1&&!Zt("Edge");function vf(){var t=_e.document;return t?t.documentMode:void 0}var il;e:{var Ra="",Aa=function(){var t=$i();if(yf)return/rv:([^\);]+)(\)|;)/.exec(t);if(gf)return/Edge\/([\d\.]+)/.exec(t);if(Mr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(nP)return/WebKit\/(\S+)/.exec(t);if(tP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Aa&&(Ra=Aa?Aa[1]:""),Mr){var Ma=vf();if(Ma!=null&&Ma>parseFloat(Ra)){il=String(Ma);break e}}il=Ra}var al;if(_e.document&&Mr){var Td=vf();al=Td||parseInt(il,10)||void 0}else al=void 0;var rP=al;function Fo(t,e){if(gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(yf){e:{try{pc(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:oP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Fo.$.h.call(this)}}it(Fo,gt);var oP={2:"touch",3:"pen",4:"mouse"};Fo.prototype.h=function(){Fo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ni="closure_listenable_"+(1e6*Math.random()|0),sP=0;function iP(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=o,this.key=++sP,this.fa=this.ia=!1}function Li(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function fc(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function aP(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function _f(t){const e={};for(const n in t)e[n]=t[n];return e}const Ed="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bf(t,e){let n,r;for(let o=1;o<arguments.length;o++){r=arguments[o];for(n in r)t[n]=r[n];for(let s=0;s<Ed.length;s++)n=Ed[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fi(t){this.src=t,this.g={},this.h=0}Fi.prototype.add=function(t,e,n,r,o){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var i=cl(t,e,r,o);return-1<i?(e=t[i],n||(e.ia=!1)):(e=new iP(e,this.src,s,!!r,o),e.ia=n,t.push(e)),e};function ll(t,e){var n=e.type;if(n in t.g){var r=t.g[n],o=mf(r,e),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(Li(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function cl(t,e,n,r){for(var o=0;o<t.length;++o){var s=t[o];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return o}return-1}var mc="closure_lm_"+(1e6*Math.random()|0),ka={};function wf(t,e,n,r,o){if(Array.isArray(e)){for(var s=0;s<e.length;s++)wf(t,e[s],n,r,o);return null}return n=If(n),t&&t[Ni]?t.O(e,n,Oi(r)?!!r.capture:!!r,o):lP(t,e,n,!1,r,o)}function lP(t,e,n,r,o,s){if(!e)throw Error("Invalid event type");var i=Oi(o)?!!o.capture:!!o,a=yc(t);if(a||(t[mc]=a=new Fi(t)),n=a.add(e,n,r,i,s),n.proxy)return n;if(r=cP(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Zx||(o=i),o===void 0&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(Ef(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cP(){function t(n){return e.call(t.src,t.listener,n)}const e=uP;return t}function Tf(t,e,n,r,o){if(Array.isArray(e))for(var s=0;s<e.length;s++)Tf(t,e[s],n,r,o);else r=Oi(r)?!!r.capture:!!r,n=If(n),t&&t[Ni]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=cl(s,n,r,o),-1<n&&(Li(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=yc(t))&&(e=t.g[e.toString()],t=-1,e&&(t=cl(e,n,r,o)),(n=-1<t?e[t]:null)&&gc(n))}function gc(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ni])ll(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ef(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yc(e))?(ll(n,t),n.h==0&&(n.src=null,e[mc]=null)):Li(t)}}}function Ef(t){return t in ka?ka[t]:ka[t]="on"+t}function uP(t,e){if(t.fa)t=!0;else{e=new Fo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&gc(t),t=n.call(r,e)}return t}function yc(t){return t=t[mc],t instanceof Fi?t:null}var Va="__closure_events_fn_"+(1e9*Math.random()>>>0);function If(t){return typeof t=="function"?t:(t[Va]||(t[Va]=function(e){return t.handleEvent(e)}),t[Va])}function st(){Ln.call(this),this.i=new Fi(this),this.S=this,this.J=null}it(st,Ln);st.prototype[Ni]=!0;st.prototype.removeEventListener=function(t,e,n,r){Tf(this,t,e,n,r)};function ut(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new gt(e,t);else if(e instanceof gt)e.target=e.target||t;else{var o=e;e=new gt(r,t),bf(e,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var i=e.g=n[s];o=Ps(i,r,!0,e)&&o}if(i=e.g=t,o=Ps(i,r,!0,e)&&o,o=Ps(i,r,!1,e)&&o,n)for(s=0;s<n.length;s++)i=e.g=n[s],o=Ps(i,r,!1,e)&&o}st.prototype.N=function(){if(st.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Li(n[r]);delete t.g[e],t.h--}}this.J=null};st.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};st.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ps(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,s=0;s<e.length;++s){var i=e[s];if(i&&!i.fa&&i.capture==n){var a=i.listener,l=i.la||i.src;i.ia&&ll(t.i,i),o=a.call(l,r)!==!1&&o}}return o&&!r.defaultPrevented}var vc=_e.JSON.stringify;class dP{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function hP(){var t=_c;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class pP{constructor(){this.h=this.g=null}add(e,n){const r=Cf.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Cf=new dP(()=>new fP,t=>t.reset());class fP{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function mP(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function gP(t){_e.setTimeout(()=>{throw t},0)}let Bo,jo=!1,_c=new pP,xf=()=>{const t=_e.Promise.resolve(void 0);Bo=()=>{t.then(yP)}};var yP=()=>{for(var t;t=hP();){try{t.h.call(t.g)}catch(n){gP(n)}var e=Cf;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}jo=!1};function Bi(t,e){st.call(this),this.h=t||1,this.g=e||_e,this.j=mt(this.qb,this),this.l=Date.now()}it(Bi,st);ie=Bi.prototype;ie.ga=!1;ie.T=null;ie.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ut(this,"tick"),this.ga&&(bc(this),this.start()))}};ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function bc(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ie.N=function(){Bi.$.N.call(this),bc(this),delete this.g};function wc(t,e,n){if(typeof t=="function")n&&(t=mt(t,n));else if(t&&typeof t.handleEvent=="function")t=mt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:_e.setTimeout(t,e||0)}function Pf(t){t.g=wc(()=>{t.g=null,t.i&&(t.i=!1,Pf(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class vP extends Ln{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pf(this)}N(){super.N(),this.g&&(_e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uo(t){Ln.call(this),this.h=t,this.g={}}it(Uo,Ln);var Id=[];function Sf(t,e,n,r){Array.isArray(n)||(n&&(Id[0]=n.toString()),n=Id);for(var o=0;o<n.length;o++){var s=wf(e,n[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Df(t){fc(t.g,function(e,n){this.g.hasOwnProperty(n)&&gc(e)},t),t.g={}}Uo.prototype.N=function(){Uo.$.N.call(this),Df(this)};Uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ji(){this.g=!0}ji.prototype.Ea=function(){this.g=!1};function _P(t,e,n,r,o,s){t.info(function(){if(t.g)if(s)for(var i="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");i=2<=d.length&&d[1]=="type"?i+(u+"="+c+"&"):i+(u+"=redacted&")}}else i=null;else i=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+`
`+n+`
`+i})}function bP(t,e,n,r,o,s,i){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+`
`+n+`
`+s+" "+i})}function _r(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+TP(t,n)+(r?" "+r:"")})}function wP(t,e){t.info(function(){return"TIMEOUT: "+e})}ji.prototype.info=function(){};function TP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var i=1;i<o.length;i++)o[i]=""}}}}return vc(n)}catch{return e}}var ar={},Cd=null;function Ui(){return Cd=Cd||new st}ar.Ta="serverreachability";function Rf(t){gt.call(this,ar.Ta,t)}it(Rf,gt);function zo(t){const e=Ui();ut(e,new Rf(e))}ar.STAT_EVENT="statevent";function Af(t,e){gt.call(this,ar.STAT_EVENT,t),this.stat=e}it(Af,gt);function wt(t){const e=Ui();ut(e,new Af(e,t))}ar.Ua="timingevent";function Mf(t,e){gt.call(this,ar.Ua,t),this.size=e}it(Mf,gt);function is(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return _e.setTimeout(function(){t()},e)}var zi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},kf={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Tc(){}Tc.prototype.h=null;function xd(t){return t.h||(t.h=t.i())}function Vf(){}var as={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ec(){gt.call(this,"d")}it(Ec,gt);function Ic(){gt.call(this,"c")}it(Ic,gt);var ul;function Wi(){}it(Wi,Tc);Wi.prototype.g=function(){return new XMLHttpRequest};Wi.prototype.i=function(){return{}};ul=new Wi;function ls(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Uo(this),this.P=EP,t=sl?125:void 0,this.V=new Bi(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Of}function Of(){this.i=null,this.g="",this.h=!1}var EP=45e3,$f={},dl={};ie=ls.prototype;ie.setTimeout=function(t){this.P=t};function hl(t,e,n){t.L=1,t.A=qi(vn(e)),t.u=n,t.S=!0,Nf(t,null)}function Nf(t,e){t.G=Date.now(),cs(t),t.B=vn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),Hf(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Of,t.g=hm(t.l,n?e:null,!t.u),0<t.O&&(t.M=new vP(mt(t.Pa,t,t.g),t.O)),Sf(t.U,t.g,"readystatechange",t.nb),e=t.I?_f(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),zo(),_P(t.j,t.v,t.B,t.m,t.W,t.u)}ie.nb=function(t){t=t.target;const e=this.M;e&&en(t)==3?e.l():this.Pa(t)};ie.Pa=function(t){try{if(t==this.g)e:{const u=en(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||sl||this.g&&(this.h.h||this.g.ja()||Rd(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?zo(3):zo(2)),Hi(this);var n=this.g.da();this.ca=n;t:if(Lf(this)){var r=Rd(this.g);t="";var o=r.length,s=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),xo(this);var i="";break t}this.h.i=new _e.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==o-1});r.length=0,this.h.g+=t,this.o=0,i=this.h.g}else i=this.g.ja();if(this.i=n==200,bP(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lo(a)){var c=a;break t}}c=null}if(n=c)_r(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pl(this,n);else{this.i=!1,this.s=3,wt(12),qn(this),xo(this);break e}}this.S?(Ff(this,u,i),sl&&this.i&&u==3&&(Sf(this.U,this.V,"tick",this.mb),this.V.start())):(_r(this.j,this.m,i,null),pl(this,i)),u==4&&qn(this),this.i&&!this.J&&(u==4?lm(this.l,this):(this.i=!1,cs(this)))}else WP(this.g),n==400&&0<i.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),qn(this),xo(this)}}}catch{}finally{}};function Lf(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Ff(t,e,n){let r=!0,o;for(;!t.J&&t.o<n.length;)if(o=IP(t,n),o==dl){e==4&&(t.s=4,wt(14),r=!1),_r(t.j,t.m,null,"[Incomplete Response]");break}else if(o==$f){t.s=4,wt(15),_r(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else _r(t.j,t.m,o,null),pl(t,o);Lf(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,wt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rc(e),e.M=!0,wt(11))):(_r(t.j,t.m,n,"[Invalid Chunked Response]"),qn(t),xo(t))}ie.mb=function(){if(this.g){var t=en(this.g),e=this.g.ja();this.o<e.length&&(Hi(this),Ff(this,t,e),this.i&&t!=4&&cs(this))}};function IP(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?dl:(n=Number(e.substring(n,r)),isNaN(n)?$f:(r+=1,r+n>e.length?dl:(e=e.slice(r,r+n),t.o=r+n,e)))}ie.cancel=function(){this.J=!0,qn(this)};function cs(t){t.Y=Date.now()+t.P,Bf(t,t.P)}function Bf(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=is(mt(t.lb,t),e)}function Hi(t){t.C&&(_e.clearTimeout(t.C),t.C=null)}ie.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(wP(this.j,this.B),this.L!=2&&(zo(),wt(17)),qn(this),this.s=2,xo(this)):Bf(this,this.Y-t)};function xo(t){t.l.H==0||t.J||lm(t.l,t)}function qn(t){Hi(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,bc(t.V),Df(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function pl(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||fl(n.i,t))){if(!t.K&&fl(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Zs(n),Gi(n);else break e;Dc(n),wt(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=is(mt(n.ib,n),6e3));if(1>=Kf(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Yn(n,11)}else if((t.K||n.g==t)&&Zs(n),!Lo(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let c=o[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Cc(s,s.h),s.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,He(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var i=t;if(r.wa=dm(r,r.J?r.pa:null,r.Y),i.K){Gf(r.i,i);var a=i,l=r.L;l&&a.setTimeout(l),a.C&&(Hi(a),cs(a)),r.g=i}else im(r);0<n.j.length&&Qi(n)}else c[0]!="stop"&&c[0]!="close"||Yn(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Yn(n,7):Sc(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}zo(4)}catch{}}function CP(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Vi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function xP(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Vi(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function jf(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Vi(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=xP(t),r=CP(t),o=r.length,s=0;s<o;s++)e.call(void 0,r[s],n&&n[s],t)}var Uf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var s=t[n].substring(0,r);o=t[n].substring(r+1)}else s=t[n];e(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Qn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qn){this.h=t.h,Xs(this,t.j),this.s=t.s,this.g=t.g,Js(this,t.m),this.l=t.l;var e=t.i,n=new Wo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Pd(this,n),this.o=t.o}else t&&(e=String(t).match(Uf))?(this.h=!1,Xs(this,e[1]||"",!0),this.s=vo(e[2]||""),this.g=vo(e[3]||"",!0),Js(this,e[4]),this.l=vo(e[5]||"",!0),Pd(this,e[6]||"",!0),this.o=vo(e[7]||"")):(this.h=!1,this.i=new Wo(null,this.h))}Qn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_o(e,Sd,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(_o(e,Sd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(_o(n,n.charAt(0)=="/"?RP:DP,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_o(n,MP)),t.join("")};function vn(t){return new Qn(t)}function Xs(t,e,n){t.j=n?vo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Js(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Pd(t,e,n){e instanceof Wo?(t.i=e,kP(t.i,t.h)):(n||(e=_o(e,AP)),t.i=new Wo(e,t.h))}function He(t,e,n){t.i.set(e,n)}function qi(t){return He(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function vo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _o(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,SP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function SP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Sd=/[#\/\?@]/g,DP=/[#\?:]/g,RP=/[#\?]/g,AP=/[#\?@]/g,MP=/#/g;function Wo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Fn(t){t.g||(t.g=new Map,t.h=0,t.i&&PP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ie=Wo.prototype;ie.add=function(t,e){Fn(this),this.i=null,t=Yr(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function zf(t,e){Fn(t),e=Yr(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Wf(t,e){return Fn(t),e=Yr(t,e),t.g.has(e)}ie.forEach=function(t,e){Fn(this),this.g.forEach(function(n,r){n.forEach(function(o){t.call(e,o,r,this)},this)},this)};ie.ta=function(){Fn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const o=t[r];for(let s=0;s<o.length;s++)n.push(e[r])}return n};ie.Z=function(t){Fn(this);let e=[];if(typeof t=="string")Wf(this,t)&&(e=e.concat(this.g.get(Yr(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ie.set=function(t,e){return Fn(this),this.i=null,t=Yr(this,t),Wf(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ie.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Hf(t,e,n){zf(t,e),0<n.length&&(t.i=null,t.g.set(Yr(t,e),hc(n)),t.h+=n.length)}ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),i=this.Z(r);for(r=0;r<i.length;r++){var o=s;i[r]!==""&&(o+="="+encodeURIComponent(String(i[r]))),t.push(o)}}return this.i=t.join("&")};function Yr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function kP(t,e){e&&!t.j&&(Fn(t),t.i=null,t.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(zf(this,r),Hf(this,o,n))},t)),t.j=e}var VP=class{constructor(t,e){this.g=t,this.map=e}};function qf(t){this.l=t||OP,_e.PerformanceNavigationTiming?(t=_e.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(_e.g&&_e.g.Ka&&_e.g.Ka()&&_e.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var OP=10;function Yf(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Kf(t){return t.h?1:t.g?t.g.size:0}function fl(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Cc(t,e){t.g?t.g.add(e):t.h=e}function Gf(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}qf.prototype.cancel=function(){if(this.i=Qf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Qf(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return hc(t.i)}var $P=class{stringify(t){return _e.JSON.stringify(t,void 0)}parse(t){return _e.JSON.parse(t,void 0)}};function NP(){this.g=new $P}function LP(t,e,n){const r=n||"";try{jf(t,function(o,s){let i=o;Oi(o)&&(i=vc(o)),e.push(r+s+"="+encodeURIComponent(i))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function FP(t,e){const n=new ji;if(_e.Image){const r=new Image;r.onload=xs(Ss,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xs(Ss,n,r,"TestLoadImage: error",!1,e),r.onabort=xs(Ss,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xs(Ss,n,r,"TestLoadImage: timeout",!1,e),_e.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ss(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function us(t){this.l=t.ec||null,this.j=t.ob||!1}it(us,Tc);us.prototype.g=function(){return new Yi(this.l,this.j)};us.prototype.i=function(t){return function(){return t}}({});function Yi(t,e){st.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=xc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(Yi,st);var xc=0;ie=Yi.prototype;ie.open=function(t,e){if(this.readyState!=xc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ho(this)};ie.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||_e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=xc};ie.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ho(this)),this.g&&(this.readyState=3,Ho(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof _e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xf(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Xf(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ie.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ds(this):Ho(this),this.readyState==3&&Xf(this)}};ie.Za=function(t){this.g&&(this.response=this.responseText=t,ds(this))};ie.Ya=function(t){this.g&&(this.response=t,ds(this))};ie.ka=function(){this.g&&ds(this)};function ds(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ho(t)}ie.setRequestHeader=function(t,e){this.v.append(t,e)};ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ho(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var BP=_e.JSON.parse;function Qe(t){st.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Jf,this.L=this.M=!1}it(Qe,st);var Jf="",jP=/^https?$/i,UP=["POST","PUT"];ie=Qe.prototype;ie.Oa=function(t){this.M=t};ie.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ul.g(),this.C=this.u?xd(this.u):xd(ul),this.g.onreadystatechange=mt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Dd(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),o=_e.FormData&&t instanceof _e.FormData,!(0<=mf(UP,e))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,i]of n)this.g.setRequestHeader(s,i);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tm(this),0<this.B&&((this.L=zP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mt(this.ua,this)):this.A=wc(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Dd(this,s)}};function zP(t){return Mr&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ie.ua=function(){typeof dc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function Dd(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Zf(t),Ki(t)}function Zf(t){t.F||(t.F=!0,ut(t,"complete"),ut(t,"error"))}ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ut(this,"complete"),ut(this,"abort"),Ki(this))};ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ki(this,!0)),Qe.$.N.call(this)};ie.La=function(){this.s||(this.G||this.v||this.l?em(this):this.kb())};ie.kb=function(){em(this)};function em(t){if(t.h&&typeof dc<"u"&&(!t.C[1]||en(t)!=4||t.da()!=2)){if(t.v&&en(t)==4)wc(t.La,0,t);else if(ut(t,"readystatechange"),en(t)==4){t.h=!1;try{const i=t.da();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=i===0){var o=String(t.I).match(Uf)[1]||null;!o&&_e.self&&_e.self.location&&(o=_e.self.location.protocol.slice(0,-1)),r=!jP.test(o?o.toLowerCase():"")}n=r}if(n)ut(t,"complete"),ut(t,"success");else{t.m=6;try{var s=2<en(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Zf(t)}}finally{Ki(t)}}}}function Ki(t,e){if(t.g){tm(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ut(t,"ready");try{n.onreadystatechange=r}catch{}}}function tm(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(_e.clearTimeout(t.A),t.A=null)}ie.isActive=function(){return!!this.g};function en(t){return t.g?t.g.readyState:0}ie.da=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}};ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ie.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),BP(e)}};function Rd(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Jf:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function WP(t){const e={};t=(t.g&&2<=en(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Lo(t[r]))continue;var n=mP(t[r]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[o]||[];e[o]=s,s.push(n)}aP(e,function(r){return r.join(", ")})}ie.Ia=function(){return this.m};ie.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function nm(t){let e="";return fc(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Pc(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nm(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):He(t,e,n))}function fo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function rm(t){this.Ga=0,this.j=[],this.l=new ji,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fo("baseRetryDelayMs",5e3,t),this.hb=fo("retryDelaySeedMs",1e4,t),this.eb=fo("forwardChannelMaxRetries",2,t),this.xa=fo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new qf(t&&t.concurrentRequestLimit),this.Ja=new NP,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ie=rm.prototype;ie.ra=8;ie.H=1;function Sc(t){if(om(t),t.H==3){var e=t.W++,n=vn(t.I);if(He(n,"SID",t.K),He(n,"RID",e),He(n,"TYPE","terminate"),hs(t,n),e=new ls(t,t.l,e),e.L=2,e.A=qi(vn(n)),n=!1,_e.navigator&&_e.navigator.sendBeacon)try{n=_e.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&_e.Image&&(new Image().src=e.A,n=!0),n||(e.g=hm(e.l,null),e.g.ha(e.A)),e.G=Date.now(),cs(e)}um(t)}function Gi(t){t.g&&(Rc(t),t.g.cancel(),t.g=null)}function om(t){Gi(t),t.u&&(_e.clearTimeout(t.u),t.u=null),Zs(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&_e.clearTimeout(t.m),t.m=null)}function Qi(t){if(!Yf(t.i)&&!t.m){t.m=!0;var e=t.Na;Bo||xf(),jo||(Bo(),jo=!0),_c.add(e,t),t.C=0}}function HP(t,e){return Kf(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=is(mt(t.Na,t,e),cm(t,t.C)),t.C++,!0)}ie.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new ls(this,this.l,t);let s=this.s;if(this.U&&(s?(s=_f(s),bf(s,this.U)):s=this.U),this.o!==null||this.O||(o.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=sm(this,o,e),n=vn(this.I),He(n,"RID",t),He(n,"CVER",22),this.F&&He(n,"X-HTTP-Session-Id",this.F),hs(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(nm(s)))+"&"+e:this.o&&Pc(n,this.o,s)),Cc(this.i,o),this.bb&&He(n,"TYPE","init"),this.P?(He(n,"$req",e),He(n,"SID","null"),o.aa=!0,hl(o,n,null)):hl(o,n,e),this.H=2}}else this.H==3&&(t?Ad(this,t):this.j.length==0||Yf(this.i)||Ad(this))};function Ad(t,e){var n;e?n=e.m:n=t.W++;const r=vn(t.I);He(r,"SID",t.K),He(r,"RID",n),He(r,"AID",t.V),hs(t,r),t.o&&t.s&&Pc(r,t.o,t.s),n=new ls(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=sm(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Cc(t.i,n),hl(n,r,e)}function hs(t,e){t.na&&fc(t.na,function(n,r){He(e,r,n)}),t.h&&jf({},function(n,r){He(e,r,n)})}function sm(t,e,n){n=Math.min(t.j.length,n);var r=t.h?mt(t.h.Va,t.h,t):null;e:{var o=t.j;let s=-1;for(;;){const i=["count="+n];s==-1?0<n?(s=o[0].g,i.push("ofs="+s)):s=0:i.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=o[l].g;const u=o[l].map;if(c-=s,0>c)s=Math.max(0,o[l].g-100),a=!1;else try{LP(u,i,"req"+c+"_")}catch{r&&r(u)}}if(a){r=i.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function im(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Bo||xf(),jo||(Bo(),jo=!0),_c.add(e,t),t.A=0}}function Dc(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=is(mt(t.Ma,t),cm(t,t.A)),t.A++,!0)}ie.Ma=function(){if(this.u=null,am(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=is(mt(this.jb,this),t)}};ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wt(10),Gi(this),am(this))};function Rc(t){t.B!=null&&(_e.clearTimeout(t.B),t.B=null)}function am(t){t.g=new ls(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=vn(t.wa);He(e,"RID","rpc"),He(e,"SID",t.K),He(e,"AID",t.V),He(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&He(e,"TO",t.qa),He(e,"TYPE","xmlhttp"),hs(t,e),t.o&&t.s&&Pc(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=qi(vn(e)),n.u=null,n.S=!0,Nf(n,t)}ie.ib=function(){this.v!=null&&(this.v=null,Gi(this),Dc(this),wt(19))};function Zs(t){t.v!=null&&(_e.clearTimeout(t.v),t.v=null)}function lm(t,e){var n=null;if(t.g==e){Zs(t),Rc(t),t.g=null;var r=2}else if(fl(t.i,e))n=e.F,Gf(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var o=t.C;r=Ui(),ut(r,new Mf(r,n)),Qi(t)}else im(t);else if(o=e.s,o==3||o==0&&0<e.ca||!(r==1&&HP(t,e)||r==2&&Dc(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Yn(t,5);break;case 4:Yn(t,10);break;case 3:Yn(t,6);break;default:Yn(t,2)}}}function cm(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Yn(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=mt(t.pb,t);n||(n=new Qn("//www.google.com/images/cleardot.gif"),_e.location&&_e.location.protocol=="http"||Xs(n,"https"),qi(n)),FP(n.toString(),r)}else wt(2);t.H=0,t.h&&t.h.za(e),um(t),om(t)}ie.pb=function(t){t?(this.l.info("Successfully pinged google.com"),wt(2)):(this.l.info("Failed to ping google.com"),wt(1))};function um(t){if(t.H=0,t.ma=[],t.h){const e=Qf(t.i);(e.length!=0||t.j.length!=0)&&(wd(t.ma,e),wd(t.ma,t.j),t.i.i.length=0,hc(t.j),t.j.length=0),t.h.ya()}}function dm(t,e,n){var r=n instanceof Qn?vn(n):new Qn(n);if(r.g!="")e&&(r.g=e+"."+r.g),Js(r,r.m);else{var o=_e.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var s=new Qn(null);r&&Xs(s,r),e&&(s.g=e),o&&Js(s,o),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&He(r,n,e),He(r,"VER",t.ra),hs(t,r),r}function hm(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Qe(new us({ob:n})):new Qe(t.va),e.Oa(t.J),e}ie.isActive=function(){return!!this.h&&this.h.isActive(this)};function pm(){}ie=pm.prototype;ie.Ba=function(){};ie.Aa=function(){};ie.za=function(){};ie.ya=function(){};ie.isActive=function(){return!0};ie.Va=function(){};function ei(){if(Mr&&!(10<=Number(rP)))throw Error("Environmental error: no available transport.")}ei.prototype.g=function(t,e){return new Rt(t,e)};function Rt(t,e){st.call(this),this.g=new rm(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Lo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Kr(this)}it(Rt,st);Rt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;wt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=dm(t,null,t.Y),Qi(t)};Rt.prototype.close=function(){Sc(this.g)};Rt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=vc(t),t=n);e.j.push(new VP(e.fb++,t)),e.H==3&&Qi(e)};Rt.prototype.N=function(){this.g.h=null,delete this.j,Sc(this.g),delete this.g,Rt.$.N.call(this)};function fm(t){Ec.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}it(fm,Ec);function mm(){Ic.call(this),this.status=1}it(mm,Ic);function Kr(t){this.g=t}it(Kr,pm);Kr.prototype.Ba=function(){ut(this.g,"a")};Kr.prototype.Aa=function(t){ut(this.g,new fm(t))};Kr.prototype.za=function(t){ut(this.g,new mm)};Kr.prototype.ya=function(){ut(this.g,"b")};function qP(){this.blockSize=-1}function Gt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}it(Gt,qP);Gt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Oa(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var o=0;16>o;++o)r[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],o=t.g[2];var s=t.g[3],i=e+(s^n&(o^s))+r[0]+3614090360&4294967295;e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[1]+3905402710&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[2]+606105819&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[3]+3250441966&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(s^n&(o^s))+r[4]+4118548399&4294967295,e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[5]+1200080426&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[6]+2821735955&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[7]+4249261313&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(s^n&(o^s))+r[8]+1770035416&4294967295,e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[9]+2336552879&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[10]+4294925233&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[11]+2304563134&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(s^n&(o^s))+r[12]+1804603682&4294967295,e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[13]+4254626195&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[14]+2792965006&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[15]+1236535329&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(o^s&(n^o))+r[1]+4129170786&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[6]+3225465664&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[11]+643717713&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[0]+3921069994&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(o^s&(n^o))+r[5]+3593408605&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[10]+38016083&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[15]+3634488961&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[4]+3889429448&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(o^s&(n^o))+r[9]+568446438&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[14]+3275163606&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[3]+4107603335&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[8]+1163531501&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(o^s&(n^o))+r[13]+2850285829&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[2]+4243563512&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[7]+1735328473&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[12]+2368359562&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(n^o^s)+r[5]+4294588738&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[8]+2272392833&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[11]+1839030562&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[14]+4259657740&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(n^o^s)+r[1]+2763975236&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[4]+1272893353&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[7]+4139469664&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[10]+3200236656&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(n^o^s)+r[13]+681279174&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[0]+3936430074&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[3]+3572445317&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[6]+76029189&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(n^o^s)+r[9]+3654602809&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[12]+3873151461&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[15]+530742520&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[2]+3299628645&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(o^(n|~s))+r[0]+4096336452&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[7]+1126891415&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[14]+2878612391&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[5]+4237533241&4294967295,n=o+(i<<21&4294967295|i>>>11),i=e+(o^(n|~s))+r[12]+1700485571&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[3]+2399980690&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[10]+4293915773&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[1]+2240044497&4294967295,n=o+(i<<21&4294967295|i>>>11),i=e+(o^(n|~s))+r[8]+1873313359&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[15]+4264355552&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[6]+2734768916&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[13]+1309151649&4294967295,n=o+(i<<21&4294967295|i>>>11),i=e+(o^(n|~s))+r[4]+4149444226&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[11]+3174756917&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[2]+718787259&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(i<<21&4294967295|i>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+s&4294967295}Gt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,o=this.h,s=0;s<e;){if(o==0)for(;s<=n;)Oa(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[o++]=t.charCodeAt(s++),o==this.blockSize){Oa(this,r),o=0;break}}else for(;s<e;)if(r[o++]=t[s++],o==this.blockSize){Oa(this,r),o=0;break}}this.h=o,this.i+=e};Gt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Le(t,e){this.h=e;for(var n=[],r=!0,o=t.length-1;0<=o;o--){var s=t[o]|0;r&&s==e||(n[o]=s,r=!1)}this.g=n}var YP={};function Ac(t){return-128<=t&&128>t?eP(t,function(e){return new Le([e|0],0>e?-1:0)}):new Le([t|0],0>t?-1:0)}function tn(t){if(isNaN(t)||!isFinite(t))return Ir;if(0>t)return lt(tn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ml;return new Le(e,0)}function gm(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return lt(gm(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=tn(Math.pow(e,8)),r=Ir,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),i=parseInt(t.substring(o,o+s),e);8>s?(s=tn(Math.pow(e,s)),r=r.R(s).add(tn(i))):(r=r.R(n),r=r.add(tn(i)))}return r}var ml=4294967296,Ir=Ac(0),gl=Ac(1),Md=Ac(16777216);ie=Le.prototype;ie.ea=function(){if($t(this))return-lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ml+r)*e,e*=ml}return t};ie.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(mn(this))return"0";if($t(this))return"-"+lt(this).toString(t);for(var e=tn(Math.pow(t,6)),n=this,r="";;){var o=ni(n,e).g;n=ti(n,o.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=o,mn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ie.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function mn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function $t(t){return t.h==-1}ie.X=function(t){return t=ti(this,t),$t(t)?-1:mn(t)?0:1};function lt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Le(n,~t.h).add(gl)}ie.abs=function(){return $t(this)?lt(this):this};ie.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,o=0;o<=e;o++){var s=r+(this.D(o)&65535)+(t.D(o)&65535),i=(s>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);r=i>>>16,s&=65535,i&=65535,n[o]=i<<16|s}return new Le(n,n[n.length-1]&-2147483648?-1:0)};function ti(t,e){return t.add(lt(e))}ie.R=function(t){if(mn(this)||mn(t))return Ir;if($t(this))return $t(t)?lt(this).R(lt(t)):lt(lt(this).R(t));if($t(t))return lt(this.R(lt(t)));if(0>this.X(Md)&&0>t.X(Md))return tn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<t.g.length;o++){var s=this.D(r)>>>16,i=this.D(r)&65535,a=t.D(o)>>>16,l=t.D(o)&65535;n[2*r+2*o]+=i*l,Ds(n,2*r+2*o),n[2*r+2*o+1]+=s*l,Ds(n,2*r+2*o+1),n[2*r+2*o+1]+=i*a,Ds(n,2*r+2*o+1),n[2*r+2*o+2]+=s*a,Ds(n,2*r+2*o+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Le(n,0)};function Ds(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function mo(t,e){this.g=t,this.h=e}function ni(t,e){if(mn(e))throw Error("division by zero");if(mn(t))return new mo(Ir,Ir);if($t(t))return e=ni(lt(t),e),new mo(lt(e.g),lt(e.h));if($t(e))return e=ni(t,lt(e)),new mo(lt(e.g),e.h);if(30<t.g.length){if($t(t)||$t(e))throw Error("slowDivide_ only works with positive integers.");for(var n=gl,r=e;0>=r.X(t);)n=kd(n),r=kd(r);var o=dr(n,1),s=dr(r,1);for(r=dr(r,2),n=dr(n,2);!mn(r);){var i=s.add(r);0>=i.X(t)&&(o=o.add(n),s=i),r=dr(r,1),n=dr(n,1)}return e=ti(t,o.R(e)),new mo(o,e)}for(o=Ir;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=tn(n),i=s.R(e);$t(i)||0<i.X(t);)n-=r,s=tn(n),i=s.R(e);mn(s)&&(s=gl),o=o.add(s),t=ti(t,i)}return new mo(o,t)}ie.gb=function(t){return ni(this,t).h};ie.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Le(n,this.h&t.h)};ie.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Le(n,this.h|t.h)};ie.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Le(n,this.h^t.h)};function kd(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Le(n,t.h)}function dr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,o=[],s=0;s<r;s++)o[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Le(o,t.h)}ei.prototype.createWebChannel=ei.prototype.g;Rt.prototype.send=Rt.prototype.u;Rt.prototype.open=Rt.prototype.m;Rt.prototype.close=Rt.prototype.close;zi.NO_ERROR=0;zi.TIMEOUT=8;zi.HTTP_ERROR=6;kf.COMPLETE="complete";Vf.EventType=as;as.OPEN="a";as.CLOSE="b";as.ERROR="c";as.MESSAGE="d";st.prototype.listen=st.prototype.O;Qe.prototype.listenOnce=Qe.prototype.P;Qe.prototype.getLastError=Qe.prototype.Sa;Qe.prototype.getLastErrorCode=Qe.prototype.Ia;Qe.prototype.getStatus=Qe.prototype.da;Qe.prototype.getResponseJson=Qe.prototype.Wa;Qe.prototype.getResponseText=Qe.prototype.ja;Qe.prototype.send=Qe.prototype.ha;Qe.prototype.setWithCredentials=Qe.prototype.Oa;Gt.prototype.digest=Gt.prototype.l;Gt.prototype.reset=Gt.prototype.reset;Gt.prototype.update=Gt.prototype.j;Le.prototype.add=Le.prototype.add;Le.prototype.multiply=Le.prototype.R;Le.prototype.modulo=Le.prototype.gb;Le.prototype.compare=Le.prototype.X;Le.prototype.toNumber=Le.prototype.ea;Le.prototype.toString=Le.prototype.toString;Le.prototype.getBits=Le.prototype.D;Le.fromNumber=tn;Le.fromString=gm;var KP=function(){return new ei},GP=function(){return Ui()},$a=zi,QP=kf,XP=ar,Vd={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},JP=us,Rs=Vf,ZP=Qe,eS=Gt,Cr=Le;const Od="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gr="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new cf("@firebase/firestore");function go(){return tr.logLevel}function ce(t,...e){if(tr.logLevel<=Re.DEBUG){const n=e.map(Mc);tr.debug(`Firestore (${Gr}): ${t}`,...n)}}function _n(t,...e){if(tr.logLevel<=Re.ERROR){const n=e.map(Mc);tr.error(`Firestore (${Gr}): ${t}`,...n)}}function kr(t,...e){if(tr.logLevel<=Re.WARN){const n=e.map(Mc);tr.warn(`Firestore (${Gr}): ${t}`,...n)}}function Mc(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${Gr}) INTERNAL ASSERTION FAILED: `+t;throw _n(e),new Error(e)}function ze(t,e){t||ve()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class nS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rS{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const o=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rn,e.enqueueRetryable(()=>o(this.currentUser))};const i=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},a=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rn)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new ym(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new pt(e)}}class oS{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sS{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new oS(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.R;return this.R=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const o=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?o(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new iS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=lS(40);for(let s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=e.charAt(o[s]%e.length))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function Vr(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new nt(0,0))}static max(){return new be(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const s=e.get(o),i=n.get(o);if(s<i)return-1;if(s>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends qo{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const cS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends qo{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return cS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const s=()=>{if(r.length===0)throw new fe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;o<e.length;){const a=e[o];if(a==="\\"){if(o+1===e.length)throw new fe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,o+=2}else a==="`"?(i=!i,o++):a!=="."||i?(r+=a,o++):(s(),o++)}if(s(),i)throw new fe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(qe.fromString(e))}static fromName(e){return new me(qe.fromString(e).popFirst(5))}static empty(){return new me(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new qe(e.slice()))}}function uS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new kn(o,me.empty(),e)}function dS(t){return new kn(t.readTime,t.key,-1)}class kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kn(be.min(),me.empty(),-1)}static max(){return new kn(be.max(),me.empty(),-1)}}function hS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==pS)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,o)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,o)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let o=0,s=0,i=!1;e.forEach(a=>{++o,a.next(()=>{++s,i&&s===o&&n()},l=>r(l))}),i=!0,s===o&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(o=>o?G.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,s)=>{r.push(n.call(this,o,s))}),this.waitFor(r)}static mapArray(e,n){return new G((r,o)=>{const s=e.length,i=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{i[c]=u,++a,a===s&&r(i)},u=>o(u))}})}static doWhile(e,n){return new G((r,o)=>{const s=()=>{e()===!0?n().next(()=>{s()},o):r()};s()})}}function mS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}kc.oe=-1;function Xi(t){return t==null}function ri(t){return t===0&&1/t==-1/0}function gS(t){return typeof t=="number"&&Number.isInteger(t)&&!ri(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _m(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new As(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new As(this.root,e,this.comparator,!1)}getReverseIterator(){return new As(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new As(this.root,e,this.comparator,!0)}}class As{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&o&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,o,s){this.key=e,this.value=n,this.color=r??at.RED,this.left=o??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,s){return new at(e??this.key,n??this.value,r??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return at.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,o,s){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nd(this.data.getIterator())}getIteratorFrom(e){return new Nd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class Nd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new Pt([])}unionWith(e){let n=new dt(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bm("Invalid base64 string: "+s):s}}(e);return new yt(n)}static fromUint8Array(e){const n=function(o){let s="";for(let i=0;i<o.length;++i)s+=String.fromCharCode(o[i]);return s}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const yS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vn(t){if(ze(!!t),typeof t=="string"){let e=0;const n=yS.exec(t);if(ze(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nr(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Oc(t){const e=t.mapValue.fields.__previous_value__;return Vc(e)?Oc(e):e}function Yo(t){const e=Vn(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,r,o,s,i,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ko{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function rr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vc(t)?4:_S(t)?9007199254740991:10:ve()}function cn(t,e){if(t===e)return!0;const n=rr(t);if(n!==rr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yo(t).isEqual(Yo(e));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const i=Vn(o.timestampValue),a=Vn(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,s){return nr(o.bytesValue).isEqual(nr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,s){return et(o.geoPointValue.latitude)===et(s.geoPointValue.latitude)&&et(o.geoPointValue.longitude)===et(s.geoPointValue.longitude)}(t,e);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return et(o.integerValue)===et(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const i=et(o.doubleValue),a=et(s.doubleValue);return i===a?ri(i)===ri(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return Vr(t.arrayValue.values||[],e.arrayValue.values||[],cn);case 10:return function(o,s){const i=o.mapValue.fields||{},a=s.mapValue.fields||{};if($d(i)!==$d(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!cn(i[l],a[l])))return!1;return!0}(t,e);default:return ve()}}function Go(t,e){return(t.values||[]).find(n=>cn(n,e))!==void 0}function Or(t,e){if(t===e)return 0;const n=rr(t),r=rr(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(s,i){const a=et(s.integerValue||s.doubleValue),l=et(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Ld(t.timestampValue,e.timestampValue);case 4:return Ld(Yo(t),Yo(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(s,i){const a=nr(s),l=nr(i);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const a=s.split("/"),l=i.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Ve(a[c],l[c]);if(u!==0)return u}return Ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const a=Ve(et(s.latitude),et(i.latitude));return a!==0?a:Ve(et(s.longitude),et(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const a=s.values||[],l=i.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Or(a[c],l[c]);if(u)return u}return Ve(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===Ms.mapValue&&i===Ms.mapValue)return 0;if(s===Ms.mapValue)return 1;if(i===Ms.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=i.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Ve(l[d],u[d]);if(h!==0)return h;const p=Or(a[l[d]],c[u[d]]);if(p!==0)return p}return Ve(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ve()}}function Ld(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Vn(t),r=Vn(e),o=Ve(n.seconds,r.seconds);return o!==0?o:Ve(n.nanos,r.nanos)}function $r(t){return yl(t)}function yl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return nr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const s of n.values||[])o?o=!1:r+=",",r+=yl(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",s=!0;for(const i of r)s?s=!1:o+=",",o+=`${i}:${yl(n.fields[i])}`;return o+"}"}(t.mapValue):ve()}function vl(t){return!!t&&"integerValue"in t}function $c(t){return!!t&&"arrayValue"in t}function Fd(t){return!!t&&"nullValue"in t}function Bd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fs(t){return!!t&&"mapValue"in t}function Po(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Po(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Po(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _S(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.value=e}static empty(){return new Et({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fs(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Po(n)}setAll(e){let n=ct.emptyPath(),r={},o=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,o),r={},o=[],n=a.popLast()}i?r[a.lastSegment()]=Po(i):o.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,o)}delete(e){const n=this.field(e.popLast());Fs(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Fs(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){lr(n,(o,s)=>e[o]=s);for(const o of r)delete e[o]}clone(){return new Et(Po(this.value))}}function wm(t){const e=[];return lr(t.fields,(n,r)=>{const o=new ct([n]);if(Fs(r)){const s=wm(r.mapValue).fields;if(s.length===0)e.push(o);else for(const i of s)e.push(o.child(i))}else e.push(o)}),new Pt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,o,s,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,be.min(),be.min(),be.min(),Et.empty(),0)}static newFoundDocument(e,n,r,o){return new ft(e,1,n,be.min(),r,o,0)}static newNoDocument(e,n){return new ft(e,2,n,be.min(),be.min(),Et.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,be.min(),be.min(),Et.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Et.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Et.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n){this.position=e,this.inclusive=n}}function jd(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const s=e[o],i=t.position[o];if(s.field.isKeyField()?r=me.comparator(me.fromName(i.referenceValue),n.key):r=Or(i,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ud(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n="asc"){this.field=e,this.dir=n}}function bS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{}class tt extends Tm{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TS(e,n,r):n==="array-contains"?new CS(e,r):n==="in"?new xS(e,r):n==="not-in"?new PS(e,r):n==="array-contains-any"?new SS(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ES(e,r):new IS(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Or(n,this.value)):n!==null&&rr(this.value)===rr(n)&&this.matchesComparison(Or(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class un extends Tm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new un(e,n)}matches(e){return Em(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Em(t){return t.op==="and"}function Im(t){return wS(t)&&Em(t)}function wS(t){for(const e of t.filters)if(e instanceof un)return!1;return!0}function _l(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+$r(t.value);if(Im(t))return t.filters.map(e=>_l(e)).join(",");{const e=t.filters.map(n=>_l(n)).join(",");return`${t.op}(${e})`}}function Cm(t,e){return t instanceof tt?function(r,o){return o instanceof tt&&r.op===o.op&&r.field.isEqual(o.field)&&cn(r.value,o.value)}(t,e):t instanceof un?function(r,o){return o instanceof un&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((s,i,a)=>s&&Cm(i,o.filters[a]),!0):!1}(t,e):void ve()}function xm(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${$r(n.value)}`}(t):t instanceof un?function(n){return n.op.toString()+" {"+n.getFilters().map(xm).join(" ,")+"}"}(t):"Filter"}class TS extends tt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class ES extends tt{constructor(e,n){super(e,"in",n),this.keys=Pm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class IS extends tt{constructor(e,n){super(e,"not-in",n),this.keys=Pm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Pm(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class CS extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $c(n)&&Go(n.arrayValue,this.value)}}class xS extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Go(this.value.arrayValue,n)}}class PS extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Go(this.value.arrayValue,n)}}class SS extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$c(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Go(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n=null,r=[],o=[],s=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=s,this.startAt=i,this.endAt=a,this.ue=null}}function zd(t,e=null,n=[],r=[],o=null,s=null,i=null){return new DS(t,e,n,r,o,s,i)}function Nc(t){const e=Te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_l(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$r(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$r(r)).join(",")),e.ue=n}return e.ue}function Lc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Cm(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ud(t.startAt,e.startAt)&&Ud(t.endAt,e.endAt)}function bl(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n=null,r=[],o=[],s=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function RS(t,e,n,r,o,s,i,a){return new Ji(t,e,n,r,o,s,i,a)}function Sm(t){return new Ji(t)}function Wd(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AS(t){return t.collectionGroup!==null}function So(t){const e=Te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new dt(ct.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new si(s,r))}),n.has(ct.keyField().canonicalString())||e.ce.push(new si(ct.keyField(),r))}return e.ce}function on(t){const e=Te(t);return e.le||(e.le=MS(e,So(t))),e.le}function MS(t,e){if(t.limitType==="F")return zd(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const s=o.dir==="desc"?"asc":"desc";return new si(o.field,s)});const n=t.endAt?new oi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oi(t.startAt.position,t.startAt.inclusive):null;return zd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wl(t,e,n){return new Ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zi(t,e){return Lc(on(t),on(e))&&t.limitType===e.limitType}function Dm(t){return`${Nc(on(t))}|lt:${t.limitType}`}function fr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>xm(o)).join(", ")}]`),Xi(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>$r(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>$r(o)).join(",")),`Target(${r})`}(on(t))}; limitType=${t.limitType})`}function ea(t,e){return e.isFoundDocument()&&function(r,o){const s=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,o){for(const s of So(r))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const s of r.filters)if(!s.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(i,a,l){const c=jd(i,a,l);return i.inclusive?c<=0:c<0}(r.startAt,So(r),o)||r.endAt&&!function(i,a,l){const c=jd(i,a,l);return i.inclusive?c>=0:c>0}(r.endAt,So(r),o))}(t,e)}function kS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Rm(t){return(e,n)=>{let r=!1;for(const o of So(t)){const s=VS(o,e,n);if(s!==0)return s;r=r||o.field.isKeyField()}return 0}}function VS(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(s,i,a){const l=i.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Or(l,c):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,s]of r)if(this.equalsFn(o,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return void(o[s]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){lr(this.inner,(n,r)=>{for(const[o,s]of r)e(o,s)})}isEmpty(){return _m(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new Ke(me.comparator);function bn(){return OS}const Am=new Ke(me.comparator);function bo(...t){let e=Am;for(const n of t)e=e.insert(n.key,n);return e}function Mm(t){let e=Am;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kn(){return Do()}function km(){return Do()}function Do(){return new Qr(t=>t.toString(),(t,e)=>t.isEqual(e))}const $S=new Ke(me.comparator),NS=new dt(me.comparator);function xe(...t){let e=NS;for(const n of t)e=e.add(n);return e}const LS=new dt(Ve);function FS(){return LS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ri(e)?"-0":e}}function Om(t){return{integerValue:""+t}}function BS(t,e){return gS(e)?Om(e):Vm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this._=void 0}}function jS(t,e,n){return t instanceof ii?function(o,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&Vc(s)&&(s=Oc(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof Qo?Nm(t,e):t instanceof Xo?Lm(t,e):function(o,s){const i=$m(o,s),a=Hd(i)+Hd(o.Pe);return vl(i)&&vl(o.Pe)?Om(a):Vm(o.serializer,a)}(t,e)}function US(t,e,n){return t instanceof Qo?Nm(t,e):t instanceof Xo?Lm(t,e):n}function $m(t,e){return t instanceof ai?function(r){return vl(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ii extends ta{}class Qo extends ta{constructor(e){super(),this.elements=e}}function Nm(t,e){const n=Fm(e);for(const r of t.elements)n.some(o=>cn(o,r))||n.push(r);return{arrayValue:{values:n}}}class Xo extends ta{constructor(e){super(),this.elements=e}}function Lm(t,e){let n=Fm(e);for(const r of t.elements)n=n.filter(o=>!cn(o,r));return{arrayValue:{values:n}}}class ai extends ta{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Hd(t){return et(t.integerValue||t.doubleValue)}function Fm(t){return $c(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zS(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof Qo&&o instanceof Qo||r instanceof Xo&&o instanceof Xo?Vr(r.elements,o.elements,cn):r instanceof ai&&o instanceof ai?cn(r.Pe,o.Pe):r instanceof ii&&o instanceof ii}(t.transform,e.transform)}class WS{constructor(e,n){this.version=e,this.transformResults=n}}class qt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qt}static exists(e){return new qt(void 0,e)}static updateTime(e){return new qt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bs(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class na{}function Bm(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fc(t.key,qt.none()):new ms(t.key,t.data,qt.none());{const n=t.data,r=Et.empty();let o=new dt(ct.comparator);for(let s of e.fields)if(!o.has(s)){let i=n.field(s);i===null&&s.length>1&&(s=s.popLast(),i=n.field(s)),i===null?r.delete(s):r.set(s,i),o=o.add(s)}return new Bn(t.key,r,new Pt(o.toArray()),qt.none())}}function HS(t,e,n){t instanceof ms?function(o,s,i){const a=o.value.clone(),l=Yd(o.fieldTransforms,s,i.transformResults);a.setAll(l),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bn?function(o,s,i){if(!Bs(o.precondition,s))return void s.convertToUnknownDocument(i.version);const a=Yd(o.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(jm(o)),l.setAll(a),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):function(o,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ro(t,e,n,r){return t instanceof ms?function(s,i,a,l){if(!Bs(s.precondition,i))return a;const c=s.value.clone(),u=Kd(s.fieldTransforms,l,i);return c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bn?function(s,i,a,l){if(!Bs(s.precondition,i))return a;const c=Kd(s.fieldTransforms,l,i),u=i.data;return u.setAll(jm(s)),u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,i,a){return Bs(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,e,n)}function qS(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),s=$m(r.transform,o||null);s!=null&&(n===null&&(n=Et.empty()),n.set(r.field,s))}return n||null}function qd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Vr(r,o,(s,i)=>zS(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ms extends na{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bn extends na{constructor(e,n,r,o,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jm(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Yd(t,e,n){const r=new Map;ze(t.length===n.length);for(let o=0;o<n.length;o++){const s=t[o],i=s.transform,a=e.data.field(s.field);r.set(s.field,US(i,a,n[o]))}return r}function Kd(t,e,n){const r=new Map;for(const o of t){const s=o.transform,i=n.data.field(o.field);r.set(o.field,jS(s,i,e))}return r}class Fc extends na{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YS extends na{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(e.key)&&HS(s,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ro(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ro(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=km();return this.mutations.forEach(o=>{const s=e.get(o.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=n.has(o.key)?null:a;const l=Bm(i,a);l!==null&&r.set(o.key,l),i.isValidDocument()||i.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Vr(this.mutations,e.mutations,(n,r)=>qd(n,r))&&Vr(this.baseMutations,e.baseMutations,(n,r)=>qd(n,r))}}class Bc{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){ze(e.mutations.length===r.length);let o=function(){return $S}();const s=e.mutations;for(let i=0;i<s.length;i++)o=o.insert(s[i].key,r[i].version);return new Bc(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,Se;function XS(t){switch(t){default:return ve();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function Um(t){if(t===void 0)return _n("GRPC error has no .code"),K.UNKNOWN;switch(t){case Je.OK:return K.OK;case Je.CANCELLED:return K.CANCELLED;case Je.UNKNOWN:return K.UNKNOWN;case Je.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Je.INTERNAL:return K.INTERNAL;case Je.UNAVAILABLE:return K.UNAVAILABLE;case Je.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Je.NOT_FOUND:return K.NOT_FOUND;case Je.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Je.ABORTED:return K.ABORTED;case Je.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Je.DATA_LOSS:return K.DATA_LOSS;default:return ve()}}(Se=Je||(Je={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new Cr([4294967295,4294967295],0);function Gd(t){const e=JS().encode(t),n=new eS;return n.update(e),new Uint8Array(n.digest())}function Qd(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Cr([n,r],0),new Cr([o,s],0)]}class jc{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wo(`Invalid padding: ${n}`);if(r<0)throw new wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Cr.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(Cr.fromNumber(r)));return o.compare(ZS)===1&&(o=new Cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Gd(e),[r,o]=Qd(n);for(let s=0;s<this.hashCount;s++){const i=this.Ee(r,o,s);if(!this.de(i))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new jc(s,o,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.Ie===0)return;const n=Gd(e),[r,o]=Qd(n);for(let s=0;s<this.hashCount;s++){const i=this.Ee(r,o,s);this.Ae(i)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,r,o,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,gs.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ra(be.min(),o,new Ke(Ve),bn(),xe())}}class gs{constructor(e,n,r,o,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gs(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class zm{constructor(e,n){this.targetId=e,this.me=n}}class Wm{constructor(e,n,r=yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Xd{constructor(){this.fe=0,this.ge=Zd(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((o,s)=>{switch(s){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ve()}}),new gs(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Zd()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class e1{constructor(e){this.Le=e,this.Be=new Map,this.ke=bn(),this.qe=Jd(),this.Qe=new Ke(Ve)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const s=o.target;if(bl(s))if(r===0){const i=new me(s.path);this.Ue(n,i,ft.newNoDocument(i,be.min()))}else ze(r===1);else{const i=this.Ye(n);if(i!==r){const a=this.Ze(e),l=a?this.Xe(a,e,i):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:s=0}=n;let i,a;try{i=nr(r).toUint8Array()}catch(l){if(l instanceof bm)return kr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new jc(i,o,s)}catch(l){return kr(l instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach(s=>{const i=this.Le.tt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((s,i)=>{const a=this.Je(i);if(a){if(s.current&&bl(a.target)){const l=new me(a.target.path);this.ke.get(l)!==null||this.it(i,l)||this.Ue(i,l,ft.newNoDocument(l,e))}s.be&&(n.set(i,s.Ce()),s.ve())}});let r=xe();this.qe.forEach((s,i)=>{let a=!0;i.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,i)=>i.setReadTime(e));const o=new ra(e,n,this.Qe,this.ke,r);return this.ke=bn(),this.qe=Jd(),this.Qe=new Ke(Ve),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(Ve),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Jd(){return new Ke(me.comparator)}function Zd(){return new Ke(me.comparator)}const t1={asc:"ASCENDING",desc:"DESCENDING"},n1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r1={and:"AND",or:"OR"};class o1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tl(t,e){return t.useProto3Json||Xi(e)?e:{value:e}}function li(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hm(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function s1(t,e){return li(t,e.toTimestamp())}function sn(t){return ze(!!t),be.fromTimestamp(function(n){const r=Vn(n);return new nt(r.seconds,r.nanos)}(t))}function Uc(t,e){return El(t,e).canonicalString()}function El(t,e){const n=function(o){return new qe(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qm(t){const e=qe.fromString(t);return ze(Xm(e)),e}function Il(t,e){return Uc(t.databaseId,e.path)}function Na(t,e){const n=qm(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(Km(n))}function Ym(t,e){return Uc(t.databaseId,e)}function i1(t){const e=qm(t);return e.length===4?qe.emptyPath():Km(e)}function Cl(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Km(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eh(t,e,n){return{name:Il(t,e),fields:n.value.mapValue.fields}}function a1(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ze(u===void 0||typeof u=="string"),yt.fromBase64String(u||"")):(ze(u===void 0||u instanceof Buffer||u instanceof Uint8Array),yt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(c){const u=c.code===void 0?K.UNKNOWN:Um(c.code);return new fe(u,c.message||"")}(i);n=new Wm(r,o,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Na(t,r.document.name),s=sn(r.document.updateTime),i=r.document.createTime?sn(r.document.createTime):be.min(),a=new Et({mapValue:{fields:r.document.fields}}),l=ft.newFoundDocument(o,s,i,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new js(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Na(t,r.document),s=r.readTime?sn(r.readTime):be.min(),i=ft.newNoDocument(o,s),a=r.removedTargetIds||[];n=new js([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Na(t,r.document),s=r.removedTargetIds||[];n=new js([],s,o,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:s}=r,i=new QS(o,s),a=r.targetId;n=new zm(a,i)}}return n}function l1(t,e){let n;if(e instanceof ms)n={update:eh(t,e.key,e.value)};else if(e instanceof Fc)n={delete:Il(t,e.key)};else if(e instanceof Bn)n={update:eh(t,e.key,e.data),updateMask:y1(e.fieldMask)};else{if(!(e instanceof YS))return ve();n={verify:Il(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const a=i.transform;if(a instanceof ii)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qo)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xo)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ai)return{fieldPath:i.field.canonicalString(),increment:a.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:s1(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),n}function c1(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(o,s){let i=o.updateTime?sn(o.updateTime):sn(s);return i.isEqual(be.min())&&(i=sn(s)),new WS(i,o.transformResults||[])}(n,e))):[]}function u1(t,e){return{documents:[Ym(t,e.path)]}}function d1(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ym(t,o);const s=function(c){if(c.length!==0)return Qm(un.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:mr(h.field),direction:f1(h.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const a=Tl(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:o}}function h1(t){let e=i1(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ze(r===1);const u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=Gm(d);return h instanceof un&&Im(h)?h.getFilters():[h]}(n.where));let i=[];n.orderBy&&(i=function(d){return d.map(h=>function(m){return new si(gr(m.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Xi(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new oi(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new oi(p,h)}(n.endAt)),RS(e,o,i,s,a,"F",l,c)}function p1(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Gm(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gr(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=gr(n.unaryFilter.field);return tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=gr(n.unaryFilter.field);return tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=gr(n.unaryFilter.field);return tt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return tt.create(gr(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return un.create(n.compositeFilter.filters.map(r=>Gm(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function f1(t){return t1[t]}function m1(t){return n1[t]}function g1(t){return r1[t]}function mr(t){return{fieldPath:t.canonicalString()}}function gr(t){return ct.fromServerFormat(t.fieldPath)}function Qm(t){return t instanceof tt?function(n){if(n.op==="=="){if(Bd(n.value))return{unaryFilter:{field:mr(n.field),op:"IS_NAN"}};if(Fd(n.value))return{unaryFilter:{field:mr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bd(n.value))return{unaryFilter:{field:mr(n.field),op:"IS_NOT_NAN"}};if(Fd(n.value))return{unaryFilter:{field:mr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mr(n.field),op:m1(n.op),value:n.value}}}(t):t instanceof un?function(n){const r=n.getFilters().map(o=>Qm(o));return r.length===1?r[0]:{compositeFilter:{op:g1(n.op),filters:r}}}(t):ve()}function y1(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Xm(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,o,s=be.min(),i=be.min(),a=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Pn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.ut=e}}function _1(t){const e=h1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.on=new w1}addToCollectionParentIndex(e,n){return this.on.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(kn.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(kn.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class w1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new dt(qe.comparator),s=!o.has(r);return this.index[n]=o.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new dt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Nr(0)}static Nn(){return new Nr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.changes=new Qr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&Ro(r.mutation,o,Pt.empty(),nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const o=Kn();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(s=>{let i=bo();return s.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=Kn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const o=[];return r.forEach(s=>{n.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(e,o).next(s=>{s.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,o){let s=bn();const i=Do(),a=function(){return Do()}();return n.forEach((l,c)=>{const u=r.get(c.key);o.has(c.key)&&(u===void 0||u.mutation instanceof Bn)?s=s.insert(c.key,c):u!==void 0?(i.set(c.key,u.mutation.getFieldMask()),Ro(u.mutation,c,u.mutation.getFieldMask(),nt.now())):i.set(c.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>i.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new E1(u,(d=i.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Do();let o=new Ke((i,a)=>i-a),s=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Pt.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(o.get(a.batchId)||xe()).add(l);o=o.insert(a.batchId,d)})}).next(()=>{const i=[],a=o.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=km();u.forEach(h=>{if(!s.has(h)){const p=Bm(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),i.push(this.documentOverlayCache.saveOverlays(e,c,d))}return G.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(s=>{const i=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-s.size):G.resolve(Kn());let a=-1,l=s;return i.next(c=>G.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?G.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,xe())).next(u=>({batchId:a,changes:Mm(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let o=bo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const s=n.collectionGroup;let i=bo();return this.indexManager.getCollectionParents(e,s).next(a=>G.forEach(a,l=>{const c=function(d,h){return new Ji(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,o).next(u=>{u.forEach((d,h)=>{i=i.insert(d,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,o){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,o))).next(i=>{s.forEach((l,c)=>{const u=c.getKey();i.get(u)===null&&(i=i.insert(u,ft.newInvalidDocument(u)))});let a=bo();return i.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Ro(u.mutation,c,Pt.empty(),nt.now()),ea(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return G.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(o){return{id:o.id,version:o.version,createTime:sn(o.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(o){return{name:o.name,query:_1(o.bundledQuery),readTime:sn(o.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.overlays=new Ke(me.comparator),this.lr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kn();return G.forEach(n,o=>this.getOverlay(e,o).next(s=>{s!==null&&r.set(o,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,s)=>{this.lt(e,n,s)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.lr.get(r);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const o=Kn(),s=n.length+1,i=new me(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&o.set(l.getKey(),l)}return G.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let s=new Ke((c,u)=>c-u);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Kn(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Kn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=o)););return G.resolve(a)}lt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const i=this.lr.get(o.largestBatchId).delete(r.key);this.lr.set(o.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new GS(n,r));let s=this.lr.get(n);s===void 0&&(s=xe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this.hr=new dt(ot.Pr),this.Ir=new dt(ot.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ot(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new me(new qe([])),r=new ot(n,e),o=new ot(n,e+1),s=[];return this.Ir.forEachInRange([r,o],i=>{this.dr(i),s.push(i.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new me(new qe([])),r=new ot(n,e),o=new ot(n,e+1);let s=xe();return this.Ir.forEachInRange([r,o],i=>{s=s.add(i.key)}),s}containsKey(e){const n=new ot(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return me.comparator(e.key,n.key)||Ve(e.gr,n.gr)}static Tr(e,n){return Ve(e.gr,n.gr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new dt(ot.Pr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new KS(s,n,r,o);this.mutationQueue.push(i);for(const a of o)this.yr=this.yr.add(new ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(i)}lookupMutationBatch(e,n){return G.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Sr(r),s=o<0?0:o;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),o=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,o],i=>{const a=this.wr(i.gr);s.push(a)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(Ve);return n.forEach(o=>{const s=new ot(o,0),i=new ot(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,i],a=>{r=r.add(a.gr)})}),G.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let s=r;me.isDocumentKey(s)||(s=s.child(""));const i=new ot(new me(s),0);let a=new dt(Ve);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===o&&(a=a.add(l.gr)),!0)},i),G.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const o=this.wr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ze(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return G.forEach(n.mutations,o=>{const s=new ot(o.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new ot(n,0),o=this.yr.firstAfterOrEqual(r);return G.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.Cr=e,this.docs=function(){return new Ke(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),s=o?o.size:0,i=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=bn();return n.forEach(o=>{const s=this.docs.get(o);r=r.insert(o,s?s.document.mutableCopy():ft.newInvalidDocument(o))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let s=bn();const i=n.path,a=new me(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||hS(dS(u),r)<=0||(o.has(u.key)||ea(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,n,r,o){ve()}vr(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D1(this)}getSize(e){return G.resolve(this.size)}}class D1 extends T1{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this._r.addEntry(e,o)):this._r.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.persistence=e,this.Fr=new Qr(n=>Nc(n),Lc),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Mr=0,this.Or=new zc,this.targetCount=0,this.Nr=Nr.On()}forEachTarget(e,n){return this.Fr.forEach((r,o)=>n(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),G.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Nr(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.kn(n),G.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let o=0;const s=[];return this.Fr.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),G.waitFor(s).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(i=>{s.push(o.markPotentiallyOrphaned(e,i))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n){this.Lr={},this.overlays={},this.Br=new kc(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new R1(this),this.indexManager=new b1,this.remoteDocumentCache=function(o){return new S1(o)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new v1(n),this.Kr=new C1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new P1(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const o=new M1(this.Br.next());return this.referenceDelegate.$r(),r(o).next(s=>this.referenceDelegate.Ur(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Wr(e,n){return G.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class M1 extends fS{constructor(e){super(),this.currentSequenceNumber=e}}class Wc{constructor(e){this.persistence=e,this.Gr=new zc,this.zr=null}static jr(e){return new Wc(e)}get Hr(){if(this.zr)return this.zr;throw ve()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),G.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(o=>this.Hr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Hr,r=>{const o=me.fromPath(r);return this.Jr(e,o).next(s=>{s||n.removeEntry(o,be.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return G.or([()=>G.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=o}static Qi(e,n){let r=xe(),o=xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new Hc(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return kC()?8:mS(AC())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,o){const s={result:null};return this.zi(e,n).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.ji(e,n,o,r).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new k1;return this.Hi(e,n,i).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,i,a.size)})}).next(()=>s.result)}Ji(e,n,r,o){return r.documentReadCount<this.Ui?(go()<=Re.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",fr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),G.resolve()):(go()<=Re.DEBUG&&ce("QueryEngine","Query:",fr(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Wi*o?(go()<=Re.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",fr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,on(n))):G.resolve())}zi(e,n){if(Wd(n))return G.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=wl(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const i=xe(...s);return this.Gi.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,i,l.readTime)?this.zi(e,wl(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,o){return Wd(n)||o.isEqual(be.min())?G.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const i=this.Yi(n,s);return this.Zi(n,i,r,o)?G.resolve(null):(go()<=Re.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fr(n)),this.Xi(e,i,n,uS(o,-1)).next(a=>a))})}Yi(e,n){let r=new dt(Rm(e));return n.forEach((o,s)=>{ea(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Hi(e,n,r){return go()<=Re.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",fr(n)),this.Gi.getDocumentsMatchingQuery(e,n,kn.min(),r)}Xi(e,n,r,o){return this.Gi.getDocumentsMatchingQuery(e,r,o).next(s=>(n.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,r,o){this.persistence=e,this.es=n,this.serializer=o,this.ts=new Ke(Ve),this.ns=new Qr(s=>Nc(s),Lc),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I1(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function $1(t,e,n,r){return new O1(t,e,n,r)}async function Jm(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(s=>(o=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const i=[],a=[];let l=xe();for(const c of o){i.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:i,addedBatchIds:a}))})})}function N1(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=G.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const f=c.docVersions.get(m);ze(f!==null),g.version.compareTo(f)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function Zm(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function L1(t,e){const n=Te(t),r=e.snapshotVersion;let o=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=n.ss.newChangeBuffer({trackRemovals:!0});o=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const h=o.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(yt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),o=o.insert(d,p),function(g,f,b){return g.resumeToken.approximateByteSize()===0||f.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,u)&&a.push(n.qr.updateTargetData(s,p))});let l=bn(),c=xe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(F1(s,i,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(be.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return G.waitFor(a).next(()=>i.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=o,s))}function F1(t,e,n){let r=xe(),o=xe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let i=bn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(o=o.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:i,cs:o}})}function B1(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function j1(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.qr.getTargetData(r,e).next(s=>s?(o=s,G.resolve(o)):n.qr.allocateTargetId(r).next(i=>(o=new Pn(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function xl(t,e,n){const r=Te(t),o=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,i=>r.persistence.referenceDelegate.removeTarget(i,o))}catch(i){if(!fs(i))throw i;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.ts=r.ts.remove(e),r.ns.delete(o.target)}function th(t,e,n){const r=Te(t);let o=be.min(),s=xe();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,c,u){const d=Te(l),h=d.ns.get(u);return h!==void 0?G.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(r,i,on(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(i,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(i,e,n?o:be.min(),n?s:xe())).next(a=>(U1(r,kS(e),a),{documents:a,ls:s})))}function U1(t,e,n){let r=t.rs.get(e)||be.min();n.forEach((o,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class nh{constructor(){this.activeTargetIds=FS()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z1{constructor(){this.eo=new nh,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new nh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ks=null;function La(){return ks===null?ks=function(){return 268435456+Math.round(2147483648*Math.random())}():ks++,"0x"+ks.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht="WebChannelConnection";class Y1 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${o}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${s}`}get bo(){return!1}Do(n,r,o,s,i){const a=La(),l=this.Co(n,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${a}:`,l,o);const c={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(c,s,i),this.Fo(n,l,c,o).then(u=>(ce("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw kr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",o),u})}Mo(n,r,o,s,i,a){return this.Do(n,r,o,s,i)}vo(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,i)=>n[i]=s),o&&o.headers.forEach((s,i)=>n[i]=s)}Co(n,r){const o=H1[n];return`${this.yo}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,o){const s=La();return new Promise((i,a)=>{const l=new ZP;l.setWithCredentials(!0),l.listenOnce(QP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case $a.NO_ERROR:const u=l.getResponseJson();ce(ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),i(u);break;case $a.TIMEOUT:ce(ht,`RPC '${e}' ${s} timed out`),a(new fe(K.DEADLINE_EXCEEDED,"Request time out"));break;case $a.HTTP_ERROR:const d=l.getStatus();if(ce(ht,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(f){const b=f.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(b)>=0?b:K.UNKNOWN}(p.status);a(new fe(m,p.message))}else a(new fe(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new fe(K.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ce(ht,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(o);ce(ht,`RPC '${e}' ${s} sending request:`,o),l.send(n,"POST",c,r,15)})}xo(e,n,r){const o=La(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=KP(),a=GP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new JP({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ce(ht,`Creating RPC '${e}' stream ${o}: ${u}`,l);const d=i.createWebChannel(u,l);let h=!1,p=!1;const m=new q1({co:f=>{p?ce(ht,`Not sending because RPC '${e}' stream ${o} is closed:`,f):(h||(ce(ht,`Opening RPC '${e}' stream ${o} transport.`),d.open(),h=!0),ce(ht,`RPC '${e}' stream ${o} sending:`,f),d.send(f))},lo:()=>d.close()}),g=(f,b,_)=>{f.listen(b,T=>{try{_(T)}catch(E){setTimeout(()=>{throw E},0)}})};return g(d,Rs.EventType.OPEN,()=>{p||(ce(ht,`RPC '${e}' stream ${o} transport opened.`),m.Vo())}),g(d,Rs.EventType.CLOSE,()=>{p||(p=!0,ce(ht,`RPC '${e}' stream ${o} transport closed`),m.fo())}),g(d,Rs.EventType.ERROR,f=>{p||(p=!0,kr(ht,`RPC '${e}' stream ${o} transport errored:`,f),m.fo(new fe(K.UNAVAILABLE,"The operation could not be completed")))}),g(d,Rs.EventType.MESSAGE,f=>{var b;if(!p){const _=f.data[0];ze(!!_);const T=_,E=T.error||((b=T[0])===null||b===void 0?void 0:b.error);if(E){ce(ht,`RPC '${e}' stream ${o} received error:`,E);const I=E.status;let D=function(V){const $=Je[V];if($!==void 0)return Um($)}(I),C=E.message;D===void 0&&(D=K.INTERNAL,C="Unknown error status: "+I+" with message "+E.message),p=!0,m.fo(new fe(D,C)),d.close()}else ce(ht,`RPC '${e}' stream ${o} received:`,_),m.po(_)}}),g(a,XP.STAT_EVENT,f=>{f.stat===Vd.PROXY?ce(ht,`RPC '${e}' stream ${o} detected buffering proxy`):f.stat===Vd.NOPROXY&&ce(ht,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{m.mo()},0),m}}function Fa(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){return new o1(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r=1e3,o=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=o,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),o=Math.max(0,n-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,o,s,i,a,l){this.si=e,this.Wo=r,this.Go=o,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new eg(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(_n(n.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.zo===n&&this.a_(r,o)},r=>{e(()=>{const o=new fe(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(o)})})}a_(e,n){const r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(o=>{r(()=>this.u_(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K1 extends tg{constructor(e,n,r,o,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();const n=a1(this.serializer,e),r=function(s){if(!("targetChange"in s))return be.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?be.min():i.readTime?sn(i.readTime):be.min()}(e);return this.listener.l_(n,r)}h_(e){const n={};n.database=Cl(this.serializer),n.addTarget=function(s,i){let a;const l=i.target;if(a=bl(l)?{documents:u1(s,l)}:{query:d1(s,l)._t},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=Hm(s,i.resumeToken);const c=Tl(s,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(be.min())>0){a.readTime=li(s,i.snapshotVersion.toTimestamp());const c=Tl(s,i.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=p1(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){const n={};n.database=Cl(this.serializer),n.removeTarget=e,this.r_(n)}}class G1 extends tg{constructor(e,n,r,o,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const n=c1(e.writeResults,e.commitTime),r=sn(e.commitTime);return this.listener.d_(r,n)}return ze(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Cl(this.serializer),this.r_(e)}E_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>l1(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.V_=!1}m_(){if(this.V_)throw new fe(K.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Do(e,El(n,r),o,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(K.UNKNOWN,s.toString())})}Mo(e,n,r,o,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,El(n,r),o,i,a,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(K.UNKNOWN,i.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class X1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(_n(n),this.y_=!1):ce("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r,o,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(i=>{r.enqueueAndForget(async()=>{cr(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Te(l);c.M_.add(4),await ys(c),c.N_.set("Unknown"),c.M_.delete(4),await sa(c)}(this))})}),this.N_=new X1(r,o)}}async function sa(t){if(cr(t))for(const e of t.x_)await e(!0)}async function ys(t){for(const e of t.x_)await e(!1)}function ng(t,e){const n=Te(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Gc(n)?Kc(n):Xr(n).Zo()&&Yc(n,e))}function qc(t,e){const n=Te(t),r=Xr(n);n.F_.delete(e),r.Zo()&&rg(n,e),n.F_.size===0&&(r.Zo()?r.t_():cr(n)&&n.N_.set("Unknown"))}function Yc(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xr(t).h_(e)}function rg(t,e){t.L_.xe(e),Xr(t).P_(e)}function Kc(t){t.L_=new e1({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Xr(t).start(),t.N_.w_()}function Gc(t){return cr(t)&&!Xr(t).Yo()&&t.F_.size>0}function cr(t){return Te(t).M_.size===0}function og(t){t.L_=void 0}async function Z1(t){t.N_.set("Online")}async function eD(t){t.F_.forEach((e,n)=>{Yc(t,e)})}async function tD(t,e){og(t),Gc(t)?(t.N_.D_(e),Kc(t)):t.N_.set("Unknown")}async function nD(t,e,n){if(t.N_.set("Online"),e instanceof Wm&&e.state===2&&e.cause)try{await async function(o,s){const i=s.cause;for(const a of s.targetIds)o.F_.has(a)&&(await o.remoteSyncer.rejectListen(a,i),o.F_.delete(a),o.L_.removeTarget(a))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ci(t,r)}else if(e instanceof js?t.L_.Ke(e):e instanceof zm?t.L_.He(e):t.L_.We(e),!n.isEqual(be.min()))try{const r=await Zm(t.localStore);n.compareTo(r)>=0&&await function(s,i){const a=s.L_.rt(i);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.F_.get(c);u&&s.F_.set(c,u.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,c)=>{const u=s.F_.get(l);if(!u)return;s.F_.set(l,u.withResumeToken(yt.EMPTY_BYTE_STRING,u.snapshotVersion)),rg(s,l);const d=new Pn(u.target,l,c,u.sequenceNumber);Yc(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await ci(t,r)}}async function ci(t,e,n){if(!fs(e))throw e;t.M_.add(1),await ys(t),t.N_.set("Offline"),n||(n=()=>Zm(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await sa(t)})}function sg(t,e){return e().catch(n=>ci(t,n,e))}async function ia(t){const e=Te(t),n=On(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;rD(e);)try{const o=await B1(e.localStore,r);if(o===null){e.v_.length===0&&n.t_();break}r=o.batchId,oD(e,o)}catch(o){await ci(e,o)}ig(e)&&ag(e)}function rD(t){return cr(t)&&t.v_.length<10}function oD(t,e){t.v_.push(e);const n=On(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function ig(t){return cr(t)&&!On(t).Yo()&&t.v_.length>0}function ag(t){On(t).start()}async function sD(t){On(t).R_()}async function iD(t){const e=On(t);for(const n of t.v_)e.E_(n.mutations)}async function aD(t,e,n){const r=t.v_.shift(),o=Bc.from(r,e,n);await sg(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await ia(t)}async function lD(t,e){e&&On(t).T_&&await async function(r,o){if(function(i){return XS(i)&&i!==K.ABORTED}(o.code)){const s=r.v_.shift();On(r).e_(),await sg(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),await ia(r)}}(t,e),ig(t)&&ag(t)}async function oh(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=cr(n);n.M_.add(3),await ys(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await sa(n)}async function cD(t,e){const n=Te(t);e?(n.M_.delete(2),await sa(n)):e||(n.M_.add(2),await ys(n),n.N_.set("Unknown"))}function Xr(t){return t.B_||(t.B_=function(n,r,o){const s=Te(n);return s.m_(),new K1(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(t.datastore,t.asyncQueue,{ho:Z1.bind(null,t),Io:eD.bind(null,t),Eo:tD.bind(null,t),l_:nD.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.e_(),Gc(t)?Kc(t):t.N_.set("Unknown")):(await t.B_.stop(),og(t))})),t.B_}function On(t){return t.k_||(t.k_=function(n,r,o){const s=Te(n);return s.m_(),new G1(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:sD.bind(null,t),Eo:lD.bind(null,t),A_:iD.bind(null,t),d_:aD.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.e_(),await ia(t)):(await t.k_.stop(),t.v_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r,o,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,s){const i=Date.now()+r,a=new Qc(e,n,i,o,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xc(t,e){if(_n("AsyncQueue",`${e}: ${t}`),fs(t))return new fe(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=bo(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new xr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(){this.q_=new Ke(me.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ve():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Lr{constructor(e,n,r,o,s,i,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,o,s){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new Lr(e,n,xr.emptySet(n),i,r,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class dD{constructor(){this.queries=new Qr(e=>Dm(e),Zi),this.onlineState="Unknown",this.z_=new Set}}async function hD(t,e){const n=Te(t);let r=3;const o=e.query;let s=n.queries.get(o);s?!s.W_()&&e.G_()&&(r=2):(s=new uD,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(o,!0);break;case 1:s.K_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(i){const a=Xc(i,`Initialization of query '${fr(e.query)}' failed`);return void e.onError(a)}n.queries.set(o,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Jc(n)}async function pD(t,e){const n=Te(t),r=e.query;let o=3;const s=n.queries.get(r);if(s){const i=s.U_.indexOf(e);i>=0&&(s.U_.splice(i,1),s.U_.length===0?o=e.G_()?0:1:!s.W_()&&e.G_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fD(t,e){const n=Te(t);let r=!1;for(const o of e){const s=o.query,i=n.queries.get(s);if(i){for(const a of i.U_)a.H_(o)&&(r=!0);i.K_=o}}r&&Jc(n)}function mD(t,e,n){const r=Te(t),o=r.queries.get(e);if(o)for(const s of o.U_)s.onError(n);r.queries.delete(e)}function Jc(t){t.z_.forEach(e=>{e.next()})}var Pl,ih;(ih=Pl||(Pl={})).J_="default",ih.Cache="cache";class gD{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Lr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Lr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Pl.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.key=e}}class cg{constructor(e){this.key=e}}class yD{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=xe(),this.mutatedKeys=xe(),this.Ia=Rm(e),this.Ta=new xr(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new sh,o=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,i=o,a=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,c=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((u,d)=>{const h=o.get(u),p=ea(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let f=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),f=!0):this.Ra(h,p)||(r.track({type:2,doc:p}),f=!0,(l&&this.Ia(p,l)>0||c&&this.Ia(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),f=!0):h&&!p&&(r.track({type:1,doc:h}),f=!0,(l||c)&&(a=!0)),f&&(p?(i=i.add(p),s=g?s.add(u):s.delete(u)):(i=i.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const u=this.query.limitType==="F"?i.last():i.first();i=i.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ta:i,Aa:r,Zi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const i=e.Aa.Q_();i.sort((u,d)=>function(p,m){const g=f=>{switch(f){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return g(p)-g(m)}(u.type,d.type)||this.Ia(u.doc,d.doc)),this.Va(r),o=o!=null&&o;const a=n&&!o?this.ma():[],l=this.Pa.size===0&&this.current&&!o?1:0,c=l!==this.ha;return this.ha=l,i.length!==0||c?{snapshot:new Lr(this.query,e.Ta,s,i,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new sh,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=xe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new cg(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new lg(r))}),n}pa(e){this.la=e.ls,this.Pa=xe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Lr.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class vD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _D{constructor(e){this.key=e,this.wa=!1}}class bD{constructor(e,n,r,o,s,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Sa={},this.ba=new Qr(a=>Dm(a),Zi),this.Da=new Map,this.Ca=new Set,this.va=new Ke(me.comparator),this.Fa=new Map,this.Ma=new zc,this.xa={},this.Oa=new Map,this.Na=Nr.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function wD(t,e,n=!0){const r=mg(t);let o;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),o=s.view.ya()):o=await ug(r,e,n,!0),o}async function TD(t,e){const n=mg(t);await ug(n,e,!0,!1)}async function ug(t,e,n,r){const o=await j1(t.localStore,on(e)),s=o.targetId,i=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await ED(t,e,s,i==="current",o.resumeToken)),t.isPrimaryClient&&n&&ng(t.remoteStore,o),a}async function ED(t,e,n,r,o){t.Ba=(d,h,p)=>async function(g,f,b,_){let T=f.view.da(b);T.Zi&&(T=await th(g.localStore,f.query,!1).then(({documents:C})=>f.view.da(C,T)));const E=_&&_.targetChanges.get(f.targetId),I=_&&_.targetMismatches.get(f.targetId)!=null,D=f.view.applyChanges(T,g.isPrimaryClient,E,I);return lh(g,f.targetId,D.fa),D.snapshot}(t,d,h,p);const s=await th(t.localStore,e,!0),i=new yD(e,s.ls),a=i.da(s.documents),l=gs.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),c=i.applyChanges(a,t.isPrimaryClient,l);lh(t,n,c.fa);const u=new vD(e,n,i);return t.ba.set(e,u),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function ID(t,e,n){const r=Te(t),o=r.ba.get(e),s=r.Da.get(o.targetId);if(s.length>1)return r.Da.set(o.targetId,s.filter(i=>!Zi(i,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await xl(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&qc(r.remoteStore,o.targetId),Sl(r,o.targetId)}).catch(ps)):(Sl(r,o.targetId),await xl(r.localStore,o.targetId,!0))}async function CD(t,e){const n=Te(t),r=n.ba.get(e),o=n.Da.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qc(n.remoteStore,r.targetId))}async function xD(t,e,n){const r=kD(t);try{const o=await function(i,a){const l=Te(i),c=nt.now(),u=a.reduce((p,m)=>p.add(m.key),xe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=bn(),g=xe();return l.ss.getEntries(p,u).next(f=>{m=f,m.forEach((b,_)=>{_.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(f=>{d=f;const b=[];for(const _ of a){const T=qS(_,d.get(_.key).overlayedDocument);T!=null&&b.push(new Bn(_.key,T,wm(T.value.mapValue),qt.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,a)}).next(f=>{h=f;const b=f.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,f.batchId,b)})}).then(()=>({batchId:h.batchId,changes:Mm(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(i,a,l){let c=i.xa[i.currentUser.toKey()];c||(c=new Ke(Ve)),c=c.insert(a,l),i.xa[i.currentUser.toKey()]=c}(r,o.batchId,n),await vs(r,o.changes),await ia(r.remoteStore)}catch(o){const s=Xc(o,"Failed to persist write");n.reject(s)}}async function dg(t,e){const n=Te(t);try{const r=await L1(n.localStore,e);e.targetChanges.forEach((o,s)=>{const i=n.Fa.get(s);i&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?i.wa=!0:o.modifiedDocuments.size>0?ze(i.wa):o.removedDocuments.size>0&&(ze(i.wa),i.wa=!1))}),await vs(n,r,e)}catch(r){await ps(r)}}function ah(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.ba.forEach((s,i)=>{const a=i.view.j_(e);a.snapshot&&o.push(a.snapshot)}),function(i,a){const l=Te(i);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.U_)h.j_(a)&&(c=!0)}),c&&Jc(l)}(r.eventManager,e),o.length&&r.Sa.l_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PD(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Fa.get(e),s=o&&o.key;if(s){let i=new Ke(me.comparator);i=i.insert(s,ft.newNoDocument(s,be.min()));const a=xe().add(s),l=new ra(be.min(),new Map,new Ke(Ve),i,a);await dg(r,l),r.va=r.va.remove(s),r.Fa.delete(e),Zc(r)}else await xl(r.localStore,e,!1).then(()=>Sl(r,e,n)).catch(ps)}async function SD(t,e){const n=Te(t),r=e.batch.batchId;try{const o=await N1(n.localStore,e);pg(n,r,null),hg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vs(n,o)}catch(o){await ps(o)}}async function DD(t,e,n){const r=Te(t);try{const o=await function(i,a){const l=Te(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ze(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);pg(r,e,n),hg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vs(r,o)}catch(o){await ps(o)}}function hg(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function pg(t,e,n){const r=Te(t);let o=r.xa[r.currentUser.toKey()];if(o){const s=o.get(e);s&&(n?s.reject(n):s.resolve(),o=o.remove(e)),r.xa[r.currentUser.toKey()]=o}}function Sl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||fg(t,r)})}function fg(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(qc(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Zc(t))}function lh(t,e,n){for(const r of n)r instanceof lg?(t.Ma.addReference(r.key,e),RD(t,r)):r instanceof cg?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||fg(t,r.key)):ve()}function RD(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Zc(t))}function Zc(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new me(qe.fromString(e)),r=t.Na.next();t.Fa.set(r,new _D(n)),t.va=t.va.insert(n,r),ng(t.remoteStore,new Pn(on(Sm(n.path)),r,"TargetPurposeLimboResolution",kc.oe))}}async function vs(t,e,n){const r=Te(t),o=[],s=[],i=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{i.push(r.Ba(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){o.push(c);const u=Hc.Qi(l.targetId,c);s.push(u)}}))}),await Promise.all(i),r.Sa.l_(o),await async function(l,c){const u=Te(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>G.forEach(c,h=>G.forEach(h.ki,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>G.forEach(h.qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!fs(d))throw d;ce("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.ts.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.ts=u.ts.insert(h,g)}}}(r.localStore,s))}async function AD(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await Jm(n.localStore,e);n.currentUser=e,function(s,i){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new fe(K.CANCELLED,i))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vs(n,r._s)}}function MD(t,e){const n=Te(t),r=n.Fa.get(e);if(r&&r.wa)return xe().add(r.key);{let o=xe();const s=n.Da.get(e);if(!s)return o;for(const i of s){const a=n.ba.get(i);o=o.unionWith(a.view.Ea)}return o}}function mg(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PD.bind(null,e),e.Sa.l_=fD.bind(null,e.eventManager),e.Sa.ka=mD.bind(null,e.eventManager),e}function kD(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DD.bind(null,e),e}class ch{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=oa(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $1(this.persistence,new V1,e.initialUser,this.serializer)}createPersistence(e){return new A1(Wc.jr,this.serializer)}createSharedClientState(e){return new z1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class VD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ah(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AD.bind(null,this.syncEngine),await cD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dD}()}createDatastore(e){const n=oa(e.databaseInfo.databaseId),r=function(s){return new Y1(s)}(e.databaseInfo);return function(s,i,a,l){return new Q1(s,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,s,i,a){return new J1(r,o,s,i,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ah(this.syncEngine,n,0),function(){return rh.D()?new rh:new W1}())}createSyncEngine(e,n){return function(o,s,i,a,l,c,u){const d=new bD(o,s,i,a,l,c);return u&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const o=Te(r);ce("RemoteStore","RemoteStore shutting down."),o.M_.add(5),await ys(o),o.O_.shutdown(),o.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):_n("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=pt.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ba(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await Jm(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uh(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LD(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oh(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>oh(e.remoteStore,o)),t._onlineComponents=e}function ND(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function LD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ba(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ND(n))throw n;kr("Error using user provided cache. Falling back to memory cache: "+n),await Ba(t,new ch)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Ba(t,new ch);return t._offlineComponents}async function gg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await uh(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await uh(t,new VD))),t._onlineComponents}function FD(t){return gg(t).then(e=>e.syncEngine)}async function BD(t){const e=await gg(t),n=e.eventManager;return n.onListen=wD.bind(null,e.syncEngine),n.onUnlisten=ID.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CD.bind(null,e.syncEngine),n}function jD(t,e,n={}){const r=new Rn;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,a,l,c){const u=new OD({next:h=>{i.enqueueAndForget(()=>pD(s,d)),h.fromCache&&l.source==="server"?c.reject(new fe(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new gD(a,u,{includeMetadataChanges:!0,ra:!0});return hD(s,d)}(await BD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t,e,n){if(!n)throw new fe(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UD(t,e,n,r){if(e===!0&&r===!0)throw new fe(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hh(t){if(!me.isDocumentKey(t))throw new fe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ph(t){if(me.isDocumentKey(t))throw new fe(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eu(t);throw new fe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yg((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class aa{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new fe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tS;switch(r.type){case"firstParty":return new sS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dh.get(n);r&&(ce("ComponentProvider","Removing Datastore"),dh.delete(n),r.terminate())}(this),Promise.resolve()}}function zD(t,e,n,r={}){var o;const s=(t=or(t,aa))._getSettings(),i=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==i&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=pt.MOCK_USER;else{a=RC(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new fe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pt(c)}t._authCredentials=new nS(new ym(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class Lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new An(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}}class An extends la{constructor(e,n,r){super(e,n,Sm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new me(e))}withConverter(e){return new An(this.firestore,e,this._path)}}function _g(t,e,...n){if(t=Mn(t),vg("collection","path",e),t instanceof aa){const r=qe.fromString(e,...n);return ph(r),new An(t,null,r)}{if(!(t instanceof Lt||t instanceof An))throw new fe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return ph(r),new An(t.firestore,null,r)}}function tu(t,e,...n){if(t=Mn(t),arguments.length===1&&(e=vm.newId()),vg("doc","path",e),t instanceof aa){const r=qe.fromString(e,...n);return hh(r),new Lt(t,null,new me(r))}{if(!(t instanceof Lt||t instanceof An))throw new fe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return hh(r),new Lt(t.firestore,t instanceof An?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new eg(this,"async_queue_retry"),this.hu=()=>{const n=Fa();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=Fa();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Fa();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Rn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!fs(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const o=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw _n("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const o=Qc.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(o),o}Pu(){this.au&&ve()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class _s extends aa{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=function(){return new WD}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wg(this),this._firestoreClient.terminate()}}function HD(t,e){const n=typeof t=="object"?t:Nx(),r=typeof t=="string"?t:"(default)",o=kx(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const s=SC("firestore");s&&zD(o,...s)}return o}function bg(t){return t._firestoreClient||wg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wg(t){var e,n,r;const o=t._freezeSettings(),s=function(a,l,c,u){return new vS(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,yg(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new $D(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fr(yt.fromBase64String(e))}catch(n){throw new fe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fr(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^__.*__$/;class YD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ms(e,this.data,n,this.fieldTransforms)}}class Tg{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Eg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class ou{constructor(e,n,r,o,s,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new ou(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.gu({path:r,yu:!1});return o.wu(e),o}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.gu({path:r,yu:!1});return o.mu(),o}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return ui(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Eg(this.fu)&&qD.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class KD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||oa(e)}Fu(e,n,r,o=!1){return new ou({fu:e,methodName:n,vu:r,path:ct.emptyPath(),yu:!1,Cu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ig(t){const e=t._freezeSettings(),n=oa(t._databaseId);return new KD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GD(t,e,n,r,o,s={}){const i=t.Fu(s.merge||s.mergeFields?2:0,e,n,o);su("Data must be an object, but it was:",i,r);const a=Cg(r,i);let l,c;if(s.merge)l=new Pt(i.fieldMask),c=i.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Dl(e,d,n);if(!i.contains(h))throw new fe(K.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Pg(u,h)||u.push(h)}l=new Pt(u),c=i.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=i.fieldTransforms;return new YD(new Et(a),l,c)}class ua extends nu{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ua}}function QD(t,e,n,r){const o=t.Fu(1,e,n);su("Data must be an object, but it was:",o,r);const s=[],i=Et.empty();lr(r,(l,c)=>{const u=iu(e,l,n);c=Mn(c);const d=o.Su(u);if(c instanceof ua)s.push(u);else{const h=da(c,d);h!=null&&(s.push(u),i.set(u,h))}});const a=new Pt(s);return new Tg(i,a,o.fieldTransforms)}function XD(t,e,n,r,o,s){const i=t.Fu(1,e,n),a=[Dl(e,r,n)],l=[o];if(s.length%2!=0)throw new fe(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Dl(e,s[h])),l.push(s[h+1]);const c=[],u=Et.empty();for(let h=a.length-1;h>=0;--h)if(!Pg(c,a[h])){const p=a[h];let m=l[h];m=Mn(m);const g=i.Su(p);if(m instanceof ua)c.push(p);else{const f=da(m,g);f!=null&&(c.push(p),u.set(p,f))}}const d=new Pt(c);return new Tg(u,d,i.fieldTransforms)}function da(t,e){if(xg(t=Mn(t)))return su("Unsupported field value:",e,t),Cg(t,e);if(t instanceof nu)return function(r,o){if(!Eg(o.fu))throw o.Du(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,o){const s=[];let i=0;for(const a of r){let l=da(a,o.bu(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(t,e)}return function(r,o){if((r=Mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=nt.fromDate(r);return{timestampValue:li(o.serializer,s)}}if(r instanceof nt){const s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:li(o.serializer,s)}}if(r instanceof ru)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fr)return{bytesValue:Hm(o.serializer,r._byteString)};if(r instanceof Lt){const s=o.databaseId,i=r.firestore._databaseId;if(!i.isEqual(s))throw o.Du(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Uc(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.Du(`Unsupported field value: ${eu(r)}`)}(t,e)}function Cg(t,e){const n={};return _m(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lr(t,(r,o)=>{const s=da(o,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function xg(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof ru||t instanceof Fr||t instanceof Lt||t instanceof nu)}function su(t,e,n){if(!xg(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=eu(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Dl(t,e,n){if((e=Mn(e))instanceof ca)return e._internalPath;if(typeof e=="string")return iu(t,e);throw ui("Field path arguments must be of type string or ",t,!1,void 0,n)}const JD=new RegExp("[~\\*/\\[\\]]");function iu(t,e,n){if(e.search(JD)>=0)throw ui(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ca(...e.split("."))._internalPath}catch{throw ui(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ui(t,e,n,r,o){const s=r&&!r.isEmpty(),i=o!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${r}`),i&&(l+=` in document ${o}`),l+=")"),new fe(K.INVALID_ARGUMENT,a+t+l)}function Pg(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,r,o,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZD extends Sg{data(){return super.data()}}function Dg(t,e){return typeof e=="string"?iu(t,e):e instanceof ca?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tR{convertValue(e,n="none"){switch(rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lr(e,(o,s)=>{r[o]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ru(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Oc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const n=Vn(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);ze(Xm(r));const o=new Ko(r.get(1),r.get(3)),s=new me(r.popFirst(5));return o.isEqual(n)||_n(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rR extends Sg{constructor(e,n,r,o,s,i){super(e,n,r,o,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Us(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Us extends rR{data(e={}){return super.data(e)}}class oR{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Vs(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Us(this._firestore,this._userDataWriter,r.key,r,new Vs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let i=0;return o._snapshot.docChanges.map(a=>{const l=new Us(o._firestore,o._userDataWriter,a.doc.key,a.doc,new Vs(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Us(o._firestore,o._userDataWriter,a.doc.key,a.doc,new Vs(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let c=-1,u=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),u=i.indexOf(a.doc.key)),{type:sR(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class iR extends tR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function aR(t){t=or(t,la);const e=or(t.firestore,_s),n=bg(e),r=new iR(e);return eR(t._query),jD(n,t._query).then(o=>new oR(e,r,t,o))}function lR(t,e,n,...r){t=or(t,Lt);const o=or(t.firestore,_s),s=Ig(o);let i;return i=typeof(e=Mn(e))=="string"||e instanceof ca?XD(s,"updateDoc",t._key,e,n,r):QD(s,"updateDoc",t._key,e),au(o,[i.toMutation(t._key,qt.exists(!0))])}function cR(t){return au(or(t.firestore,_s),[new Fc(t._key,qt.none())])}function uR(t,e){const n=or(t.firestore,_s),r=tu(t),o=nR(t.converter,e);return au(n,[GD(Ig(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,qt.exists(!1))]).then(()=>r)}function au(t,e){return function(r,o){const s=new Rn;return r.asyncQueue.enqueueAndForget(async()=>xD(await FD(r),o,s)),s.promise}(bg(t),e)}(function(e,n=!0){(function(o){Gr=o})($x),Qs(new $o("firestore",(r,{instanceIdentifier:o,options:s})=>{const i=r.getProvider("app").getImmediate(),a=new _s(new rS(r.getProvider("auth-internal")),new aS(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new fe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(c.options.projectId,u)}(i,o),i);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Er(Od,"4.6.1",e),Er(Od,"4.6.1","esm2017")})();var dR="firebase",hR="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(dR,hR,"app");var pR={VITE_apiKey:"AIzaSyAz1IuDZ2VRkXR-hzZ5W7WaZVrb1o_-qlM",VITE_authDomain:"languagelift-91570.firebaseapp.com",VITE_projectId:"languagelift-91570",VITE_storageBucket:"languagelift-91570.appspot.com",VITE_messagingSenderId:"598651717153",VITE_appId:"1:598651717153:web:476e9d51ce2c750eaa4560",BASE_URL:"/languagelift",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const hr=pR,fR={apiKey:hr.VITE_apiKey,authDomain:hr.VITE_authDomain,projectId:hr.VITE_projectId,storageBucket:hr.VITE_storageBucket,messagingSenderId:hr.VITE_messagingSenderId,appId:hr.VITE_appId},mR=hf(fR),di=HD(mR),gR=async(t,e)=>{try{const n=await uR(_g(di,t),e),r=tu(di,t,n.id);return await lR(r,{id:n.id}),"success"}catch(n){throw console.error("Error adding document: ",n),n}},Rg=async(t,e)=>{try{const r=[...(await aR(_g(di,t))).docs.map(o=>o.data())];return await e(r),"getData is success"}catch(n){throw console.error("Error get documents: ",n),n}},yR=async(t,e)=>{try{return await cR(tu(di,t,e)),"delete"}catch(n){throw console.error("Error delete documents: ",n),n}},Jo=t=>typeof t=="number"&&!isNaN(t),Xn=t=>typeof t=="string",St=t=>typeof t=="function",zs=t=>Xn(t)||St(t)?t:null,Rl=t=>y.isValidElement(t)||Xn(t)||St(t)||Jo(t);function vR(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:o}=t;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,n)})})}function ha(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:o=!0,collapseDuration:s=300}=t;return function(i){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:p}=i;const m=r?`${e}--${l}`:e,g=r?`${n}--${l}`:n,f=y.useRef(0);return y.useLayoutEffect(()=>{const b=d.current,_=m.split(" "),T=E=>{E.target===d.current&&(p(),b.removeEventListener("animationend",T),b.removeEventListener("animationcancel",T),f.current===0&&E.type!=="animationcancel"&&b.classList.remove(..._))};b.classList.add(..._),b.addEventListener("animationend",T),b.addEventListener("animationcancel",T)},[]),y.useEffect(()=>{const b=d.current,_=()=>{b.removeEventListener("animationend",_),o?vR(b,u,s):u()};h||(c?_():(f.current=1,b.className+=` ${g}`,b.addEventListener("animationend",_)))},[h]),Ne.createElement(Ne.Fragment,null,a)}}function mh(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const bt=new Map;let Zo=[];const Al=new Set,_R=t=>Al.forEach(e=>e(t)),Ag=()=>bt.size>0;function Mg(t,e){var n;if(e)return!((n=bt.get(e))==null||!n.isToastActive(t));let r=!1;return bt.forEach(o=>{o.isToastActive(t)&&(r=!0)}),r}function kg(t,e){Rl(t)&&(Ag()||Zo.push({content:t,options:e}),bt.forEach(n=>{n.buildToast(t,e)}))}function gh(t,e){bt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function bR(t){const{subscribe:e,getSnapshot:n,setProps:r}=y.useRef(function(s){const i=s.containerId||1;return{subscribe(a){const l=function(u,d,h){let p=1,m=0,g=[],f=[],b=[],_=d;const T=new Map,E=new Set,I=()=>{b=Array.from(T.values()),E.forEach(x=>x())},D=x=>{f=x==null?[]:f.filter(V=>V!==x),I()},C=x=>{const{toastId:V,onOpen:$,updateId:R,children:L}=x.props,k=R==null;x.staleId&&T.delete(x.staleId),T.set(V,x),f=[...f,x.props.toastId].filter(M=>M!==x.staleId),I(),h(mh(x,k?"added":"updated")),k&&St($)&&$(y.isValidElement(L)&&L.props)};return{id:u,props:_,observe:x=>(E.add(x),()=>E.delete(x)),toggle:(x,V)=>{T.forEach($=>{V!=null&&V!==$.props.toastId||St($.toggle)&&$.toggle(x)})},removeToast:D,toasts:T,clearQueue:()=>{m-=g.length,g=[]},buildToast:(x,V)=>{if((z=>{let{containerId:H,toastId:ee,updateId:oe}=z;const j=H?H!==u:u!==1,U=T.has(ee)&&oe==null;return j||U})(V))return;const{toastId:$,updateId:R,data:L,staleId:k,delay:M}=V,P=()=>{D($)},A=R==null;A&&m++;const F={..._,style:_.toastStyle,key:p++,...Object.fromEntries(Object.entries(V).filter(z=>{let[H,ee]=z;return ee!=null})),toastId:$,updateId:R,data:L,closeToast:P,isIn:!1,className:zs(V.className||_.toastClassName),bodyClassName:zs(V.bodyClassName||_.bodyClassName),progressClassName:zs(V.progressClassName||_.progressClassName),autoClose:!V.isLoading&&(S=V.autoClose,O=_.autoClose,S===!1||Jo(S)&&S>0?S:O),deleteToast(){const z=T.get($),{onClose:H,children:ee}=z.props;St(H)&&H(y.isValidElement(ee)&&ee.props),h(mh(z,"removed")),T.delete($),m--,m<0&&(m=0),g.length>0?C(g.shift()):I()}};var S,O;F.closeButton=_.closeButton,V.closeButton===!1||Rl(V.closeButton)?F.closeButton=V.closeButton:V.closeButton===!0&&(F.closeButton=!Rl(_.closeButton)||_.closeButton);let W=x;y.isValidElement(x)&&!Xn(x.type)?W=y.cloneElement(x,{closeToast:P,toastProps:F,data:L}):St(x)&&(W=x({closeToast:P,toastProps:F,data:L}));const J={content:W,props:F,staleId:k};_.limit&&_.limit>0&&m>_.limit&&A?g.push(J):Jo(M)?setTimeout(()=>{C(J)},M):C(J)},setProps(x){_=x},setToggle:(x,V)=>{T.get(x).toggle=V},isToastActive:x=>f.some(V=>V===x),getSnapshot:()=>_.newestOnTop?b.reverse():b}}(i,s,_R);bt.set(i,l);const c=l.observe(a);return Zo.forEach(u=>kg(u.content,u.options)),Zo=[],()=>{c(),bt.delete(i)}},setProps(a){var l;(l=bt.get(i))==null||l.setProps(a)},getSnapshot(){var a;return(a=bt.get(i))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const o=y.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!o)return[];const i=new Map;return o.forEach(a=>{const{position:l}=a.props;i.has(l)||i.set(l,[]),i.get(l).push(a)}),Array.from(i,a=>s(a[0],a[1]))},isToastActive:Mg,count:o==null?void 0:o.length}}function wR(t){const[e,n]=y.useState(!1),[r,o]=y.useState(!1),s=y.useRef(null),i=y.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=t;var h,p;function m(){n(!0)}function g(){n(!1)}function f(T){const E=s.current;i.canDrag&&E&&(i.didMove=!0,e&&g(),i.delta=t.draggableDirection==="x"?T.clientX-i.start:T.clientY-i.start,i.start!==T.clientX&&(i.canCloseOnClick=!1),E.style.transform=`translate3d(${t.draggableDirection==="x"?`${i.delta}px, var(--y)`:`0, calc(${i.delta}px + var(--y))`},0)`,E.style.opacity=""+(1-Math.abs(i.delta/i.removalDistance)))}function b(){document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",b);const T=s.current;if(i.canDrag&&i.didMove&&T){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return o(!0),t.closeToast(),void t.collapseAll();T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}(p=bt.get((h={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||p.setToggle(h.id,h.fn),y.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",g)}},[t.pauseOnFocusLoss]);const _={onPointerDown:function(T){if(t.draggable===!0||t.draggable===T.pointerType){i.didMove=!1,document.addEventListener("pointermove",f),document.addEventListener("pointerup",b);const E=s.current;i.canCloseOnClick=!0,i.canDrag=!0,E.style.transition="none",t.draggableDirection==="x"?(i.start=T.clientX,i.removalDistance=E.offsetWidth*(t.draggablePercent/100)):(i.start=T.clientY,i.removalDistance=E.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(T){const{top:E,bottom:I,left:D,right:C}=s.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&t.pauseOnHover&&T.clientX>=D&&T.clientX<=C&&T.clientY>=E&&T.clientY<=I?g():m()}};return a&&l&&(_.onMouseEnter=g,t.stacked||(_.onMouseLeave=m)),d&&(_.onClick=T=>{u&&u(T),i.canCloseOnClick&&c()}),{playToast:m,pauseToast:g,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:_}}function TR(t){let{delay:e,isRunning:n,closeToast:r,type:o="default",hide:s,className:i,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=t;const p=s||l&&c===0,m={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(m.transform=`scaleX(${c})`);const g=de("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":u}),f=St(i)?i({rtl:u,type:o,defaultClassName:g}):de(g,i),b={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}};return Ne.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},Ne.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${o}`}),Ne.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:f,style:m,...b}))}let ER=1;const Vg=()=>""+ER++;function IR(t){return t&&(Xn(t.toastId)||Jo(t.toastId))?t.toastId:Vg()}function Ao(t,e){return kg(t,e),e.toastId}function hi(t,e){return{...e,type:e&&e.type||t,toastId:IR(e)}}function Os(t){return(e,n)=>Ao(e,hi(t,n))}function $e(t,e){return Ao(t,hi("default",e))}$e.loading=(t,e)=>Ao(t,hi("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),$e.promise=function(t,e,n){let r,{pending:o,error:s,success:i}=e;o&&(r=Xn(o)?$e.loading(o,n):$e.loading(o.render,{...n,...o}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void $e.dismiss(r);const p={type:u,...a,...n,data:h},m=Xn(d)?{render:d}:d;return r?$e.update(r,{...p,...m}):$e(m.render,{...p,...m}),h},c=St(t)?t():t;return c.then(u=>l("success",i,u)).catch(u=>l("error",s,u)),c},$e.success=Os("success"),$e.info=Os("info"),$e.error=Os("error"),$e.warning=Os("warning"),$e.warn=$e.warning,$e.dark=(t,e)=>Ao(t,hi("default",{theme:"dark",...e})),$e.dismiss=function(t){(function(e){var n;if(Ag()){if(e==null||Xn(n=e)||Jo(n))bt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=bt.get(e.containerId);r?r.removeToast(e.id):bt.forEach(o=>{o.removeToast(e.id)})}}else Zo=Zo.filter(r=>e!=null&&r.options.toastId!==e)})(t)},$e.clearWaitingQueue=function(t){t===void 0&&(t={}),bt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},$e.isActive=Mg,$e.update=function(t,e){e===void 0&&(e={});const n=((r,o)=>{var s;let{containerId:i}=o;return(s=bt.get(i||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:o}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:Vg()};s.toastId!==t&&(s.staleId=t);const i=s.render||o;delete s.render,Ao(i,s)}},$e.done=t=>{$e.update(t,{progress:1})},$e.onChange=function(t){return Al.add(t),()=>{Al.delete(t)}},$e.play=t=>gh(!0,t),$e.pause=t=>gh(!1,t);const CR=typeof window<"u"?y.useLayoutEffect:y.useEffect,$s=t=>{let{theme:e,type:n,isLoading:r,...o}=t;return Ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...o})},ja={info:function(t){return Ne.createElement($s,{...t},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Ne.createElement($s,{...t},Ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Ne.createElement($s,{...t},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Ne.createElement($s,{...t},Ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ne.createElement("div",{className:"Toastify__spinner"})}},xR=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:o,playToast:s}=wR(t),{closeButton:i,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:h,transition:p,position:m,className:g,style:f,bodyClassName:b,bodyStyle:_,progressClassName:T,progressStyle:E,updateId:I,role:D,progress:C,rtl:x,toastId:V,deleteToast:$,isIn:R,isLoading:L,closeOnClick:k,theme:M}=t,P=de("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":x},{"Toastify__toast--close-on-click":k}),A=St(g)?g({rtl:x,position:m,type:u,defaultClassName:P}):de(P,g),F=function(J){let{theme:z,type:H,isLoading:ee,icon:oe}=J,j=null;const U={theme:z,type:H};return oe===!1||(St(oe)?j=oe({...U,isLoading:ee}):y.isValidElement(oe)?j=y.cloneElement(oe,U):ee?j=ja.spinner():(Q=>Q in ja)(H)&&(j=ja[H](U))),j}(t),S=!!C||!l,O={closeToast:h,type:u,theme:M};let W=null;return i===!1||(W=St(i)?i(O):y.isValidElement(i)?y.cloneElement(i,O):function(J){let{closeToast:z,theme:H,ariaLabel:ee="close"}=J;return Ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${H}`,type:"button",onClick:oe=>{oe.stopPropagation(),z(oe)},"aria-label":ee},Ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(O)),Ne.createElement(p,{isIn:R,done:$,position:m,preventExitTransition:n,nodeRef:r,playToast:s},Ne.createElement("div",{id:V,onClick:c,"data-in":R,className:A,...o,style:f,ref:r},Ne.createElement("div",{...R&&{role:D},className:St(b)?b({type:u}):de("Toastify__toast-body",b),style:_},F!=null&&Ne.createElement("div",{className:de("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},F),Ne.createElement("div",null,a)),W,Ne.createElement(TR,{...I&&!S?{key:`pb-${I}`}:{},rtl:x,theme:M,delay:l,isRunning:e,isIn:R,closeToast:h,hide:d,type:u,style:E,className:T,controlledProgress:S,progress:C||0})))},pa=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},PR=ha(pa("bounce",!0));ha(pa("slide",!0));ha(pa("zoom"));ha(pa("flip"));const SR={position:"top-right",transition:PR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function DR(t){let e={...SR,...t};const n=t.stacked,[r,o]=y.useState(!0),s=y.useRef(null),{getToastToRender:i,isToastActive:a,count:l}=bR(e),{className:c,style:u,rtl:d,containerId:h}=e;function p(g){const f=de("Toastify__toast-container",`Toastify__toast-container--${g}`,{"Toastify__toast-container--rtl":d});return St(c)?c({position:g,rtl:d,defaultClassName:f}):de(f,zs(c))}function m(){n&&(o(!0),$e.play())}return CR(()=>{if(n){var g;const f=s.current.querySelectorAll('[data-in="true"]'),b=12,_=(g=e.position)==null?void 0:g.includes("top");let T=0,E=0;Array.from(f).reverse().forEach((I,D)=>{const C=I;C.classList.add("Toastify__toast--stacked"),D>0&&(C.dataset.collapsed=`${r}`),C.dataset.pos||(C.dataset.pos=_?"top":"bot");const x=T*(r?.2:1)+(r?0:b*D);C.style.setProperty("--y",`${_?x:-1*x}px`),C.style.setProperty("--g",`${b}`),C.style.setProperty("--s",""+(1-(r?E:0))),T+=C.offsetHeight,E+=.025})}},[r,l,n]),Ne.createElement("div",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{n&&(o(!1),$e.pause())},onMouseLeave:m},i((g,f)=>{const b=f.length?{...u}:{...u,pointerEvents:"none"};return Ne.createElement("div",{className:p(g),style:b,key:`container-${g}`},f.map(_=>{let{content:T,props:E}=_;return Ne.createElement(xR,{...E,stacked:n,collapseAll:m,isIn:a(E.toastId,E.containerId),style:E.style,key:`toast-${E.key}`},T)}))}))}const Ml=(t,e)=>{switch(t){case"success":$e.success(e);break;case"warning":$e.warning(e);break;case"info":$e.info(e);break;case"error":$e.error(e);break}};Og.propTypes={actualSchedule:B.array.isRequired,setActualSchedul:B.func.isRequired,permission:B.bool.isRequired,selectMonth:B.string.isRequired};function Og({actualSchedule:t,setActualSchedul:e,permission:n,selectMonth:r}){const{language:o}=y.useContext($n),s=t.filter(({date:i})=>i.slice(3).includes(r));return w.jsxs(Sw,{component:Br,sx:{boxShadow:"1px 1px 10px 1px rgba(0,0,0,0.05)"},children:[w.jsxs(hw,{children:[w.jsx(Vw,{children:w.jsxs(Yu,{children:[w.jsx(Cn,{align:"center",children:o==="en"?"Location":""}),w.jsx(Cn,{align:"center",children:o==="en"?"Date":""}),w.jsx(Cn,{align:"center",children:o==="en"?"Time":""}),n&&w.jsx(Cn,{align:"center",children:o==="en"?"Delete":""})]})}),w.jsx(vw,{children:s.map(({id:i,date:a,time:l,location:c},u)=>w.jsxs(Yu,{id:i,sx:{"&:last-child td, &:last-child th":{border:0}},children:[w.jsx(Cn,{align:"center",children:c}),w.jsx(Cn,{align:"center",children:a}),w.jsx(Cn,{align:"center",sx:{whiteSpace:"nowrap"},children:l}),n&&w.jsx(Cn,{align:"center",children:w.jsx(zr,{color:"error",onClick:async()=>{try{await yR("lessonsWithJill",i)&&await Rg("lessonsWithJill",e)&&Ml("success",o==="en"?"File deleted successfully":"  ")}catch(d){console.log(d),Ml("error",o==="en"?"Something went wrong, please try again later":"   ,  ")}},children:w.jsx(Eh,{})})})]},u))})]}),s.length===0&&w.jsx(Kt,{variant:"h6",textAlign:"center",marginBottom:2,mt:2,children:o==="en"?"Lessons this month are not yet scheduled":"     i "})]})}$g.propTypes={setErrorDate:B.func,errorDate:B.bool,setValueDate:B.func};function $g({errorDate:t,setErrorDate:e,setValueDate:n}){const[r,o]=y.useState(Ye(new Date).$d.toLocaleDateString()??""),[s,i]=y.useState(null),{language:a}=y.useContext($n),c=/^\d{2}\.\d{2}\.20\d{2}$/.test(r);y.useEffect(()=>{n(r)},[r,n]),y.useEffect(()=>{e(!!(r===""||r==="Invalid Date"||!c||s))},[r,s,e,c]);const u=()=>{if(t){if(!c&&r!=="")return a==="en"?"Year is incorrect":" ";if(r==="")return a==="en"?"Date is required":"  ";if(s)return a==="en"?"You cannot enter a past date":"    "}};return w.jsx(Wr,{sx:{width:"100%"},children:w.jsxs(os,{dateAdapter:Jl,localeText:a==="ua"?nf.components.MuiLocalizationProvider.defaultProps.localeText:dp.components.MuiLocalizationProvider.defaultProps.localeText,adapterLocale:a==="ua"?"uk":"en",children:[w.jsx(pC,{sx:{width:"100%"},label:a==="en"?"Select a date":" ",disablePast:!0,defaultValue:Ye(new Date),format:"DD/MM/YYYY",onChange:d=>o(d.$d.toLocaleDateString()),onError:d=>i(d)}),w.jsx(ts,{sx:{height:30},error:!0,children:u()})]})})}const Ns=t=>{const e=[],n=[];return t.forEach(r=>{r.dateName==="start"?e.push(r):n.push(r)}),{startDate:e,endDate:n}},RR=t=>t.map((e,n)=>n===t.length-1?v({},e,{separator:null}):e),AR=["value","referenceDate"],MR={emptyValue:[null,null],getTodayValue:(t,e,n)=>[Ys(t,e,n),Ys(t,e,n)],getInitialReferenceValue:t=>{let{value:e,referenceDate:n}=t,r=se(t,AR);const o=e[0]!=null&&r.utils.isValid(e[0]),s=e[1]!=null&&r.utils.isValid(e[1]);if(o&&s)return e;const i=n??mp(r);return[o?e[0]:i,s?e[1]:i]},cleanValue:(t,e)=>e.map(n=>fp(t,n)),areValuesEqual:(t,e,n)=>Ga(t,e[0],n[0])&&Ga(t,e[1],n[1]),isSameError:(t,e)=>e!==null&&t[1]===e[1]&&t[0]===e[0],hasError:t=>t[0]!=null||t[1]!=null,defaultErrorState:[null,null],getTimezone:(t,e)=>{const n=e[0]==null||!t.isValid(e[0])?null:t.getTimezone(e[0]),r=e[1]==null||!t.isValid(e[1])?null:t.getTimezone(e[1]);if(n!=null&&r!=null&&n!==r)throw new Error("MUI X: The timezone of the start and the end date should be the same.");return n??r},setTimezone:(t,e,n)=>[n[0]==null?null:t.setTimezone(n[0],e),n[1]==null?null:t.setTimezone(n[1],e)]},kR=({dateSeparator:t=""})=>({updateReferenceValue:(e,n,r)=>{const o=n[0]!=null&&e.isValid(n[0]),s=n[1]!=null&&e.isValid(n[1]);return!o&&!s?r:o&&s?n:o?[n[0],r[0]]:[r[1],n[1]]},getSectionsFromValue:(e,[n,r],o,s)=>{const i=o==null?{startDate:null,endDate:null}:Ns(o),a=(l,c,u)=>{if(!e.isValid(l)&&!!c)return c;const h=s(l);return h.map((p,m)=>m===h.length-1&&u==="start"?v({},p,{dateName:u,endSeparator:`${p.endSeparator} ${t} `}):v({},p,{dateName:u}))};return[...a(n,i.startDate,"start"),...a(r,i.endDate,"end")]},getV7HiddenInputValueFromSections:e=>{const n=Ns(e);return Tp([...n.startDate,...n.endDate])},getV6InputValueFromSections:(e,n,r)=>{const o=Ns(e);return Ep([...o.startDate,...o.endDate],n,r)},parseValueStr:(e,n,r)=>{const[o,s]=e.split(t);return[o,s].map((i,a)=>i==null?null:r(i.trim(),n[a]))},getActiveDateManager:(e,n,r)=>{const o=r.dateName==="start"?0:1,s=(i,a)=>o===0?[i,a[1]]:[a[0],i];return{date:n.value[o],referenceDate:n.referenceValue[o],getSections:i=>{const a=Ns(i);return o===0?RR(a.startDate):a.endDate},getNewValuesFromNewActiveDate:i=>({value:s(i,n.value),referenceValue:i==null||!e.isValid(i)?n.referenceValue:s(i,n.referenceValue)})}}}),VR=(t,e)=>!!(e&&e[0]&&e[1]&&!t.isBefore(e[1],e[0])),OR=({props:t,value:e,adapter:n})=>{const[r,o]=e,s=[id({adapter:n,value:r,props:t}),id({adapter:n,value:o,props:t})];return s[0]||s[1]?s:r===null||o===null?[null,null]:VR(n.utils,e)?[null,null]:["invalidRange","invalidRange"]},$R=t=>{const e=pT(t),{forwardedProps:n,internalProps:r}=Ap(e,"time"),o=y.useMemo(()=>kR({dateSeparator:r.dateSeparator}),[r.dateSeparator]);return Sp({forwardedProps:n,internalProps:r,valueManager:MR,fieldValueManager:o,validator:OR,valueType:"time"})},NR=["slots","slotProps","InputProps","inputProps"],Ng=y.forwardRef(function(e,n){const r=ge({props:e,name:"MuiSingleInputTimeRangeField"}),{slots:o,slotProps:s,InputProps:i,inputProps:a}=r,l=se(r,NR),c=r,u=(o==null?void 0:o.textField)??(e.enableAccessibleFieldDOMStructure?Bp:tp),d=De({elementType:u,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,ownerState:c,additionalProps:{ref:n}});d.inputProps=v({},a,d.inputProps),d.InputProps=v({},i,d.InputProps);const h=$R(d),p=jp(h),m=Mp(v({},p,{slots:o,slotProps:s}));return w.jsx(u,v({},m))});Ng.fieldType="single-input";Lg.propTypes={valueTime:B.string,setValueTime:B.func,setErrorTime:B.func};const pr=Ye(new Date);function Lg({setValueTime:t,setErrorTime:e}){const[n,r]=y.useState([]),{language:o}=y.useContext($n);return y.useEffect(()=>{t("17:00 - 18:30")},[]),y.useEffect(()=>{n[1]||n[0]?e(!0):e(!1)},[e,n]),w.jsx(Wr,{sx:{width:"100%"},children:w.jsxs(os,{dateAdapter:Jl,children:[w.jsx(Ng,{fullWidth:!0,label:o==="en"?"Enter the time":" ",defaultValue:[Ye(`${pr.$y}-${pr.$M+1}-${pr.$D}T17:00`),Ye(`${pr.$y}-${pr.$M+1}-${pr.$D}T18:30`)],onChange:s=>{t(`${s[0].$H.toString().padStart(2,"0")}:${s[0].$m.toString().padStart(2,"0")} - ${s[1].$H.toString().padStart(2,"0")}:${s[1].$m.toString().padStart(2,"0")}`)},onError:s=>r(s),format:"HH:mm"}),w.jsxs(ts,{sx:{height:30,ml:0},error:!0,children:[n[0]," ",n[1]]})]})})}Fg.propTypes={register:B.func,errors:B.object};function Fg({register:t,errors:e}){var r;const{language:n}=y.useContext($n);return w.jsx(w.Fragment,{children:w.jsxs(pi,{sx:{width:"100%",maxWidth:400},children:[w.jsx(fi,{children:n==="en"?"Choose a place":" "}),w.jsxs(xi,{label:n==="en"?"Choose a place":" ",...t("location"),defaultValue:"Zwanenhof",children:[w.jsx(Ya,{value:"Zwanenhof",children:"Zwanenhof"}),w.jsx(Ya,{value:"Maria Mediatrix	",children:"Maria Mediatrix "})]}),w.jsx(ts,{sx:{height:30,ml:0},error:!0,children:(r=e.place)==null?void 0:r.message})]})})}const LR=t=>Ty({location:Ey().required(t==="en"?"Place is required":"  ")}),FR=Y(Wr)`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: 400px;
  background-color: ${({theme:t})=>t.palette.background.paper};
  box-shadow: ${({theme:t})=>t.shadows[11]};
  padding: 50px;
  border-radius: 5px;
`,BR=Y(Wr)`
  position: absolute;
  right: 5px;
  top: 5px;
`,Bg=()=>{const{modeTheme:t}=y.useContext($n),e=Ol("(max-width:480px)");return w.jsx("div",{children:w.jsx(DR,{style:e&&{width:"90%",marginTop:20,marginLeft:20},position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:t})})};Bg.propTypes={text:B.string,status:B.string,notify:B.func};const jR=["","","","","","","","","","","",""],UR=["January","February","March","April","May","June","July","August","September","October","November","December"],zR=t=>t==="en"?UR:jR;jg.propTypes={setSelectMonth:B.func,selectMonth:B.string};function jg({selectMonth:t,setSelectMonth:e}){const{language:n}=y.useContext($n);return w.jsx(Wr,{sx:{maxWidth:400,width:"100%"},children:w.jsxs(pi,{fullWidth:!0,children:[w.jsx(fi,{children:n==="en"?"Select a month":" "}),w.jsx(xi,{value:t,label:n==="en"?"Select a month":" ",onChange:r=>e(r.target.value),children:zR(n).map((r,o)=>w.jsx(Ya,{value:`${o+1}.${new Date().getFullYear()}`,children:r},r))})]})})}const ZR=()=>{const[t,e]=y.useState(`${new Date().getMonth()+1}.${new Date().getFullYear()}`),[n,r]=y.useState(!1),[o,s]=y.useState(!1),[i,a]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState([]),[h,p]=y.useState(""),[m,g]=y.useState(""),[f,b]=y.useState(!1),{language:_}=y.useContext($n);y.useEffect(()=>{Rg("lessonsWithJill",d)},[]),y.useEffect(()=>{(()=>{n||(sessionStorage.getItem("addLesson")?r(!0):r(!1))})()},[i,n]);const{register:T,handleSubmit:E,formState:{errors:I}}=Iy({resolver:Cy(LR(_)),mode:"onBlur"}),D=async C=>{if(o||i)return;d(V=>[...V,{...C,date:h,time:m}]),await gR("lessonsWithJill",{...C,date:h,time:m})&&(Ml("success",_==="en"?"Lesson added successfully":"  "),b(!1))};return w.jsxs(w.Fragment,{children:[w.jsx(Bg,{}),w.jsxs(Wr,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:5,mb:5,gap:2},children:[w.jsx(Kt,{variant:"h5",children:_==="en"?"Schedule of lessons":" "}),w.jsx(rf,{actualSchedule:u}),w.jsx(jg,{selectMonth:t,setSelectMonth:e}),w.jsx(Og,{selectMonth:t,actualSchedule:u,setActualSchedul:d,permission:n}),w.jsx(yr,{onClick:()=>{if(n)return b(!0);sessionStorage.getItem("addLesson")?r(!0):c(!0)},variant:"contained",children:_==="en"?"Add a lesson":" "}),w.jsx(vy,{passwordKey:"5555",sessionKey:"addLesson",closeClickInside:!0,openModal:l,setOpenModal:c,buttonClose:!0}),w.jsx(kl,{open:f,onClose:()=>b(!1),children:w.jsxs(FR,{children:[w.jsx(BR,{children:w.jsx(zr,{onClick:()=>b(!1),children:w.jsx(Eh,{})})}),w.jsxs("form",{style:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:400},onSubmit:E(D),children:[w.jsx(Fg,{errors:I,register:T}),w.jsx($g,{errorDate:o,setErrorDate:s,setValueDate:p}),w.jsx(Lg,{valueTime:m,setValueTime:g,errorTime:i,setErrorTime:a}),w.jsx(yr,{type:"submit",variant:"contained",fullWidth:!0,size:"large",children:_==="en"?"Submit":""})]})]})})]})]})};export{ZR as default};
